var res = {'data':'HTTP/1.1 200 Partial Content\x0aDate: Sun, 20 Sep 2020 15:00:01 GMT\x0aServer: Apache/2.4.29 (Ubuntu)\x0aLast-Modified: Mon, 20 Aug 2018 13:34:25 GMT\x0aETag: \x225836-573ddf7beda40-gzip\x22\x0aAccept-Ranges: bytes\x0aVary: Accept-Encoding\x0aContent-Encoding: gzip\x0aContent-Range: bytes 0-6351/6352\x0aContent-Length: 6352\x0aKeep-Alive: timeout=5, max=87\x0aConnection: Keep-Alive\x0aContent-Type: application/javascript\x0a\x0a\x0a/*\x0a * Quicktags\x0a *\x0a * This is the HTML editor in WordPress. It can be attached to any textarea and will\x0a * append a toolbar above it. This script is self-contained (does not require external libraries).\x0a *\x0a * Run quicktags(settings) to initialize it, where settings is an object containing up to 3 properties:\x0a * settings = {\x0a *   id : \x27my_id\x27,          the HTML ID of the textarea, required\x0a *   buttons: \x27\x27            Comma separated list of the names of the default buttons to show. Optional.\x0a *                          Current list of default button names: \x27strong,em,link,block,del,ins,img,ul,ol,li,code,more,close\x27;\x0a * }\x0a *\x0a * The settings can also be a string quicktags_id.\x0a *\x0a * quicktags_id string The ID of the textarea that will be the editor canvas\x0a * buttons string Comma separated list of the default buttons names that will be shown in that instance.\x0a *\x0a * @output wp-includes/js/quicktags.js\x0a */\x0a\x0a// new edit toolbar used with permission\x0a// by Alex King\x0a// http://www.alexking.org/\x0a\x0a/* global adminpage, wpActiveEditor, quicktagsL10n, wpLink, prompt, edButtons */\x0a\x0awindow.edButtons = [];\x0a\x0a/* jshint ignore:start */\x0a\x0a/**\x0a * Back-compat\x0a *\x0a * Define all former global functions so plugins that hack quicktags.js directly don\x27t cause fatal errors.\x0a */\x0awindow.edAddTag = function(){};\x0awindow.edCheckOpenTags = function(){};\x0awindow.edCloseAllTags = function(){};\x0awindow.edInsertImage = function(){};\x0awindow.edInsertLink = function(){};\x0awindow.edInsertTag = function(){};\x0awindow.edLink = function(){};\x0awindow.edQuickLink = function(){};\x0awindow.edRemoveTag = function(){};\x0awindow.edShowButton = function(){};\x0awindow.edShowLinks = function(){};\x0awindow.edSpell = function(){};\x0awindow.edToolbar = function(){};\x0a\x0a/* jshint ignore:end */\x0a\x0a(function(){\x0a\x09// private stuff is prefixed with an underscore\x0a\x09var _domReady = function(func) {\x0a\x09\x09var t, i, DOMContentLoaded, _tryReady;\x0a\x0a\x09\x09if ( typeof jQuery !== \x27undefined\x27 ) {\x0a\x09\x09\x09jQuery(document).ready(func);\x0a\x09\x09} else {\x0a\x09\x09\x09t = _domReady;\x0a\x09\x09\x09t.funcs = [];\x0a\x0a\x09\x09\x09t.ready = function() {\x0a\x09\x09\x09\x09if ( ! t.isReady ) {\x0a\x09\x09\x09\x09\x09t.isReady = true;\x0a\x09\x09\x09\x09\x09for ( i = 0; i \x3c t.funcs.length; i++ ) {\x0a\x09\x09\x09\x09\x09\x09t.funcs[i]();\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09};\x0a\x0a\x09\x09\x09if ( t.isReady ) {\x0a\x09\x09\x09\x09func();\x0a\x09\x09\x09} else {\x0a\x09\x09\x09\x09t.funcs.push(func);\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09if ( ! t.eventAttached ) {\x0a\x09\x09\x09\x09if ( document.addEventListener ) {\x0a\x09\x09\x09\x09\x09DOMContentLoaded = function(){document.removeEventListener(\x27DOMContentLoaded\x27, DOMContentLoaded, false);t.ready();};\x0a\x09\x09\x09\x09\x09document.addEventListener(\x27DOMContentLoaded\x27, DOMContentLoaded, false);\x0a\x09\x09\x09\x09\x09window.addEventListener(\x27load\x27, t.ready, false);\x0a\x09\x09\x09\x09} else if ( document.attachEvent ) {\x0a\x09\x09\x09\x09\x09DOMContentLoaded = function(){if (document.readyState === \x27complete\x27){ document.detachEvent(\x27onreadystatechange\x27, DOMContentLoaded);t.ready();}};\x0a\x09\x09\x09\x09\x09document.attachEvent(\x27onreadystatechange\x27, DOMContentLoaded);\x0a\x09\x09\x09\x09\x09window.attachEvent(\x27onload\x27, t.ready);\x0a\x0a\x09\x09\x09\x09\x09_tryReady = function() {\x0a\x09\x09\x09\x09\x09\x09try {\x0a\x09\x09\x09\x09\x09\x09\x09document.documentElement.doScroll(\x27left\x27);\x0a\x09\x09\x09\x09\x09\x09} catch(e) {\x0a\x09\x09\x09\x09\x09\x09\x09setTimeout(_tryReady, 50);\x0a\x09\x09\x09\x09\x09\x09\x09return;\x0a\x09\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09\x09t.ready();\x0a\x09\x09\x09\x09\x09};\x0a\x09\x09\x09\x09\x09_tryReady();\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09t.eventAttached = true;\x0a\x09\x09\x09}\x0a\x09\x09}\x0a\x09},\x0a\x0a\x09_datetime = (function() {\x0a\x09\x09var now = new Date(), zeroise;\x0a\x0a\x09\x09zeroise = function(number) {\x0a\x09\x09\x09var str = number.toString();\x0a\x0a\x09\x09\x09if ( str.length \x3c 2 ) {\x0a\x09\x09\x09\x09str = \x270\x27 + str;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return str;\x0a\x09\x09};\x0a\x0a\x09\x09return now.getUTCFullYear() + \x27-\x27 +\x0a\x09\x09\x09zeroise( now.getUTCMonth() + 1 ) + \x27-\x27 +\x0a\x09\x09\x09zeroise( now.getUTCDate() ) + \x27T\x27 +\x0a\x09\x09\x09zeroise( now.getUTCHours() ) + \x27:\x27 +\x0a\x09\x09\x09zeroise( now.getUTCMinutes() ) + \x27:\x27 +\x0a\x09\x09\x09zeroise( now.getUTCSeconds() ) +\x0a\x09\x09\x09\x27+00:00\x27;\x0a\x09})();\x0a\x0a\x09var qt = window.QTags = function(settings) {\x0a\x09\x09if ( typeof(settings) === \x27string\x27 ) {\x0a\x09\x09\x09settings = {id: settings};\x0a\x09\x09} else if ( typeof(settings) !== \x27object\x27 ) {\x0a\x09\x09\x09return false;\x0a\x09\x09}\x0a\x0a\x09\x09var t = this,\x0a\x09\x09\x09id = settings.id,\x0a\x09\x09\x09canvas = document.getElementById(id),\x0a\x09\x09\x09name = \x27qt_\x27 + id,\x0a\x09\x09\x09tb, onclick, toolbar_id, wrap, setActiveEditor;\x0a\x0a\x09\x09if ( !id || !canvas ) {\x0a\x09\x09\x09return false;\x0a\x09\x09}\x0a\x0a\x09\x09t.name = name;\x0a\x09\x09t.id = id;\x0a\x09\x09t.canvas = canvas;\x0a\x09\x09t.settings = settings;\x0a\x0a\x09\x09if ( id === \x27content\x27 && typeof(adminpage) === \x27string\x27 && ( adminpage === \x27post-new-php\x27 || adminpage === \x27post-php\x27 ) ) {\x0a\x09\x09\x09// back compat hack :-(\x0a\x09\x09\x09window.edCanvas = canvas;\x0a\x09\x09\x09toolbar_id = \x27ed_toolbar\x27;\x0a\x09\x09} else {\x0a\x09\x09\x09toolbar_id = name + \x27_toolbar\x27;\x0a\x09\x09}\x0a\x0a\x09\x09tb = document.getElementById( toolbar_id );\x0a\x0a\x09\x09if ( ! tb ) {\x0a\x09\x09\x09tb = document.createElement(\x27div\x27);\x0a\x09\x09\x09tb.id = toolbar_id;\x0a\x09\x09\x09tb.className = \x27quicktags-toolbar\x27;\x0a\x09\x09}\x0a\x0a\x09\x09canvas.parentNode.insertBefore(tb, canvas);\x0a\x09\x09t.toolbar = tb;\x0a\x0a\x09\x09// listen for click events\x0a\x09\x09onclick = function(e) {\x0a\x09\x09\x09e = e || window.event;\x0a\x09\x09\x09var target = e.target || e.srcElement, visible = target.clientWidth || target.offsetWidth, i;\x0a\x0a\x09\x09\x09// don\x27t call the callback on pressing the accesskey when the button is not visible\x0a\x09\x09\x09if ( !visible ) {\x0a\x09\x09\x09\x09return;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09// as long as it has the class ed_button, execute the callback\x0a\x09\x09\x09if ( / ed_button /.test(\x27 \x27 + target.className + \x27 \x27) ) {\x0a\x09\x09\x09\x09// we have to reassign canvas here\x0a\x09\x09\x09\x09t.canvas = canvas = document.getElementById(id);\x0a\x09\x09\x09\x09i = target.id.replace(name + \x27_\x27, \x27\x27);\x0a\x0a\x09\x09\x09\x09if ( t.theButtons[i] ) {\x0a\x09\x09\x09\x09\x09t.theButtons[i].callback.call(t.theButtons[i], target, canvas, t);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}\x0a\x09\x09};\x0a\x0a\x09\x09setActiveEditor = function() {\x0a\x09\x09\x09window.wpActiveEditor = id;\x0a\x09\x09};\x0a\x0a\x09\x09wrap = document.getElementById( \x27wp-\x27 + id + \x27-wrap\x27 );\x0a\x0a\x09\x09if ( tb.addEventListener ) {\x0a\x09\x09\x09tb.addEventListener( \x27click\x27, onclick, false );\x0a\x0a\x09\x09\x09if ( wrap ) {\x0a\x09\x09\x09\x09wrap.addEventListener( \x27click\x27, setActiveEditor, false );\x0a\x09\x09\x09}\x0a\x09\x09} else if ( tb.attachEvent ) {\x0a\x09\x09\x09tb.attachEvent( \x27onclick\x27, onclick );\x0a\x0a\x09\x09\x09if ( wrap ) {\x0a\x09\x09\x09\x09wrap.attachEvent( \x27onclick\x27, setActiveEditor );\x0a\x09\x09\x09}\x0a\x09\x09}\x0a\x0a\x09\x09t.getButton = function(id) {\x0a\x09\x09\x09return t.theButtons[id];\x0a\x09\x09};\x0a\x0a\x09\x09t.getButtonElement = function(id) {\x0a\x09\x09\x09return document.getElementById(name + \x27_\x27 + id);\x0a\x09\x09};\x0a\x0a\x09\x09t.init = function() {\x0a\x09\x09\x09_domReady( function(){ qt._buttonsInit( id ); } );\x0a\x09\x09};\x0a\x0a\x09\x09t.remove = function() {\x0a\x09\x09\x09delete qt.instances[id];\x0a\x0a\x09\x09\x09if ( tb && tb.parentNode ) {\x0a\x09\x09\x09\x09tb.parentNode.removeChild( tb );\x0a\x09\x09\x09}\x0a\x09\x09};\x0a\x0a\x09\x09qt.instances[id] = t;\x0a\x09\x09t.init();\x0a\x09};\x0a\x0a\x09function _escape( text ) {\x0a\x09\x09text = text || \x27\x27;\x0a\x09\x09text = text.replace( /&([^#])(?![a-z1-4]{1,8};)/gi, \x27&#038;$1\x27 );\x0a\x09\x09return text.replace( /\x3c/g, \x27&lt;\x27 ).replace( /\x3e/g, \x27&gt;\x27 ).replace( /\x22/g, \x27&quot;\x27 ).replace( /\x27/g, \x27&#039;\x27 );\x0a\x09}\x0a\x0a\x09qt.instances = {};\x0a\x0a\x09qt.getInstance = function(id) {\x0a\x09\x09return qt.instances[id];\x0a\x09};\x0a\x0a\x09qt._buttonsInit = function( id ) {\x0a\x09\x09var t = this;\x0a\x0a\x09\x09function _init( instanceId ) {\x0a\x09\x09\x09var canvas, name, settings, theButtons, html, ed, id, i, use,\x0a\x09\x09\x09\x09defaults = \x27,strong,em,link,block,del,ins,img,ul,ol,li,code,more,close,\x27;\x0a\x0a\x09\x09\x09ed = t.instances[instanceId];\x0a\x09\x09\x09canvas = ed.canvas;\x0a\x09\x09\x09name = ed.name;\x0a\x09\x09\x09settings = ed.settings;\x0a\x09\x09\x09html = \x27\x27;\x0a\x09\x09\x09theButtons = {};\x0a\x09\x09\x09use = \x27\x27;\x0a\x0a\x09\x09\x09// set buttons\x0a\x09\x09\x09if ( settings.buttons ) {\x0a\x09\x09\x09\x09use = \x27,\x27+settings.buttons+\x27,\x27;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09for ( i in edButtons ) {\x0a\x09\x09\x09\x09if ( ! edButtons[i] ) {\x0a\x09\x09\x09\x09\x09continue;\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09id = edButtons[i].id;\x0a\x09\x09\x09\x09if ( use && defaults.indexOf( \x27,\x27 + id + \x27,\x27 ) !== -1 && use.indexOf( \x27,\x27 + id + \x27,\x27 ) === -1 ) {\x0a\x09\x09\x09\x09\x09continue;\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09if ( ! edButtons[i].instance || edButtons[i].instance === instanceId ) {\x0a\x09\x09\x09\x09\x09theButtons[id] = edButtons[i];\x0a\x0a\x09\x09\x09\x09\x09if ( edButtons[i].html ) {\x0a\x09\x09\x09\x09\x09\x09html += edButtons[i].html( name + \x27_\x27 );\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09if ( use && use.indexOf(\x27,dfw,\x27) !== -1 ) {\x0a\x09\x09\x09\x09theButtons.dfw = new qt.DFWButton();\x0a\x09\x09\x09\x09html += theButtons.dfw.html( name + \x27_\x27 );\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09if ( \x27rtl\x27 === document.getElementsByTagName( \x27html\x27 )[0].dir ) {\x0a\x09\x09\x09\x09theButtons.textdirection = new qt.TextDirectionButton();\x0a\x09\x09\x09\x09html += theButtons.textdirection.html( name + \x27_\x27 );\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09ed.toolbar.innerHTML = html;\x0a\x09\x09\x09ed.theButtons = theButtons;\x0a\x0a\x09\x09\x09if ( typeof jQuery !== \x27undefined\x27 ) {\x0a\x09\x09\x09\x09jQuery( document ).triggerHandler( \x27quicktags-init\x27, [ ed ] );\x0a\x09\x09\x09}\x0a\x09\x09}\x0a\x0a\x09\x09if ( id ) {\x0a\x09\x09\x09_init( id );\x0a\x09\x09} else {\x0a\x09\x09\x09for ( id in t.instances ) {\x0a\x09\x09\x09\x09_init( id );\x0a\x09\x09\x09}\x0a\x09\x09}\x0a\x0a\x09\x09t.buttonsInitDone = true;\x0a\x09};\x0a\x0a\x09/**\x0a\x09 * Main API function for adding a button to Quicktags\x0a\x09 *\x0a\x09 * Adds qt.Button or qt.TagButton depending on the args. The first three args are always required.\x0a\x09 * To be able to add button(s) to Quicktags, your script should be enqueued as dependent\x0a\x09 * on \x22quicktags\x22 and outputted in the footer. If you are echoing JS directly from PHP,\x0a\x09 * use add_action( \x27admin_print_footer_scripts\x27, \x27output_my_js\x27, 100 ) or add_action( \x27wp_footer\x27, \x27output_my_js\x27, 100 )\x0a\x09 *\x0a\x09 * Minimum required to add a button that calls an external function:\x0a\x09 *     QTags.addButton( \x27my_id\x27, \x27my button\x27, my_callback );\x0a\x09 *     function my_callback() { alert(\x27yeah!\x27); }\x0a\x09 *\x0a\x09 * Minimum required to add a button that inserts a tag:\x0a\x09 *     QTags.addButton( \x27my_id\x27, \x27my button\x27, \x27\x3cspan\x3e\x27, \x27\x3c/span\x3e\x27 );\x0a\x09 *     QTags.addButton( \x27my_id2\x27, \x27my button\x27, \x27\x3cbr /\x3e\x27 );\x0a\x09 *\x0a\x09 * @param string id Required. Button HTML ID\x0a\x09 * @param string display Required. Button\x27s value=\x22...\x22\x0a\x09 * @param string|function arg1 Required. Either a starting tag to be inserted like \x22\x3cspan\x3e\x22 or a callback that is executed when the button is clicked.\x0a\x09 * @param string arg2 Optional. Ending tag like \x22\x3c/span\x3e\x22\x0a\x09 * @param string access_key Deprecated Not used\x0a\x09 * @param string title Optional. Button\x27s title=\x22...\x22\x0a\x09 * @param int priority Optional. Number representing the desired position of the button in the toolbar. 1 - 9 = first, 11 - 19 = second, 21 - 29 = third, etc.\x0a\x09 * @param string instance Optional. Limit the button to a specific instance of Quicktags, add to all instances if not present.\x0a\x09 * @param attr object Optional. Used to pass additional attributes. Currently supports `ariaLabel` and `ariaLabelClose` (for \x22close tag\x22 state)\x0a\x09 * @return mixed null or the button object that is needed for back-compat.\x0a\x09 */\x0a\x09qt.addButton = function( id, display, arg1, arg2, access_key, title, priority, instance, attr ) {\x0a\x09\x09var btn;\x0a\x0a\x09\x09if ( !id || !display ) {\x0a\x09\x09\x09return;\x0a\x09\x09}\x0a\x0a\x09\x09priority = priority || 0;\x0a\x09\x09arg2 = arg2 || \x27\x27;\x0a\x09\x09attr = attr || {};\x0a\x0a\x09\x09if ( typeof(arg1) === \x27function\x27 ) {\x0a\x09\x09\x09btn = new qt.Button( id, display, access_key, title, instance, attr );\x0a\x09\x09\x09btn.callback = arg1;\x0a\x09\x09} else if ( typeof(arg1) === \x27string\x27 ) {\x0a\x09\x09\x09btn = new qt.TagButton( id, display, arg1, arg2, access_key, title, instance, attr );\x0a\x09\x09} else {\x0a\x09\x09\x09return;\x0a\x09\x09}\x0a\x0a\x09\x09if ( priority === -1 ) { // back-compat\x0a\x09\x09\x09return btn;\x0a\x09\x09}\x0a\x0a\x09\x09if ( priority \x3e 0 ) {\x0a\x09\x09\x09while ( typeof(edButtons[priority]) !== \x27undefined\x27 ) {\x0a\x09\x09\x09\x09priority++;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09edButtons[priority] = btn;\x0a\x09\x09} else {\x0a\x09\x09\x09edButtons[edButtons.length] = btn;\x0a\x09\x09}\x0a\x0a\x09\x09if ( this.buttonsInitDone ) {\x0a\x09\x09\x09this._buttonsInit(); // add the button HTML to all instances toolbars if addButton() was called too late\x0a\x09\x09}\x0a\x09};\x0a\x0a\x09qt.insertContent = function(content) {\x0a\x09\x09var sel, startPos, endPos, scrollTop, text, canvas = document.getElementById(wpActiveEditor), event;\x0a\x0a\x09\x09if ( !canvas ) {\x0a\x09\x09\x09return false;\x0a\x09\x09}\x0a\x0a\x09\x09if ( document.selection ) { //IE\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09\x09sel = document.selection.createRange();\x0a\x09\x09\x09sel.text = content;\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09} else if ( canvas.selectionStart || canvas.selectionStart === 0 ) { // FF, WebKit, Opera\x0a\x09\x09\x09text = canvas.value;\x0a\x09\x09\x09startPos = canvas.selectionStart;\x0a\x09\x09\x09endPos = canvas.selectionEnd;\x0a\x09\x09\x09scrollTop = canvas.scrollTop;\x0a\x0a\x09\x09\x09canvas.value = text.substring(0, startPos) + content + text.substring(endPos, text.length);\x0a\x0a\x09\x09\x09canvas.selectionStart = startPos + content.length;\x0a\x09\x09\x09canvas.selectionEnd = startPos + content.length;\x0a\x09\x09\x09canvas.scrollTop = scrollTop;\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09} else {\x0a\x09\x09\x09canvas.value += content;\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09}\x0a\x0a\x09\x09if ( document.createEvent ) {\x0a\x09\x09\x09event = document.createEvent( \x27HTMLEvents\x27 );\x0a\x09\x09\x09event.initEvent( \x27change\x27, false, true );\x0a\x09\x09\x09canvas.dispatchEvent( event );\x0a\x09\x09} else if ( canvas.fireEvent ) {\x0a\x09\x09\x09canvas.fireEvent( \x27onchange\x27 );\x0a\x09\x09}\x0a\x0a\x09\x09return true;\x0a\x09};\x0a\x0a\x09// a plain, dumb button\x0a\x09qt.Button = function( id, display, access, title, instance, attr ) {\x0a\x09\x09this.id = id;\x0a\x09\x09this.display = display;\x0a\x09\x09this.access = \x27\x27;\x0a\x09\x09this.title = title || \x27\x27;\x0a\x09\x09this.instance = instance || \x27\x27;\x0a\x09\x09this.attr = attr || {};\x0a\x09};\x0a\x09qt.Button.prototype.html = function(idPrefix) {\x0a\x09\x09var active, on, wp,\x0a\x09\x09\x09title = this.title ? \x27 title=\x22\x27 + _escape( this.title ) + \x27\x22\x27 : \x27\x27,\x0a\x09\x09\x09ariaLabel = this.attr && this.attr.ariaLabel ? \x27 aria-label=\x22\x27 + _escape( this.attr.ariaLabel ) + \x27\x22\x27 : \x27\x27,\x0a\x09\x09\x09val = this.display ? \x27 value=\x22\x27 + _escape( this.display ) + \x27\x22\x27 : \x27\x27,\x0a\x09\x09\x09id = this.id ? \x27 id=\x22\x27 + _escape( idPrefix + this.id ) + \x27\x22\x27 : \x27\x27,\x0a\x09\x09\x09dfw = ( wp = window.wp ) && wp.editor && wp.editor.dfw;\x0a\x0a\x09\x09if ( this.id === \x27fullscreen\x27 ) {\x0a\x09\x09\x09return \x27\x3cbutton type=\x22button\x22\x27 + id + \x27 class=\x22ed_button qt-dfw qt-fullscreen\x22\x27 + title + ariaLabel + \x27\x3e\x3c/button\x3e\x27;\x0a\x09\x09} else if ( this.id === \x27dfw\x27 ) {\x0a\x09\x09\x09active = dfw && dfw.isActive() ? \x27\x27 : \x27 disabled=\x22disabled\x22\x27;\x0a\x09\x09\x09on = dfw && dfw.isOn() ? \x27 active\x27 : \x27\x27;\x0a\x0a\x09\x09\x09return \x27\x3cbutton type=\x22button\x22\x27 + id + \x27 class=\x22ed_button qt-dfw\x27 + on + \x27\x22\x27 + title + ariaLabel + active + \x27\x3e\x3c/button\x3e\x27;\x0a\x09\x09}\x0a\x0a\x09\x09return \x27\x3cinput type=\x22button\x22\x27 + id + \x27 class=\x22ed_button button button-small\x22\x27 + title + ariaLabel + val + \x27 /\x3e\x27;\x0a\x09};\x0a\x09qt.Button.prototype.callback = function(){};\x0a\x0a\x09// a button that inserts HTML tag\x0a\x09qt.TagButton = function( id, display, tagStart, tagEnd, access, title, instance, attr ) {\x0a\x09\x09var t = this;\x0a\x09\x09qt.Button.call( t, id, display, access, title, instance, attr );\x0a\x09\x09t.tagStart = tagStart;\x0a\x09\x09t.tagEnd = tagEnd;\x0a\x09};\x0a\x09qt.TagButton.prototype = new qt.Button();\x0a\x09qt.TagButton.prototype.openTag = function( element, ed ) {\x0a\x09\x09if ( ! ed.openTags ) {\x0a\x09\x09\x09ed.openTags = [];\x0a\x09\x09}\x0a\x0a\x09\x09if ( this.tagEnd ) {\x0a\x09\x09\x09ed.openTags.push( this.id );\x0a\x09\x09\x09element.value = \x27/\x27 + element.value;\x0a\x0a\x09\x09\x09if ( this.attr.ariaLabelClose ) {\x0a\x09\x09\x09\x09element.setAttribute( \x27aria-label\x27, this.attr.ariaLabelClose );\x0a\x09\x09\x09}\x0a\x09\x09}\x0a\x09};\x0a\x09qt.TagButton.prototype.closeTag = function( element, ed ) {\x0a\x09\x09var i = this.isOpen(ed);\x0a\x0a\x09\x09if ( i !== false ) {\x0a\x09\x09\x09ed.openTags.splice( i, 1 );\x0a\x09\x09}\x0a\x0a\x09\x09element.value = this.display;\x0a\x0a\x09\x09if ( this.attr.ariaLabel ) {\x0a\x09\x09\x09element.setAttribute( \x27aria-label\x27, this.attr.ariaLabel );\x0a\x09\x09}\x0a\x09};\x0a\x09// whether a tag is open or not. Returns false if not open, or current open depth of the tag\x0a\x09qt.TagButton.prototype.isOpen = function (ed) {\x0a\x09\x09var t = this, i = 0, ret = false;\x0a\x09\x09if ( ed.openTags ) {\x0a\x09\x09\x09while ( ret === false && i \x3c ed.openTags.length ) {\x0a\x09\x09\x09\x09ret = ed.openTags[i] === t.id ? i : false;\x0a\x09\x09\x09\x09i ++;\x0a\x09\x09\x09}\x0a\x09\x09} else {\x0a\x09\x09\x09ret = false;\x0a\x09\x09}\x0a\x09\x09return ret;\x0a\x09};\x0a\x09qt.TagButton.prototype.callback = function(element, canvas, ed) {\x0a\x09\x09var t = this, startPos, endPos, cursorPos, scrollTop, v = canvas.value, l, r, i, sel, endTag = v ? t.tagEnd : \x27\x27, event;\x0a\x0a\x09\x09if ( document.selection ) { // IE\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09\x09sel = document.selection.createRange();\x0a\x09\x09\x09if ( sel.text.length \x3e 0 ) {\x0a\x09\x09\x09\x09if ( !t.tagEnd ) {\x0a\x09\x09\x09\x09\x09sel.text = sel.text + t.tagStart;\x0a\x09\x09\x09\x09} else {\x0a\x09\x09\x09\x09\x09sel.text = t.tagStart + sel.text + endTag;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09} else {\x0a\x09\x09\x09\x09if ( !t.tagEnd ) {\x0a\x09\x09\x09\x09\x09sel.text = t.tagStart;\x0a\x09\x09\x09\x09} else if ( t.isOpen(ed) === false ) {\x0a\x09\x09\x09\x09\x09sel.text = t.tagStart;\x0a\x09\x09\x09\x09\x09t.openTag(element, ed);\x0a\x09\x09\x09\x09} else {\x0a\x09\x09\x09\x09\x09sel.text = endTag;\x0a\x09\x09\x09\x09\x09t.closeTag(element, ed);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09} else if ( canvas.selectionStart || canvas.selectionStart === 0 ) { // FF, WebKit, Opera\x0a\x09\x09\x09startPos = canvas.selectionStart;\x0a\x09\x09\x09endPos = canvas.selectionEnd;\x0a\x0a\x09\x09\x09if ( startPos \x3c endPos && v.charAt( endPos - 1 ) === \x27\x5cn\x27 ) {\x0a\x09\x09\x09\x09endPos -= 1;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09cursorPos = endPos;\x0a\x09\x09\x09scrollTop = canvas.scrollTop;\x0a\x09\x09\x09l = v.substring(0, startPos); // left of the selection\x0a\x09\x09\x09r = v.substring(endPos, v.length); // right of the selection\x0a\x09\x09\x09i = v.substring(startPos, endPos); // inside the selection\x0a\x09\x09\x09if ( startPos !== endPos ) {\x0a\x09\x09\x09\x09if ( !t.tagEnd ) {\x0a\x09\x09\x09\x09\x09canvas.value = l + i + t.tagStart + r; // insert self closing tags after the selection\x0a\x09\x09\x09\x09\x09cursorPos += t.tagStart.length;\x0a\x09\x09\x09\x09} else {\x0a\x09\x09\x09\x09\x09canvas.value = l + t.tagStart + i + endTag + r;\x0a\x09\x09\x09\x09\x09cursorPos += t.tagStart.length + endTag.length;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09} else {\x0a\x09\x09\x09\x09if ( !t.tagEnd ) {\x0a\x09\x09\x09\x09\x09canvas.value = l + t.tagStart + r;\x0a\x09\x09\x09\x09\x09cursorPos = startPos + t.tagStart.length;\x0a\x09\x09\x09\x09} else if ( t.isOpen(ed) === false ) {\x0a\x09\x09\x09\x09\x09canvas.value = l + t.tagStart + r;\x0a\x09\x09\x09\x09\x09t.openTag(element, ed);\x0a\x09\x09\x09\x09\x09cursorPos = startPos + t.tagStart.length;\x0a\x09\x09\x09\x09} else {\x0a\x09\x09\x09\x09\x09canvas.value = l + endTag + r;\x0a\x09\x09\x09\x09\x09cursorPos = startPos + endTag.length;\x0a\x09\x09\x09\x09\x09t.closeTag(element, ed);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09canvas.selectionStart = cursorPos;\x0a\x09\x09\x09canvas.selectionEnd = cursorPos;\x0a\x09\x09\x09canvas.scrollTop = scrollTop;\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09} else { // other browsers?\x0a\x09\x09\x09if ( !endTag ) {\x0a\x09\x09\x09\x09canvas.value += t.tagStart;\x0a\x09\x09\x09} else if ( t.isOpen(ed) !== false ) {\x0a\x09\x09\x09\x09canvas.value += t.tagStart;\x0a\x09\x09\x09\x09t.openTag(element, ed);\x0a\x09\x09\x09} else {\x0a\x09\x09\x09\x09canvas.value += endTag;\x0a\x09\x09\x09\x09t.closeTag(element, ed);\x0a\x09\x09\x09}\x0a\x09\x09\x09canvas.focus();\x0a\x09\x09}\x0a\x0a\x09\x09if ( document.createEvent ) {\x0a\x09\x09\x09event = document.createEvent( \x27HTMLEvents\x27 );\x0a\x09\x09\x09event.initEvent( \x27change\x27, false, true );\x0a\x09\x09\x09canvas.dispatchEvent( event );\x0a\x09\x09} else if ( canvas.fireEvent ) {\x0a\x09\x09\x09canvas.fireEvent( \x27onchange\x27 );\x0a\x09\x09}\x0a\x09};\x0a\x0a\x09// removed\x0a\x09qt.SpellButton = function() {};\x0a\x0a\x09// the close tags button\x0a\x09qt.CloseButton = function() {\x0a\x09\x09qt.Button.call( this, \x27close\x27, quicktagsL10n.closeTags, \x27\x27, quicktagsL10n.closeAllOpenTags );\x0a\x09};\x0a\x0a\x09qt.CloseButton.prototype = new qt.Button();\x0a\x0a\x09qt._close = function(e, c, ed) {\x0a\x09\x09var button, element, tbo = ed.openTags;\x0a\x0a\x09\x09if ( tbo ) {\x0a\x09\x09\x09while ( tbo.length \x3e 0 ) {\x0a\x09\x09\x09\x09button = ed.getButton(tbo[tbo.length - 1]);\x0a\x09\x09\x09\x09element = document.getElementById(ed.name + \x27_\x27 + button.id);\x0a\x0a\x09\x09\x09\x09if ( e ) {\x0a\x09\x09\x09\x09\x09button.callback.call(button, element, c, ed);\x0a\x09\x09\x09\x09} else {\x0a\x09\x09\x09\x09\x09button.closeTag(element, ed);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}\x0a\x09\x09}\x0a\x09};\x0a\x0a\x09qt.CloseButton.prototype.callback = qt._close;\x0a\x0a\x09qt.closeAllTags = function( editor_id ) {\x0a\x09\x09var ed = this.getInstance( editor_id );\x0a\x0a\x09\x09if ( ed ) {\x0a\x09\x09\x09qt._close( \x27\x27, ed.canvas, ed );\x0a\x09\x09}\x0a\x09};\x0a\x0a\x09// the link button\x0a\x09qt.LinkButton = function() {\x0a\x09\x09var attr = {\x0a\x09\x09\x09ariaLabel: quicktagsL10n.link\x0a\x09\x09};\x0a\x0a\x09\x09qt.TagButton.call( this, \x27link\x27, \x27link\x27, \x27\x27, \x27\x3c/a\x3e\x27, \x27\x27, \x27\x27, \x27\x27, attr );\x0a\x09};\x0a\x09qt.LinkButton.prototype = new qt.TagButton();\x0a\x09qt.LinkButton.prototype.callback = function(e, c, ed, defaultValue) {\x0a\x09\x09var URL, t = this;\x0a\x0a\x09\x09if ( typeof wpLink !== \x27undefined\x27 ) {\x0a\x09\x09\x09wpLink.open( ed.id );\x0a\x09\x09\x09return;\x0a\x09\x09}\x0a\x0a\x09\x09if ( ! defaultValue ) {\x0a\x09\x09\x09defaultValue = \x27http://\x27;\x0a\x09\x09}\x0a\x0a\x09\x09if ( t.isOpen(ed) === false ) {\x0a\x09\x09\x09URL = prompt( quicktagsL10n.enterURL, defaultValue );\x0a\x09\x09\x09if ( URL ) {\x0a\x09\x09\x09\x09t.tagStart = \x27\x3ca href=\x22\x27 + URL + \x27\x22\x3e\x27;\x0a\x09\x09\x09\x09qt.TagButton.prototype.callback.call(t, e, c, ed);\x0a\x09\x09\x09}\x0a\x09\x09} else {\x0a\x09\x09\x09qt.TagButton.prototype.callback.call(t, e, c, ed);\x0a\x09\x09}\x0a\x09};\x0a\x0a\x09// the img button\x0a\x09qt.ImgButton = function() {\x0a\x09\x09var attr = {\x0a\x09\x09\x09ariaLabel: quicktagsL10n.image\x0a\x09\x09};\x0a\x0a\x09\x09qt.TagButton.call( this, \x27img\x27, \x27img\x27, \x27\x27, \x27\x27, \x27\x27, \x27\x27, \x27\x27, attr );\x0a\x09};\x0a\x09qt.ImgButton.prototype = new qt.TagButton();\x0a\x09qt.ImgButton.prototype.callback = function(e, c, ed, defaultValue) {\x0a\x09\x09if ( ! defaultValue ) {\x0a\x09\x09\x09defaultValue = \x27http://\x27;\x0a\x09\x09}\x0a\x09\x09var src = prompt(quicktagsL10n.enterImageURL, defaultValue), alt;\x0a\x09\x09if ( src ) {\x0a\x09\x09\x09alt = prompt(quicktagsL10n.enterImageDescription, \x27\x27);\x0a\x09\x09\x09this.tagStart = \x27\x3cimg src=\x22\x27 + src + \x27\x22 alt=\x22\x27 + alt + \x27\x22 /\x3e\x27;\x0a\x09\x09\x09qt.TagButton.prototype.callback.call(this, e, c, ed);\x0a\x09\x09}\x0a\x09};\x0a\x0a\x09qt.DFWButton = function() {\x0a\x09\x09qt.Button.call( this, \x27dfw\x27, \x27\x27, \x27f\x27, quicktagsL10n.dfw );\x0a\x09};\x0a\x09qt.DFWButton.prototype = new qt.Button();\x0a\x09qt.DFWButton.prototype.callback = function() {\x0a\x09\x09var wp;\x0a\x0a\x09\x09if ( ! ( wp = window.wp ) || ! wp.editor || ! wp.editor.dfw ) {\x0a\x09\x09\x09return;\x0a\x09\x09}\x0a\x0a\x09\x09window.wp.editor.dfw.toggle();\x0a\x09};\x0a\x0a\x09qt.TextDirectionButton = function() {\x0a\x09\x09qt.Button.call( this, \x27textdirection\x27, quicktagsL10n.textdirection, \x27\x27, quicktagsL10n.toggleTextdirection );\x0a\x09};\x0a\x09qt.TextDirectionButton.prototype = new qt.Button();\x0a\x09qt.TextDirectionButton.prototype.callback = function(e, c) {\x0a\x09\x09var isRTL = ( \x27rtl\x27 === document.getElementsByTagName(\x27html\x27)[0].dir ),\x0a\x09\x09\x09currentDirection = c.style.direction;\x0a\x0a\x09\x09if ( ! currentDirection ) {\x0a\x09\x09\x09currentDirection = ( isRTL ) ? \x27rtl\x27 : \x27ltr\x27;\x0a\x09\x09}\x0a\x0a\x09\x09c.style.direction = ( \x27rtl\x27 === currentDirection ) ? \x27ltr\x27 : \x27rtl\x27;\x0a\x09\x09c.focus();\x0a\x09};\x0a\x0a\x09// ensure backward compatibility\x0a\x09edButtons[10]  = new qt.TagButton( \x27strong\x27, \x27b\x27, \x27\x3cstrong\x3e\x27, \x27\x3c/strong\x3e\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.strong, ariaLabelClose: quicktagsL10n.strongClose } );\x0a\x09edButtons[20]  = new qt.TagButton( \x27em\x27, \x27i\x27, \x27\x3cem\x3e\x27, \x27\x3c/em\x3e\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.em, ariaLabelClose: quicktagsL10n.emClose } );\x0a\x09edButtons[30]  = new qt.LinkButton(); // special case\x0a\x09edButtons[40]  = new qt.TagButton( \x27block\x27, \x27b-quote\x27, \x27\x5cn\x5cn\x3cblockquote\x3e\x27, \x27\x3c/blockquote\x3e\x5cn\x5cn\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.blockquote, ariaLabelClose: quicktagsL10n.blockquoteClose } );\x0a\x09edButtons[50]  = new qt.TagButton( \x27del\x27, \x27del\x27, \x27\x3cdel datetime=\x22\x27 + _datetime + \x27\x22\x3e\x27, \x27\x3c/del\x3e\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.del, ariaLabelClose: quicktagsL10n.delClose } );\x0a\x09edButtons[60]  = new qt.TagButton( \x27ins\x27, \x27ins\x27, \x27\x3cins datetime=\x22\x27 + _datetime + \x27\x22\x3e\x27, \x27\x3c/ins\x3e\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.ins, ariaLabelClose: quicktagsL10n.insClose } );\x0a\x09edButtons[70]  = new qt.ImgButton(); // special case\x0a\x09edButtons[80]  = new qt.TagButton( \x27ul\x27, \x27ul\x27, \x27\x3cul\x3e\x5cn\x27, \x27\x3c/ul\x3e\x5cn\x5cn\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.ul, ariaLabelClose: quicktagsL10n.ulClose } );\x0a\x09edButtons[90]  = new qt.TagButton( \x27ol\x27, \x27ol\x27, \x27\x3col\x3e\x5cn\x27, \x27\x3c/ol\x3e\x5cn\x5cn\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.ol, ariaLabelClose: quicktagsL10n.olClose } );\x0a\x09edButtons[100] = new qt.TagButton( \x27li\x27, \x27li\x27, \x27\x5ct\x3cli\x3e\x27, \x27\x3c/li\x3e\x5cn\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.li, ariaLabelClose: quicktagsL10n.liClose } );\x0a\x09edButtons[110] = new qt.TagButton( \x27code\x27, \x27code\x27, \x27\x3ccode\x3e\x27, \x27\x3c/code\x3e\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.code, ariaLabelClose: quicktagsL10n.codeClose } );\x0a\x09edButtons[120] = new qt.TagButton( \x27more\x27, \x27more\x27, \x27\x3c!--more--\x3e\x5cn\x5cn\x27, \x27\x27, \x27\x27, \x27\x27, \x27\x27, { ariaLabel: quicktagsL10n.more } );\x0a\x09edButtons[140] = new qt.CloseButton();\x0a\x0a})();\x0a\x0a/**\x0a * Initialize new instance of the Quicktags editor\x0a */\x0awindow.quicktags = function(settings) {\x0a\x09return new window.QTags(settings);\x0a};\x0a\x0a/**\x0a * Inserts content at the caret in the active editor (textarea)\x0a *\x0a * Added for back compatibility\x0a * @see QTags.insertContent()\x0a */\x0awindow.edInsertContent = function(bah, txt) {\x0a\x09return window.QTags.insertContent(txt);\x0a};\x0a\x0a/**\x0a * Adds a button to all instances of the editor\x0a *\x0a * Added for back compatibility, use QTags.addButton() as it gives more flexibility like type of button, button placement, etc.\x0a * @see QTags.addButton()\x0a */\x0awindow.edButton = function(id, display, tagStart, tagEnd, access) {\x0a\x09return window.QTags.addButton( id, display, tagStart, tagEnd, access, \x27\x27, -1 );\x0a};\x0a'}