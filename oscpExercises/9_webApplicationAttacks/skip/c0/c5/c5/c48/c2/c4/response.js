var res = {'data':'HTTP/1.1 200 OK\x0aDate: Sun, 20 Sep 2020 15:12:22 GMT\x0aServer: Apache/2.4.29 (Ubuntu)\x0aLast-Modified: Wed, 13 Sep 2017 06:08:47 GMT\x0aETag: \x228eec6-5590bfe2679c0-gzip\x22\x0aAccept-Ranges: bytes\x0aVary: Accept-Encoding\x0aContent-Encoding: gzip\x0aKeep-Alive: timeout=5, max=89\x0aConnection: Keep-Alive\x0aTransfer-Encoding: chunked\x0aContent-Type: application/javascript\x0a\x0a/*! This file is auto-generated from CodeMirror - github:codemirror/CodeMirror#ee20357d279bf9edfed0047d3bf2a75b5f0a040f\x0a\x0aCodeMirror, copyright (c) by Marijn Haverbeke and others\x0aDistributed under an MIT license: http://codemirror.net/LICENSE\x0a\x0aThis is CodeMirror (http://codemirror.net), a code editor\x0aimplemented in JavaScript on top of the browser\x27s DOM.\x0a\x0aYou can find some technical background for some of the code below\x0aat http://marijnhaverbeke.nl/blog/#cm-internals .\x0a*/\x0a!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\x22function\x22==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\x22Cannot find module \x27\x22+g+\x22\x27\x22);throw j.code=\x22MODULE_NOT_FOUND\x22,j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\x22function\x22==typeof require&&require,g=0;g\x3cd.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){var b=a.search(f);return b==-1?0:b}function c(a,b,c){return/\x5cbstring\x5cb/.test(a.getTokenTypeAt(g(b.line,0)))&&!/^[\x5c\x27\x5c\x22\x5c`]/.test(c)}function d(a,b){var c=a.getMode();return c.useInnerComments!==!1&&c.innerMode?a.getModeAt(b):c}var e={},f=/[^\x5cs\x5cu00a0]/,g=a.Pos;a.commands.toggleComment=function(a){a.toggleComment()},a.defineExtension(\x22toggleComment\x22,function(a){a||(a=e);for(var b=this,c=1/0,d=this.listSelections(),f=null,h=d.length-1;h\x3e=0;h--){var i=d[h].from(),j=d[h].to();i.line\x3e=c||(j.line\x3e=c&&(j=g(c,0)),c=i.line,null==f?b.uncomment(i,j,a)?f=\x22un\x22:(b.lineComment(i,j,a),f=\x22line\x22):\x22un\x22==f?b.uncomment(i,j,a):b.lineComment(i,j,a))}}),a.defineExtension(\x22lineComment\x22,function(a,h,i){i||(i=e);var j=this,k=d(j,a),l=j.getLine(a.line);if(null!=l&&!c(j,a,l)){var m=i.lineComment||k.lineComment;if(!m)return void((i.blockCommentStart||k.blockCommentStart)&&(i.fullLines=!0,j.blockComment(a,h,i)));var n=Math.min(0!=h.ch||h.line==a.line?h.line+1:h.line,j.lastLine()+1),o=null==i.padding?\x22 \x22:i.padding,p=i.commentBlankLines||a.line==h.line;j.operation(function(){if(i.indent){for(var c=null,d=a.line;d\x3cn;++d){var e=j.getLine(d),h=e.slice(0,b(e));(null==c||c.length\x3eh.length)&&(c=h)}for(var d=a.line;d\x3cn;++d){var e=j.getLine(d),k=c.length;(p||f.test(e))&&(e.slice(0,k)!=c&&(k=b(e)),j.replaceRange(c+m+o,g(d,0),g(d,k)))}}else for(var d=a.line;d\x3cn;++d)(p||f.test(j.getLine(d)))&&j.replaceRange(m+o,g(d,0))})}}),a.defineExtension(\x22blockComment\x22,function(a,b,c){c||(c=e);var h=this,i=d(h,a),j=c.blockCommentStart||i.blockCommentStart,k=c.blockCommentEnd||i.blockCommentEnd;if(!j||!k)return void((c.lineComment||i.lineComment)&&0!=c.fullLines&&h.lineComment(a,b,c));if(!/\x5cbcomment\x5cb/.test(h.getTokenTypeAt(g(a.line,0)))){var l=Math.min(b.line,h.lastLine());l!=a.line&&0==b.ch&&f.test(h.getLine(l))&&--l;var m=null==c.padding?\x22 \x22:c.padding;a.line\x3el||h.operation(function(){if(0!=c.fullLines){var d=f.test(h.getLine(l));h.replaceRange(m+k,g(l)),h.replaceRange(j+m,g(a.line,0));var e=c.blockCommentLead||i.blockCommentLead;if(null!=e)for(var n=a.line+1;n\x3c=l;++n)(n!=l||d)&&h.replaceRange(e+m,g(n,0))}else h.replaceRange(k,b),h.replaceRange(j,a)})}}),a.defineExtension(\x22uncomment\x22,function(a,b,c){c||(c=e);var h,i=this,j=d(i,a),k=Math.min(0!=b.ch||b.line==a.line?b.line:b.line-1,i.lastLine()),l=Math.min(a.line,k),m=c.lineComment||j.lineComment,n=[],o=null==c.padding?\x22 \x22:c.padding;a:if(m){for(var p=l;p\x3c=k;++p){var q=i.getLine(p),r=q.indexOf(m);if(r\x3e-1&&!/comment/.test(i.getTokenTypeAt(g(p,r+1)))&&(r=-1),r==-1&&f.test(q))break a;if(r\x3e-1&&f.test(q.slice(0,r)))break a;n.push(q)}if(i.operation(function(){for(var a=l;a\x3c=k;++a){var b=n[a-l],c=b.indexOf(m),d=c+m.length;c\x3c0||(b.slice(d,d+o.length)==o&&(d+=o.length),h=!0,i.replaceRange(\x22\x22,g(a,c),g(a,d)))}}),h)return!0}var s=c.blockCommentStart||j.blockCommentStart,t=c.blockCommentEnd||j.blockCommentEnd;if(!s||!t)return!1;var u=c.blockCommentLead||j.blockCommentLead,v=i.getLine(l),w=v.indexOf(s);if(w==-1)return!1;var x=k==l?v:i.getLine(k),y=x.indexOf(t,k==l?w+s.length:0);y==-1&&l!=k&&(x=i.getLine(--k),y=x.indexOf(t));var z=g(l,w+1),A=g(k,y+1);if(y==-1||!/comment/.test(i.getTokenTypeAt(z))||!/comment/.test(i.getTokenTypeAt(A))||i.getRange(z,A,\x22\x5cn\x22).indexOf(t)\x3e-1)return!1;var B=v.lastIndexOf(s,a.ch),C=B==-1?-1:v.slice(0,a.ch).indexOf(t,B+s.length);if(B!=-1&&C!=-1&&C+t.length!=a.ch)return!1;C=x.indexOf(t,b.ch);var D=x.slice(b.ch).lastIndexOf(s,C-b.ch);return B=C==-1||D==-1?-1:b.ch+D,(C==-1||B==-1||B==b.ch)&&(i.operation(function(){i.replaceRange(\x22\x22,g(k,y-(o&&x.slice(y-o.length,y)==o?o.length:0)),g(k,y+t.length));var a=w+s.length;if(o&&v.slice(a,a+o.length)==o&&(a+=o.length),i.replaceRange(\x22\x22,g(l,w),g(l,a)),u)for(var b=l+1;b\x3c=k;++b){var c=i.getLine(b),d=c.indexOf(u);if(d!=-1&&!f.test(c.slice(0,d))){var e=d+u.length;o&&c.slice(e,e+o.length)==o&&(e+=o.length),i.replaceRange(\x22\x22,g(b,d),g(b,e))}}}),!0)})})},{\x22../../lib/codemirror\x22:59}],2:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){function b(b){if(b.getOption(\x22disableInput\x22))return a.Pass;for(var d,e=b.listSelections(),f=[],g=0;g\x3ce.length;g++){var h=e[g].head;if(!/\x5cbcomment\x5cb/.test(b.getTokenTypeAt(h)))return a.Pass;var i=b.getModeAt(h);if(d){if(d!=i)return a.Pass}else d=i;var j=null;if(d.blockCommentStart&&d.blockCommentContinue){var k,l=b.getLine(h.line).slice(0,h.ch),m=l.indexOf(d.blockCommentEnd);if(m!=-1&&m==h.ch-d.blockCommentEnd.length);else if((k=l.indexOf(d.blockCommentStart))\x3e-1){if(j=l.slice(0,k),/\x5cS/.test(j)){j=\x22\x22;for(var n=0;n\x3ck;++n)j+=\x22 \x22}}else(k=l.indexOf(d.blockCommentContinue))\x3e-1&&!/\x5cS/.test(l.slice(0,k))&&(j=l.slice(0,k));null!=j&&(j+=d.blockCommentContinue)}if(null==j&&d.lineComment&&c(b)){var l=b.getLine(h.line),k=l.indexOf(d.lineComment);k\x3e-1&&(j=l.slice(0,k),/\x5cS/.test(j)?j=null:j+=d.lineComment+l.slice(k+d.lineComment.length).match(/^\x5cs*/)[0])}if(null==j)return a.Pass;f[g]=\x22\x5cn\x22+j}b.operation(function(){for(var a=e.length-1;a\x3e=0;a--)b.replaceRange(f[a],e[a].from(),e[a].to(),\x22+insert\x22)})}function c(a){var b=a.getOption(\x22continueComments\x22);return!b||\x22object\x22!=typeof b||b.continueLineComment!==!1}for(var d=[\x22clike\x22,\x22css\x22,\x22javascript\x22],e=0;e\x3cd.length;++e)a.extendMode(d[e],{blockCommentContinue:\x22 * \x22});a.defineOption(\x22continueComments\x22,null,function(c,d,e){if(e&&e!=a.Init&&c.removeKeyMap(\x22continueComment\x22),d){var f=\x22Enter\x22;\x22string\x22==typeof d?f=d:\x22object\x22==typeof d&&d.key&&(f=d.key);var g={name:\x22continueComment\x22};g[f]=b,c.addKeyMap(g)}})})},{\x22../../lib/codemirror\x22:59}],3:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){function b(a,b,c){var d,e=a.getWrapperElement();return d=e.appendChild(document.createElement(\x22div\x22)),c?d.className=\x22CodeMirror-dialog CodeMirror-dialog-bottom\x22:d.className=\x22CodeMirror-dialog CodeMirror-dialog-top\x22,\x22string\x22==typeof b?d.innerHTML=b:d.appendChild(b),d}function c(a,b){a.state.currentNotificationClose&&a.state.currentNotificationClose(),a.state.currentNotificationClose=b}a.defineExtension(\x22openDialog\x22,function(d,e,f){function g(a){if(\x22string\x22==typeof a)l.value=a;else{if(j)return;j=!0,i.parentNode.removeChild(i),k.focus(),f.onClose&&f.onClose(i)}}f||(f={}),c(this,null);var h,i=b(this,d,f.bottom),j=!1,k=this,l=i.getElementsByTagName(\x22input\x22)[0];return l?(l.focus(),f.value&&(l.value=f.value,f.selectValueOnOpen!==!1&&l.select()),f.onInput&&a.on(l,\x22input\x22,function(a){f.onInput(a,l.value,g)}),f.onKeyUp&&a.on(l,\x22keyup\x22,function(a){f.onKeyUp(a,l.value,g)}),a.on(l,\x22keydown\x22,function(b){f&&f.onKeyDown&&f.onKeyDown(b,l.value,g)||((27==b.keyCode||f.closeOnEnter!==!1&&13==b.keyCode)&&(l.blur(),a.e_stop(b),g()),13==b.keyCode&&e(l.value,b))}),f.closeOnBlur!==!1&&a.on(l,\x22blur\x22,g)):(h=i.getElementsByTagName(\x22button\x22)[0])&&(a.on(h,\x22click\x22,function(){g(),k.focus()}),f.closeOnBlur!==!1&&a.on(h,\x22blur\x22,g),h.focus()),g}),a.defineExtension(\x22openConfirm\x22,function(d,e,f){function g(){j||(j=!0,h.parentNode.removeChild(h),k.focus())}c(this,null);var h=b(this,d,f&&f.bottom),i=h.getElementsByTagName(\x22button\x22),j=!1,k=this,l=1;i[0].focus();for(var m=0;m\x3ci.length;++m){var n=i[m];!function(b){a.on(n,\x22click\x22,function(c){a.e_preventDefault(c),g(),b&&b(k)})}(e[m]),a.on(n,\x22blur\x22,function(){--l,setTimeout(function(){l\x3c=0&&g()},200)}),a.on(n,\x22focus\x22,function(){++l})}}),a.defineExtension(\x22openNotification\x22,function(d,e){function f(){i||(i=!0,clearTimeout(g),h.parentNode.removeChild(h))}c(this,f);var g,h=b(this,d,e&&e.bottom),i=!1,j=e&&\x22undefined\x22!=typeof e.duration?e.duration:5e3;return a.on(h,\x22click\x22,function(b){a.e_preventDefault(b),f()}),j&&(g=setTimeout(f,j)),f})})},{\x22../../lib/codemirror\x22:59}],4:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,d){function e(){b.display.wrapper.offsetHeight?(c(b,d),b.display.lastWrapHeight!=b.display.wrapper.clientHeight&&b.refresh()):d.timeout=setTimeout(e,d.delay)}d.timeout=setTimeout(e,d.delay),d.hurry=function(){clearTimeout(d.timeout),d.timeout=setTimeout(e,50)},a.on(window,\x22mouseup\x22,d.hurry),a.on(window,\x22keyup\x22,d.hurry)}function c(b,c){clearTimeout(c.timeout),a.off(window,\x22mouseup\x22,c.hurry),a.off(window,\x22keyup\x22,c.hurry)}a.defineOption(\x22autoRefresh\x22,!1,function(a,d){a.state.autoRefresh&&(c(a,a.state.autoRefresh),a.state.autoRefresh=null),d&&0==a.display.wrapper.offsetHeight&&b(a,a.state.autoRefresh={delay:d.delay||250})})})},{\x22../../lib/codemirror\x22:59}],5:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){var b=a.getWrapperElement();a.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:b.style.width,height:b.style.height},b.style.width=\x22\x22,b.style.height=\x22auto\x22,b.className+=\x22 CodeMirror-fullscreen\x22,document.documentElement.style.overflow=\x22hidden\x22,a.refresh()}function c(a){var b=a.getWrapperElement();b.className=b.className.replace(/\x5cs*CodeMirror-fullscreen\x5cb/,\x22\x22),document.documentElement.style.overflow=\x22\x22;var c=a.state.fullScreenRestore;b.style.width=c.width,b.style.height=c.height,window.scrollTo(c.scrollLeft,c.scrollTop),a.refresh()}a.defineOption(\x22fullScreen\x22,!1,function(d,e,f){f==a.Init&&(f=!1),!f!=!e&&(e?b(d):c(d))})})},{\x22../../lib/codemirror\x22:59}],6:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){function b(a,b,c,d){this.cm=a,this.node=b,this.options=c,this.height=d,this.cleared=!1}function c(a){var b=a.getWrapperElement(),c=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,d=parseInt(c.height),e=a.state.panels={setHeight:b.style.height,heightLeft:d,panels:0,wrapper:document.createElement(\x22div\x22)};b.parentNode.insertBefore(e.wrapper,b);var f=a.hasFocus();e.wrapper.appendChild(b),f&&a.focus(),a._setSize=a.setSize,null!=d&&(a.setSize=function(b,c){if(null==c)return this._setSize(b,c);if(e.setHeight=c,\x22number\x22!=typeof c){var f=/^(\x5cd+\x5c.?\x5cd*)px$/.exec(c);f?c=Number(f[1]):(e.wrapper.style.height=c,c=e.wrapper.offsetHeight,e.wrapper.style.height=\x22\x22)}a._setSize(b,e.heightLeft+=c-d),d=c})}function d(a){var b=a.state.panels;a.state.panels=null;var c=a.getWrapperElement();b.wrapper.parentNode.replaceChild(c,b.wrapper),c.style.height=b.setHeight,a.setSize=a._setSize,a.setSize()}function e(a,b){for(var c=b.nextSibling;c;c=c.nextSibling)if(c==a.getWrapperElement())return!0;return!1}a.defineExtension(\x22addPanel\x22,function(a,d){d=d||{},this.state.panels||c(this);var f=this.state.panels,g=f.wrapper,h=this.getWrapperElement();d.after instanceof b&&!d.after.cleared?g.insertBefore(a,d.before.node.nextSibling):d.before instanceof b&&!d.before.cleared?g.insertBefore(a,d.before.node):d.replace instanceof b&&!d.replace.cleared?(g.insertBefore(a,d.replace.node),d.replace.clear()):\x22bottom\x22==d.position?g.appendChild(a):\x22before-bottom\x22==d.position?g.insertBefore(a,h.nextSibling):\x22after-top\x22==d.position?g.insertBefore(a,h):g.insertBefore(a,g.firstChild);var i=d&&d.height||a.offsetHeight;return this._setSize(null,f.heightLeft-=i),f.panels++,d.stable&&e(this,a)&&this.scrollTo(null,this.getScrollInfo().top+i),new b(this,a,d,i)}),b.prototype.clear=function(){if(!this.cleared){this.cleared=!0;var a=this.cm.state.panels;this.cm._setSize(null,a.heightLeft+=this.height),this.options.stable&&e(this.cm,this.node)&&this.cm.scrollTo(null,this.cm.getScrollInfo().top-this.height),a.wrapper.removeChild(this.node),0==--a.panels&&d(this.cm)}},b.prototype.changed=function(a){var b=null==a?this.node.offsetHeight:a,c=this.cm.state.panels;this.cm._setSize(null,c.heightLeft-=b-this.height),this.height=b}})},{\x22../../lib/codemirror\x22:59}],7:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){function b(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),a.state.placeholder=null)}function c(a){b(a);var c=a.state.placeholder=document.createElement(\x22pre\x22);c.style.cssText=\x22height: 0; overflow: visible\x22,c.className=\x22CodeMirror-placeholder\x22;var d=a.getOption(\x22placeholder\x22);\x22string\x22==typeof d&&(d=document.createTextNode(d)),c.appendChild(d),a.display.lineSpace.insertBefore(c,a.display.lineSpace.firstChild)}function d(a){f(a)&&c(a)}function e(a){var d=a.getWrapperElement(),e=f(a);d.className=d.className.replace(\x22 CodeMirror-empty\x22,\x22\x22)+(e?\x22 CodeMirror-empty\x22:\x22\x22),e?c(a):b(a)}function f(a){return 1===a.lineCount()&&\x22\x22===a.getLine(0)}a.defineOption(\x22placeholder\x22,\x22\x22,function(c,f,g){var h=g&&g!=a.Init;if(f&&!h)c.on(\x22blur\x22,d),c.on(\x22change\x22,e),c.on(\x22swapDoc\x22,e),e(c);else if(!f&&h){c.off(\x22blur\x22,d),c.off(\x22change\x22,e),c.off(\x22swapDoc\x22,e),b(c);var i=c.getWrapperElement();i.className=i.className.replace(\x22 CodeMirror-empty\x22,\x22\x22)}f&&!c.hasFocus()&&d(c)})})},{\x22../../lib/codemirror\x22:59}],8:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b){b.state.rulerDiv.textContent=\x22\x22;var c=b.getOption(\x22rulers\x22),d=b.defaultCharWidth(),e=b.charCoords(a.Pos(b.firstLine(),0),\x22div\x22).left;b.state.rulerDiv.style.minHeight=b.display.scroller.offsetHeight+30+\x22px\x22;for(var f=0;f\x3cc.length;f++){var g=document.createElement(\x22div\x22);g.className=\x22CodeMirror-ruler\x22;var h,i=c[f];\x22number\x22==typeof i?h=i:(h=i.column,i.className&&(g.className+=\x22 \x22+i.className),i.color&&(g.style.borderColor=i.color),i.lineStyle&&(g.style.borderLeftStyle=i.lineStyle),i.width&&(g.style.borderLeftWidth=i.width)),g.style.left=e+h*d+\x22px\x22,b.state.rulerDiv.appendChild(g)}}a.defineOption(\x22rulers\x22,!1,function(a,c){a.state.rulerDiv&&(a.state.rulerDiv.parentElement.removeChild(a.state.rulerDiv),a.state.rulerDiv=null,a.off(\x22refresh\x22,b)),c&&c.length&&(a.state.rulerDiv=a.display.lineSpace.parentElement.insertBefore(document.createElement(\x22div\x22),a.display.lineSpace),a.state.rulerDiv.className=\x22CodeMirror-rulers\x22,b(a),a.on(\x22refresh\x22,b))})})},{\x22../../lib/codemirror\x22:59}],9:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){function b(a,b){return\x22pairs\x22==b&&\x22string\x22==typeof a?a:\x22object\x22==typeof a&&null!=a[b]?a[b]:n[b]}function c(a){for(var b=0;b\x3ca.length;b++){var c=a.charAt(b),e=\x22\x27\x22+c+\x22\x27\x22;p[e]||(p[e]=d(c))}}function d(a){return function(b){return i(b,a)}}function e(a){var b=a.state.closeBrackets;if(!b||b.override)return b;var c=a.getModeAt(a.getCursor());return c.closeBrackets||b}function f(c){var d=e(c);if(!d||c.getOption(\x22disableInput\x22))return a.Pass;for(var f=b(d,\x22pairs\x22),g=c.listSelections(),h=0;h\x3cg.length;h++){if(!g[h].empty())return a.Pass;var i=k(c,g[h].head);if(!i||f.indexOf(i)%2!=0)return a.Pass}for(var h=g.length-1;h\x3e=0;h--){var j=g[h].head;c.replaceRange(\x22\x22,o(j.line,j.ch-1),o(j.line,j.ch+1),\x22+delete\x22)}}function g(c){var d=e(c),f=d&&b(d,\x22explode\x22);if(!f||c.getOption(\x22disableInput\x22))return a.Pass;for(var g=c.listSelections(),h=0;h\x3cg.length;h++){if(!g[h].empty())return a.Pass;var i=k(c,g[h].head);if(!i||f.indexOf(i)%2!=0)return a.Pass}c.operation(function(){c.replaceSelection(\x22\x5cn\x5cn\x22,null),c.execCommand(\x22goCharLeft\x22),g=c.listSelections();for(var a=0;a\x3cg.length;a++){var b=g[a].head.line;c.indentLine(b,null,!0),c.indentLine(b+1,null,!0)}})}function h(b){var c=a.cmpPos(b.anchor,b.head)\x3e0;return{anchor:new o(b.anchor.line,b.anchor.ch+(c?-1:1)),head:new o(b.head.line,b.head.ch+(c?1:-1))}}function i(c,d){var f=e(c);if(!f||c.getOption(\x22disableInput\x22))return a.Pass;var g=b(f,\x22pairs\x22),i=g.indexOf(d);if(i==-1)return a.Pass;for(var k,n=b(f,\x22triples\x22),p=g.charAt(i+1)==d,q=c.listSelections(),r=i%2==0,s=0;s\x3cq.length;s++){var t,u=q[s],v=u.head,w=c.getRange(v,o(v.line,v.ch+1));if(r&&!u.empty())t=\x22surround\x22;else if(!p&&r||w!=d)if(p&&v.ch\x3e1&&n.indexOf(d)\x3e=0&&c.getRange(o(v.line,v.ch-2),v)==d+d&&(v.ch\x3c=2||c.getRange(o(v.line,v.ch-3),o(v.line,v.ch-2))!=d))t=\x22addFour\x22;else if(p){if(a.isWordChar(w)||!l(c,v,d))return a.Pass;t=\x22both\x22}else{if(!r||c.getLine(v.line).length!=v.ch&&!j(w,g)&&!/\x5cs/.test(w))return a.Pass;t=\x22both\x22}else t=p&&m(c,v)?\x22both\x22:n.indexOf(d)\x3e=0&&c.getRange(v,o(v.line,v.ch+3))==d+d+d?\x22skipThree\x22:\x22skip\x22;if(k){if(k!=t)return a.Pass}else k=t}var x=i%2?g.charAt(i-1):d,y=i%2?d:g.charAt(i+1);c.operation(function(){if(\x22skip\x22==k)c.execCommand(\x22goCharRight\x22);else if(\x22skipThree\x22==k)for(var a=0;a\x3c3;a++)c.execCommand(\x22goCharRight\x22);else if(\x22surround\x22==k){for(var b=c.getSelections(),a=0;a\x3cb.length;a++)b[a]=x+b[a]+y;c.replaceSelections(b,\x22around\x22),b=c.listSelections().slice();for(var a=0;a\x3cb.length;a++)b[a]=h(b[a]);c.setSelections(b)}else\x22both\x22==k?(c.replaceSelection(x+y,null),c.triggerElectric(x+y),c.execCommand(\x22goCharLeft\x22)):\x22addFour\x22==k&&(c.replaceSelection(x+x+x+x,\x22before\x22),c.execCommand(\x22goCharRight\x22))})}function j(a,b){var c=b.lastIndexOf(a);return c\x3e-1&&c%2==1}function k(a,b){var c=a.getRange(o(b.line,b.ch-1),o(b.line,b.ch+1));return 2==c.length?c:null}function l(b,c,d){var e=b.getLine(c.line),f=b.getTokenAt(c);if(/\x5cbstring2?\x5cb/.test(f.type)||m(b,c))return!1;var g=new a.StringStream(e.slice(0,c.ch)+d+e.slice(c.ch),4);for(g.pos=g.start=f.start;;){var h=b.getMode().token(g,f.state);if(g.pos\x3e=c.ch+1)return/\x5cbstring2?\x5cb/.test(h);g.start=g.pos}}function m(a,b){var c=a.getTokenAt(o(b.line,b.ch+1));return/\x5cbstring/.test(c.type)&&c.start==b.ch}var n={pairs:\x22()[]{}\x27\x27\x5c\x22\x5c\x22\x22,triples:\x22\x22,explode:\x22[]{}\x22},o=a.Pos;a.defineOption(\x22autoCloseBrackets\x22,!1,function(d,e,f){f&&f!=a.Init&&(d.removeKeyMap(p),d.state.closeBrackets=null),e&&(c(b(e,\x22pairs\x22)),d.state.closeBrackets=e,d.addKeyMap(p))});var p={Backspace:f,Enter:g};c(n.pairs+\x22`\x22)})},{\x22../../lib/codemirror\x22:59}],10:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22../fold/xml-fold\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22../fold/xml-fold\x22],d):d(CodeMirror)}(function(a){function b(b){if(b.getOption(\x22disableInput\x22))return a.Pass;for(var c=b.listSelections(),d=[],i=0;i\x3cc.length;i++){if(!c[i].empty())return a.Pass;var j=c[i].head,k=b.getTokenAt(j),l=a.innerMode(b.getMode(),k.state),m=l.state;if(\x22xml\x22!=l.mode.name||!m.tagName)return a.Pass;var n=b.getOption(\x22autoCloseTags\x22),o=\x22html\x22==l.mode.configuration,p=\x22object\x22==typeof n&&n.dontCloseTags||o&&g,q=\x22object\x22==typeof n&&n.indentTags||o&&h,r=m.tagName;k.end\x3ej.ch&&(r=r.slice(0,r.length-k.end+j.ch));var s=r.toLowerCase();if(!r||\x22string\x22==k.type&&(k.end!=j.ch||!/[\x5c\x22\x5c\x27]/.test(k.string.charAt(k.string.length-1))||1==k.string.length)||\x22tag\x22==k.type&&\x22closeTag\x22==m.type||k.string.indexOf(\x22/\x22)==k.string.length-1||p&&e(p,s)\x3e-1||f(b,r,j,m,!0))return a.Pass;var t=q&&e(q,s)\x3e-1;d[i]={indent:t,text:\x22\x3e\x22+(t?\x22\x5cn\x5cn\x22:\x22\x22)+\x22\x3c/\x22+r+\x22\x3e\x22,newPos:t?a.Pos(j.line+1,0):a.Pos(j.line,j.ch+1)}}for(var i=c.length-1;i\x3e=0;i--){var u=d[i];b.replaceRange(u.text,c[i].head,c[i].anchor,\x22+insert\x22);var v=b.listSelections().slice(0);v[i]={head:u.newPos,anchor:u.newPos},b.setSelections(v),u.indent&&(b.indentLine(u.newPos.line,null,!0),b.indentLine(u.newPos.line+1,null,!0))}}function c(b,c){for(var d=b.listSelections(),e=[],g=c?\x22/\x22:\x22\x3c/\x22,h=0;h\x3cd.length;h++){if(!d[h].empty())return a.Pass;var i=d[h].head,j=b.getTokenAt(i),k=a.innerMode(b.getMode(),j.state),l=k.state;if(c&&(\x22string\x22==j.type||\x22\x3c\x22!=j.string.charAt(0)||j.start!=i.ch-1))return a.Pass;var m;if(\x22xml\x22!=k.mode.name)if(\x22htmlmixed\x22==b.getMode().name&&\x22javascript\x22==k.mode.name)m=g+\x22script\x22;else{if(\x22htmlmixed\x22!=b.getMode().name||\x22css\x22!=k.mode.name)return a.Pass;m=g+\x22style\x22}else{if(!l.context||!l.context.tagName||f(b,l.context.tagName,i,l))return a.Pass;m=g+l.context.tagName}\x22\x3e\x22!=b.getLine(i.line).charAt(j.end)&&(m+=\x22\x3e\x22),e[h]=m}b.replaceSelections(e),d=b.listSelections();for(var h=0;h\x3cd.length;h++)(h==d.length-1||d[h].head.line\x3cd[h+1].head.line)&&b.indentLine(d[h].head.line)}function d(b){return b.getOption(\x22disableInput\x22)?a.Pass:c(b,!0)}function e(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c\x3cd;++c)if(a[c]==b)return c;return-1}function f(b,c,d,e,f){if(!a.scanForClosingTag)return!1;var g=Math.min(b.lastLine()+1,d.line+500),h=a.scanForClosingTag(b,d,null,g);if(!h||h.tag!=c)return!1;for(var i=e.context,j=f?1:0;i&&i.tagName==c;i=i.prev)++j;d=h.to;for(var k=1;k\x3cj;k++){var l=a.scanForClosingTag(b,d,null,g);if(!l||l.tag!=c)return!1;d=l.to}return!0}a.defineOption(\x22autoCloseTags\x22,!1,function(c,e,f){if(f!=a.Init&&f&&c.removeKeyMap(\x22autoCloseTags\x22),e){var g={name:\x22autoCloseTags\x22};(\x22object\x22!=typeof e||e.whenClosing)&&(g[\x22\x27/\x27\x22]=function(a){return d(a)}),(\x22object\x22!=typeof e||e.whenOpening)&&(g[\x22\x27\x3e\x27\x22]=function(a){return b(a)}),c.addKeyMap(g)}});var g=[\x22area\x22,\x22base\x22,\x22br\x22,\x22col\x22,\x22command\x22,\x22embed\x22,\x22hr\x22,\x22img\x22,\x22input\x22,\x22keygen\x22,\x22link\x22,\x22meta\x22,\x22param\x22,\x22source\x22,\x22track\x22,\x22wbr\x22],h=[\x22applet\x22,\x22blockquote\x22,\x22body\x22,\x22button\x22,\x22div\x22,\x22dl\x22,\x22fieldset\x22,\x22form\x22,\x22frameset\x22,\x22h1\x22,\x22h2\x22,\x22h3\x22,\x22h4\x22,\x22h5\x22,\x22h6\x22,\x22head\x22,\x22html\x22,\x22iframe\x22,\x22layer\x22,\x22legend\x22,\x22object\x22,\x22ol\x22,\x22p\x22,\x22select\x22,\x22table\x22,\x22ul\x22];a.commands.closeTag=function(a){return c(a)}})},{\x22../../lib/codemirror\x22:59,\x22../fold/xml-fold\x22:21}],11:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;var b=/^(\x5cs*)(\x3e[\x3e ]*|[*+-] \x5c[[x ]\x5c]\x5cs|[*+-]\x5cs|(\x5cd+)([.)]))(\x5cs*)/,c=/^(\x5cs*)(\x3e[\x3e ]*|[*+-] \x5c[[x ]\x5c]|[*+-]|(\x5cd+)[.)])(\x5cs*)$/,d=/[*+-]\x5cs/;a.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption(\x22disableInput\x22))return a.Pass;for(var f=e.listSelections(),g=[],h=0;h\x3cf.length;h++){var i=f[h].head,j=e.getStateAfter(i.line),k=j.list!==!1,l=0!==j.quote,m=e.getLine(i.line),n=b.exec(m);if(!f[h].empty()||!k&&!l||!n)return void e.execCommand(\x22newlineAndIndent\x22);if(c.test(m))/\x3e\x5cs*$/.test(m)||e.replaceRange(\x22\x22,{line:i.line,ch:0},{line:i.line,ch:i.ch+1}),g[h]=\x22\x5cn\x22;else{var o=n[1],p=n[5],q=d.test(n[2])||n[2].indexOf(\x22\x3e\x22)\x3e=0?n[2].replace(\x22x\x22,\x22 \x22):parseInt(n[3],10)+1+n[4];g[h]=\x22\x5cn\x22+o+q+p}}e.replaceSelections(g)}})},{\x22../../lib/codemirror\x22:59}],12:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){function b(a,b,d){var e=a.getLineHandle(b.line),f=b.ch-1,i=d&&d.afterCursor;null==i&&(i=/(^| )cm-fat-cursor($| )/.test(a.getWrapperElement().className));var j=!i&&f\x3e=0&&h[e.text.charAt(f)]||h[e.text.charAt(++f)];if(!j)return null;var k=\x22\x3e\x22==j.charAt(1)?1:-1;if(d&&d.strict&&k\x3e0!=(f==b.ch))return null;var l=a.getTokenTypeAt(g(b.line,f+1)),m=c(a,g(b.line,f+(k\x3e0?1:0)),k,l||null,d);return null==m?null:{from:g(b.line,f),to:m&&m.pos,match:m&&m.ch==j.charAt(0),forward:k\x3e0}}function c(a,b,c,d,e){for(var f=e&&e.maxScanLineLength||1e4,i=e&&e.maxScanLines||1e3,j=[],k=e&&e.bracketRegex?e.bracketRegex:/[(){}[\x5c]]/,l=c\x3e0?Math.min(b.line+i,a.lastLine()+1):Math.max(a.firstLine()-1,b.line-i),m=b.line;m!=l;m+=c){var n=a.getLine(m);if(n){var o=c\x3e0?0:n.length-1,p=c\x3e0?n.length:-1;if(!(n.length\x3ef))for(m==b.line&&(o=b.ch-(c\x3c0?1:0));o!=p;o+=c){var q=n.charAt(o);if(k.test(q)&&(void 0===d||a.getTokenTypeAt(g(m,o+1))==d)){var r=h[q];if(\x22\x3e\x22==r.charAt(1)==c\x3e0)j.push(q);else{if(!j.length)return{pos:g(m,o),ch:q};j.pop()}}}}}return m-c!=(c\x3e0?a.lastLine():a.firstLine())&&null}function d(a,c,d){for(var e=a.state.matchBrackets.maxHighlightLineLength||1e3,h=[],i=a.listSelections(),j=0;j\x3ci.length;j++){var k=i[j].empty()&&b(a,i[j].head,d);if(k&&a.getLine(k.from.line).length\x3c=e){var l=k.match?\x22CodeMirror-matchingbracket\x22:\x22CodeMirror-nonmatchingbracket\x22;h.push(a.markText(k.from,g(k.from.line,k.from.ch+1),{className:l})),k.to&&a.getLine(k.to.line).length\x3c=e&&h.push(a.markText(k.to,g(k.to.line,k.to.ch+1),{className:l}))}}if(h.length){f&&a.state.focused&&a.focus();var m=function(){a.operation(function(){for(var a=0;a\x3ch.length;a++)h[a].clear()})};if(!c)return m;setTimeout(m,800)}}function e(a){a.operation(function(){i&&(i(),i=null),i=d(a,!1,a.state.matchBrackets)})}var f=/MSIE \x5cd/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode\x3c8),g=a.Pos,h={\x22(\x22:\x22)\x3e\x22,\x22)\x22:\x22(\x3c\x22,\x22[\x22:\x22]\x3e\x22,\x22]\x22:\x22[\x3c\x22,\x22{\x22:\x22}\x3e\x22,\x22}\x22:\x22{\x3c\x22},i=null;a.defineOption(\x22matchBrackets\x22,!1,function(b,c,d){d&&d!=a.Init&&(b.off(\x22cursorActivity\x22,e),i&&(i(),i=null)),c&&(b.state.matchBrackets=\x22object\x22==typeof c?c:{},b.on(\x22cursorActivity\x22,e))}),a.defineExtension(\x22matchBrackets\x22,function(){d(this,!0)}),a.defineExtension(\x22findMatchingBracket\x22,function(a,c,d){return(d||\x22boolean\x22==typeof c)&&(d?(d.strict=c,c=d):c=c?{strict:!0}:null),b(this,a,c)}),a.defineExtension(\x22scanForBracket\x22,function(a,b,d,e){return c(this,a,b,d,e)})})},{\x22../../lib/codemirror\x22:59}],13:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22../fold/xml-fold\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22../fold/xml-fold\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){a.state.tagHit&&a.state.tagHit.clear(),a.state.tagOther&&a.state.tagOther.clear(),a.state.tagHit=a.state.tagOther=null}function c(c){c.state.failedTagMatch=!1,c.operation(function(){if(b(c),!c.somethingSelected()){var d=c.getCursor(),e=c.getViewport();e.from=Math.min(e.from,d.line),e.to=Math.max(d.line+1,e.to);var f=a.findMatchingTag(c,d,e);if(f){if(c.state.matchBothTags){var g=\x22open\x22==f.at?f.open:f.close;g&&(c.state.tagHit=c.markText(g.from,g.to,{className:\x22CodeMirror-matchingtag\x22}))}var h=\x22close\x22==f.at?f.open:f.close;h?c.state.tagOther=c.markText(h.from,h.to,{className:\x22CodeMirror-matchingtag\x22}):c.state.failedTagMatch=!0}}})}function d(a){a.state.failedTagMatch&&c(a)}a.defineOption(\x22matchTags\x22,!1,function(e,f,g){g&&g!=a.Init&&(e.off(\x22cursorActivity\x22,c),e.off(\x22viewportChange\x22,d),b(e)),f&&(e.state.matchBothTags=\x22object\x22==typeof f&&f.bothTags,e.on(\x22cursorActivity\x22,c),e.on(\x22viewportChange\x22,d),c(e))}),a.commands.toMatchingTag=function(b){var c=a.findMatchingTag(b,b.getCursor());if(c){var d=\x22close\x22==c.at?c.open:c.close;d&&b.extendSelection(d.to,d.from)}}})},{\x22../../lib/codemirror\x22:59,\x22../fold/xml-fold\x22:21}],14:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){a.defineOption(\x22showTrailingSpace\x22,!1,function(b,c,d){d==a.Init&&(d=!1),d&&!c?b.removeOverlay(\x22trailingspace\x22):!d&&c&&b.addOverlay({token:function(a){for(var b=a.string.length,c=b;c&&/\x5cs/.test(a.string.charAt(c-1));--c);return c\x3ea.pos?(a.pos=c,null):(a.pos=b,\x22trailingspace\x22)},name:\x22trailingspace\x22})})})},{\x22../../lib/codemirror\x22:59}],15:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.registerHelper(\x22fold\x22,\x22brace\x22,function(b,c){function d(d){for(var h=c.ch,i=0;;){var j=h\x3c=0?-1:g.lastIndexOf(d,h-1);if(j!=-1){if(1==i&&j\x3cc.ch)break;if(e=b.getTokenTypeAt(a.Pos(f,j+1)),!/^(comment|string)/.test(e))return j+1;h=j-1}else{if(1==i)break;i=1,h=g.length}}}var e,f=c.line,g=b.getLine(f),h=\x22{\x22,i=\x22}\x22,j=d(\x22{\x22);if(null==j&&(h=\x22[\x22,i=\x22]\x22,j=d(\x22[\x22)),null!=j){var k,l,m=1,n=b.lastLine();a:for(var o=f;o\x3c=n;++o)for(var p=b.getLine(o),q=o==f?j:0;;){var r=p.indexOf(h,q),s=p.indexOf(i,q);if(r\x3c0&&(r=p.length),s\x3c0&&(s=p.length),q=Math.min(r,s),q==p.length)break;if(b.getTokenTypeAt(a.Pos(o,q+1))==e)if(q==r)++m;else if(!--m){k=o,l=q;break a}++q}if(null!=k&&(f!=k||l!=j))return{from:a.Pos(f,j),to:a.Pos(k,l)}}}),a.registerHelper(\x22fold\x22,\x22import\x22,function(b,c){function d(c){if(c\x3cb.firstLine()||c\x3eb.lastLine())return null;var d=b.getTokenAt(a.Pos(c,1));if(/\x5cS/.test(d.string)||(d=b.getTokenAt(a.Pos(c,d.end+1))),\x22keyword\x22!=d.type||\x22import\x22!=d.string)return null;for(var e=c,f=Math.min(b.lastLine(),c+10);e\x3c=f;++e){var g=b.getLine(e),h=g.indexOf(\x22;\x22);if(h!=-1)return{startCh:d.end,end:a.Pos(e,h)}}}var e,f=c.line,g=d(f);if(!g||d(f-1)||(e=d(f-2))&&e.end.line==f-1)return null;for(var h=g.end;;){var i=d(h.line+1);if(null==i)break;h=i.end}return{from:b.clipPos(a.Pos(f,g.startCh+1)),to:h}}),a.registerHelper(\x22fold\x22,\x22include\x22,function(b,c){function d(c){if(c\x3cb.firstLine()||c\x3eb.lastLine())return null;var d=b.getTokenAt(a.Pos(c,1));return/\x5cS/.test(d.string)||(d=b.getTokenAt(a.Pos(c,d.end+1))),\x22meta\x22==d.type&&\x22#include\x22==d.string.slice(0,8)?d.start+8:void 0}var e=c.line,f=d(e);if(null==f||null!=d(e-1))return null;for(var g=e;;){var h=d(g+1);if(null==h)break;++g}return{from:a.Pos(e,f+1),to:b.clipPos(a.Pos(g))}})})},{\x22../../lib/codemirror\x22:59}],16:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.registerGlobalHelper(\x22fold\x22,\x22comment\x22,function(a){return a.blockCommentStart&&a.blockCommentEnd},function(b,c){var d=b.getModeAt(c),e=d.blockCommentStart,f=d.blockCommentEnd;if(e&&f){for(var g,h=c.line,i=b.getLine(h),j=c.ch,k=0;;){var l=j\x3c=0?-1:i.lastIndexOf(e,j-1);if(l!=-1){if(1==k&&l\x3cc.ch)return;if(/comment/.test(b.getTokenTypeAt(a.Pos(h,l+1)))&&(0==l||i.slice(l-f.length,l)==f||!/comment/.test(b.getTokenTypeAt(a.Pos(h,l))))){g=l+e.length;break}j=l-1}else{if(1==k)return;k=1,j=i.length}}var m,n,o=1,p=b.lastLine();a:for(var q=h;q\x3c=p;++q)for(var r=b.getLine(q),s=q==h?g:0;;){var t=r.indexOf(e,s),u=r.indexOf(f,s);if(t\x3c0&&(t=r.length),u\x3c0&&(u=r.length),s=Math.min(t,u),s==r.length)break;if(s==t)++o;else if(!--o){m=q,n=s;break a}++s}if(null!=m&&(h!=m||n!=g))return{from:a.Pos(h,g),to:a.Pos(m,n)}}})})},{\x22../../lib/codemirror\x22:59}],17:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,e,f,g){function h(a){var c=i(b,e);if(!c||c.to.line-c.from.line\x3cj)return null;for(var d=b.findMarksAt(c.from),f=0;f\x3cd.length;++f)if(d[f].__isFold&&\x22fold\x22!==g){if(!a)return null;c.cleared=!0,d[f].clear()}return c}if(f&&f.call){var i=f;f=null}else var i=d(b,f,\x22rangeFinder\x22);\x22number\x22==typeof e&&(e=a.Pos(e,0));var j=d(b,f,\x22minFoldSize\x22),k=h(!0);if(d(b,f,\x22scanUp\x22))for(;!k&&e.line\x3eb.firstLine();)e=a.Pos(e.line-1,0),k=h(!1);if(k&&!k.cleared&&\x22unfold\x22!==g){var l=c(b,f);a.on(l,\x22mousedown\x22,function(b){m.clear(),a.e_preventDefault(b)});var m=b.markText(k.from,k.to,{replacedWith:l,clearOnEnter:d(b,f,\x22clearOnEnter\x22),__isFold:!0});m.on(\x22clear\x22,function(c,d){a.signal(b,\x22unfold\x22,b,c,d)}),a.signal(b,\x22fold\x22,b,k.from,k.to)}}function c(a,b){var c=d(a,b,\x22widget\x22);if(\x22string\x22==typeof c){var e=document.createTextNode(c);c=document.createElement(\x22span\x22),c.appendChild(e),c.className=\x22CodeMirror-foldmarker\x22}else c&&(c=c.cloneNode(!0));return c}function d(a,b,c){if(b&&void 0!==b[c])return b[c];var d=a.options.foldOptions;return d&&void 0!==d[c]?d[c]:e[c]}a.newFoldFunction=function(a,c){return function(d,e){b(d,e,{rangeFinder:a,\x0awidget:c})}},a.defineExtension(\x22foldCode\x22,function(a,c,d){b(this,a,c,d)}),a.defineExtension(\x22isFolded\x22,function(a){for(var b=this.findMarksAt(a),c=0;c\x3cb.length;++c)if(b[c].__isFold)return!0}),a.commands.toggleFold=function(a){a.foldCode(a.getCursor())},a.commands.fold=function(a){a.foldCode(a.getCursor(),null,\x22fold\x22)},a.commands.unfold=function(a){a.foldCode(a.getCursor(),null,\x22unfold\x22)},a.commands.foldAll=function(b){b.operation(function(){for(var c=b.firstLine(),d=b.lastLine();c\x3c=d;c++)b.foldCode(a.Pos(c,0),null,\x22fold\x22)})},a.commands.unfoldAll=function(b){b.operation(function(){for(var c=b.firstLine(),d=b.lastLine();c\x3c=d;c++)b.foldCode(a.Pos(c,0),null,\x22unfold\x22)})},a.registerHelper(\x22fold\x22,\x22combine\x22,function(){var a=Array.prototype.slice.call(arguments,0);return function(b,c){for(var d=0;d\x3ca.length;++d){var e=a[d](b,c);if(e)return e}}}),a.registerHelper(\x22fold\x22,\x22auto\x22,function(a,b){for(var c=a.getHelpers(b,\x22fold\x22),d=0;d\x3cc.length;d++){var e=c[d](a,b);if(e)return e}});var e={rangeFinder:a.fold.auto,widget:\x22\x5cu2194\x22,minFoldSize:0,scanUp:!1,clearOnEnter:!0};a.defineOption(\x22foldOptions\x22,null),a.defineExtension(\x22foldOption\x22,function(a,b){return d(this,a,b)})})},{\x22../../lib/codemirror\x22:59}],18:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22./foldcode\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22./foldcode\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){this.options=a,this.from=this.to=0}function c(a){return a===!0&&(a={}),null==a.gutter&&(a.gutter=\x22CodeMirror-foldgutter\x22),null==a.indicatorOpen&&(a.indicatorOpen=\x22CodeMirror-foldgutter-open\x22),null==a.indicatorFolded&&(a.indicatorFolded=\x22CodeMirror-foldgutter-folded\x22),a}function d(a,b){for(var c=a.findMarks(l(b,0),l(b+1,0)),d=0;d\x3cc.length;++d)if(c[d].__isFold&&c[d].find().from.line==b)return c[d]}function e(a){if(\x22string\x22==typeof a){var b=document.createElement(\x22div\x22);return b.className=a+\x22 CodeMirror-guttermarker-subtle\x22,b}return a.cloneNode(!0)}function f(a,b,c){var f=a.state.foldGutter.options,g=b,h=a.foldOption(f,\x22minFoldSize\x22),i=a.foldOption(f,\x22rangeFinder\x22);a.eachLine(b,c,function(b){var c=null;if(d(a,g))c=e(f.indicatorFolded);else{var j=l(g,0),k=i&&i(a,j);k&&k.to.line-k.from.line\x3e=h&&(c=e(f.indicatorOpen))}a.setGutterMarker(b,f.gutter,c),++g})}function g(a){var b=a.getViewport(),c=a.state.foldGutter;c&&(a.operation(function(){f(a,b.from,b.to)}),c.from=b.from,c.to=b.to)}function h(a,b,c){var e=a.state.foldGutter;if(e){var f=e.options;if(c==f.gutter){var g=d(a,b);g?g.clear():a.foldCode(l(b,0),f.rangeFinder)}}}function i(a){var b=a.state.foldGutter;if(b){var c=b.options;b.from=b.to=0,clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){g(a)},c.foldOnChangeTimeSpan||600)}}function j(a){var b=a.state.foldGutter;if(b){var c=b.options;clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){var c=a.getViewport();b.from==b.to||c.from-b.to\x3e20||b.from-c.to\x3e20?g(a):a.operation(function(){c.from\x3cb.from&&(f(a,c.from,b.from),b.from=c.from),c.to\x3eb.to&&(f(a,b.to,c.to),b.to=c.to)})},c.updateViewportTimeSpan||400)}}function k(a,b){var c=a.state.foldGutter;if(c){var d=b.line;d\x3e=c.from&&d\x3cc.to&&f(a,d,d+1)}}a.defineOption(\x22foldGutter\x22,!1,function(d,e,f){f&&f!=a.Init&&(d.clearGutter(d.state.foldGutter.options.gutter),d.state.foldGutter=null,d.off(\x22gutterClick\x22,h),d.off(\x22change\x22,i),d.off(\x22viewportChange\x22,j),d.off(\x22fold\x22,k),d.off(\x22unfold\x22,k),d.off(\x22swapDoc\x22,i)),e&&(d.state.foldGutter=new b(c(e)),g(d),d.on(\x22gutterClick\x22,h),d.on(\x22change\x22,i),d.on(\x22viewportChange\x22,j),d.on(\x22fold\x22,k),d.on(\x22unfold\x22,k),d.on(\x22swapDoc\x22,i))});var l=a.Pos})},{\x22../../lib/codemirror\x22:59,\x22./foldcode\x22:17}],19:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,c){var d=b.getLine(c),e=d.search(/\x5cS/);return e==-1||/\x5cbcomment\x5cb/.test(b.getTokenTypeAt(a.Pos(c,e+1)))?-1:a.countColumn(d,null,b.getOption(\x22tabSize\x22))}a.registerHelper(\x22fold\x22,\x22indent\x22,function(c,d){var e=b(c,d.line);if(!(e\x3c0)){for(var f=null,g=d.line+1,h=c.lastLine();g\x3c=h;++g){var i=b(c,g);if(i==-1);else{if(!(i\x3ee))break;f=g}}return f?{from:a.Pos(d.line,c.getLine(d.line).length),to:a.Pos(f,c.getLine(f).length)}:void 0}})})},{\x22../../lib/codemirror\x22:59}],20:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.registerHelper(\x22fold\x22,\x22markdown\x22,function(b,c){function d(c){var d=b.getTokenTypeAt(a.Pos(c,0));return d&&/\x5cbheader\x5cb/.test(d)}function e(a,b,c){var e=b&&b.match(/^#+/);return e&&d(a)?e[0].length:(e=c&&c.match(/^[=\x5c-]+\x5cs*$/),e&&d(a+1)?\x22=\x22==c[0]?1:2:f)}var f=100,g=b.getLine(c.line),h=b.getLine(c.line+1),i=e(c.line,g,h);if(i!==f){for(var j=b.lastLine(),k=c.line,l=b.getLine(k+2);k\x3cj&&!(e(k+1,h,l)\x3c=i);)++k,h=l,l=b.getLine(k+2);return{from:a.Pos(c.line,g.length),to:a.Pos(k,b.getLine(k).length)}}})})},{\x22../../lib/codemirror\x22:59}],21:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){return a.line-b.line||a.ch-b.ch}function c(a,b,c,d){this.line=b,this.ch=c,this.cm=a,this.text=a.getLine(b),this.min=d?Math.max(d.from,a.firstLine()):a.firstLine(),this.max=d?Math.min(d.to-1,a.lastLine()):a.lastLine()}function d(a,b){var c=a.cm.getTokenTypeAt(m(a.line,b));return c&&/\x5cbtag\x5cb/.test(c)}function e(a){if(!(a.line\x3e=a.max))return a.ch=0,a.text=a.cm.getLine(++a.line),!0}function f(a){if(!(a.line\x3c=a.min))return a.text=a.cm.getLine(--a.line),a.ch=a.text.length,!0}function g(a){for(;;){var b=a.text.indexOf(\x22\x3e\x22,a.ch);if(b==-1){if(e(a))continue;return}{if(d(a,b+1)){var c=a.text.lastIndexOf(\x22/\x22,b),f=c\x3e-1&&!/\x5cS/.test(a.text.slice(c+1,b));return a.ch=b+1,f?\x22selfClose\x22:\x22regular\x22}a.ch=b+1}}}function h(a){for(;;){var b=a.ch?a.text.lastIndexOf(\x22\x3c\x22,a.ch-1):-1;if(b==-1){if(f(a))continue;return}if(d(a,b+1)){p.lastIndex=b,a.ch=b;var c=p.exec(a.text);if(c&&c.index==b)return c}else a.ch=b}}function i(a){for(;;){p.lastIndex=a.ch;var b=p.exec(a.text);if(!b){if(e(a))continue;return}{if(d(a,b.index+1))return a.ch=b.index+b[0].length,b;a.ch=b.index+1}}}function j(a){for(;;){var b=a.ch?a.text.lastIndexOf(\x22\x3e\x22,a.ch-1):-1;if(b==-1){if(f(a))continue;return}{if(d(a,b+1)){var c=a.text.lastIndexOf(\x22/\x22,b),e=c\x3e-1&&!/\x5cS/.test(a.text.slice(c+1,b));return a.ch=b+1,e?\x22selfClose\x22:\x22regular\x22}a.ch=b}}}function k(a,b){for(var c=[];;){var d,e=i(a),f=a.line,h=a.ch-(e?e[0].length:0);if(!e||!(d=g(a)))return;if(\x22selfClose\x22!=d)if(e[1]){for(var j=c.length-1;j\x3e=0;--j)if(c[j]==e[2]){c.length=j;break}if(j\x3c0&&(!b||b==e[2]))return{tag:e[2],from:m(f,h),to:m(a.line,a.ch)}}else c.push(e[2])}}function l(a,b){for(var c=[];;){var d=j(a);if(!d)return;if(\x22selfClose\x22!=d){var e=a.line,f=a.ch,g=h(a);if(!g)return;if(g[1])c.push(g[2]);else{for(var i=c.length-1;i\x3e=0;--i)if(c[i]==g[2]){c.length=i;break}if(i\x3c0&&(!b||b==g[2]))return{tag:g[2],from:m(a.line,a.ch),to:m(e,f)}}}else h(a)}}var m=a.Pos,n=\x22A-Z_a-z\x5c\x5cu00C0-\x5c\x5cu00D6\x5c\x5cu00D8-\x5c\x5cu00F6\x5c\x5cu00F8-\x5c\x5cu02FF\x5c\x5cu0370-\x5c\x5cu037D\x5c\x5cu037F-\x5c\x5cu1FFF\x5c\x5cu200C-\x5c\x5cu200D\x5c\x5cu2070-\x5c\x5cu218F\x5c\x5cu2C00-\x5c\x5cu2FEF\x5c\x5cu3001-\x5c\x5cuD7FF\x5c\x5cuF900-\x5c\x5cuFDCF\x5c\x5cuFDF0-\x5c\x5cuFFFD\x22,o=n+\x22-:.0-9\x5c\x5cu00B7\x5c\x5cu0300-\x5c\x5cu036F\x5c\x5cu203F-\x5c\x5cu2040\x22,p=new RegExp(\x22\x3c(/?)([\x22+n+\x22][\x22+o+\x22]*)\x22,\x22g\x22);a.registerHelper(\x22fold\x22,\x22xml\x22,function(a,b){for(var d=new c(a,b.line,0);;){var e,f=i(d);if(!f||d.line!=b.line||!(e=g(d)))return;if(!f[1]&&\x22selfClose\x22!=e){var h=m(d.line,d.ch),j=k(d,f[2]);return j&&{from:h,to:j.from}}}}),a.findMatchingTag=function(a,d,e){var f=new c(a,d.line,d.ch,e);if(f.text.indexOf(\x22\x3e\x22)!=-1||f.text.indexOf(\x22\x3c\x22)!=-1){var i=g(f),j=i&&m(f.line,f.ch),n=i&&h(f);if(i&&n&&!(b(f,d)\x3e0)){var o={from:m(f.line,f.ch),to:j,tag:n[2]};return\x22selfClose\x22==i?{open:o,close:null,at:\x22open\x22}:n[1]?{open:l(f,n[2]),close:o,at:\x22close\x22}:(f=new c(a,j.line,j.ch,e),{open:o,close:k(f,n[2]),at:\x22open\x22})}}},a.findEnclosingTag=function(a,b,d,e){for(var f=new c(a,b.line,b.ch,d);;){var g=l(f,e);if(!g)break;var h=new c(a,b.line,b.ch,d),i=k(h,g.tag);if(i)return{open:g,close:i}}},a.scanForClosingTag=function(a,b,d,e){var f=new c(a,b.line,b.ch,e?{from:0,to:e}:null);return k(f,d)}})},{\x22../../lib/codemirror\x22:59}],22:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;var b=/[\x5cw$]+/,c=500;a.registerHelper(\x22hint\x22,\x22anyword\x22,function(d,e){for(var f=e&&e.word||b,g=e&&e.range||c,h=d.getCursor(),i=d.getLine(h.line),j=h.ch,k=j;k&&f.test(i.charAt(k-1));)--k;for(var l=k!=j&&i.slice(k,j),m=e&&e.list||[],n={},o=new RegExp(f.source,\x22g\x22),p=-1;p\x3c=1;p+=2)for(var q=h.line,r=Math.min(Math.max(q+p*g,d.firstLine()),d.lastLine())+p;q!=r;q+=p)for(var s,t=d.getLine(q);s=o.exec(t);)q==h.line&&s[0]===l||l&&0!=s[0].lastIndexOf(l,0)||Object.prototype.hasOwnProperty.call(n,s[0])||(n[s[0]]=!0,m.push(s[0]));return{list:m,from:a.Pos(h.line,k),to:a.Pos(h.line,j)}})})},{\x22../../lib/codemirror\x22:59}],23:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22../../mode/css/css\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22../../mode/css/css\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;var b={link:1,visited:1,active:1,hover:1,focus:1,\x22first-letter\x22:1,\x22first-line\x22:1,\x22first-child\x22:1,before:1,after:1,lang:1};a.registerHelper(\x22hint\x22,\x22css\x22,function(c){function d(a){for(var b in a)j&&0!=b.lastIndexOf(j,0)||l.push(b)}var e=c.getCursor(),f=c.getTokenAt(e),g=a.innerMode(c.getMode(),f.state);if(\x22css\x22==g.mode.name){if(\x22keyword\x22==f.type&&0==\x22!important\x22.indexOf(f.string))return{list:[\x22!important\x22],from:a.Pos(e.line,f.start),to:a.Pos(e.line,f.end)};var h=f.start,i=e.ch,j=f.string.slice(0,i-h);/[^\x5cw$_-]/.test(j)&&(j=\x22\x22,h=i=e.ch);var k=a.resolveMode(\x22text/css\x22),l=[],m=g.state.state;return\x22pseudo\x22==m||\x22variable-3\x22==f.type?d(b):\x22block\x22==m||\x22maybeprop\x22==m?d(k.propertyKeywords):\x22prop\x22==m||\x22parens\x22==m||\x22at\x22==m||\x22params\x22==m?(d(k.valueKeywords),d(k.colorKeywords)):\x22media\x22!=m&&\x22media_parens\x22!=m||(d(k.mediaTypes),d(k.mediaFeatures)),l.length?{list:l,from:a.Pos(e.line,h),to:a.Pos(e.line,i)}:void 0}})})},{\x22../../lib/codemirror\x22:59,\x22../../mode/css/css\x22:61}],24:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22./xml-hint\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22./xml-hint\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){for(var b in l)l.hasOwnProperty(b)&&(a.attrs[b]=l[b])}function c(b,c){var d={schemaInfo:k};if(c)for(var e in c)d[e]=c[e];return a.hint.xml(b,d)}var d=\x22ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu\x22.split(\x22 \x22),e=[\x22_blank\x22,\x22_self\x22,\x22_top\x22,\x22_parent\x22],f=[\x22ascii\x22,\x22utf-8\x22,\x22utf-16\x22,\x22latin1\x22,\x22latin1\x22],g=[\x22get\x22,\x22post\x22,\x22put\x22,\x22delete\x22],h=[\x22application/x-www-form-urlencoded\x22,\x22multipart/form-data\x22,\x22text/plain\x22],i=[\x22all\x22,\x22screen\x22,\x22print\x22,\x22embossed\x22,\x22braille\x22,\x22handheld\x22,\x22print\x22,\x22projection\x22,\x22screen\x22,\x22tty\x22,\x22tv\x22,\x22speech\x22,\x223d-glasses\x22,\x22resolution [\x3e][\x3c][=] [X]\x22,\x22device-aspect-ratio: X/Y\x22,\x22orientation:portrait\x22,\x22orientation:landscape\x22,\x22device-height: [X]\x22,\x22device-width: [X]\x22],j={attrs:{}},k={a:{attrs:{href:null,ping:null,type:null,media:i,target:e,hreflang:d}},abbr:j,acronym:j,address:j,applet:j,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:i,hreflang:d,type:null,shape:[\x22default\x22,\x22rect\x22,\x22circle\x22,\x22poly\x22]}},article:j,aside:j,audio:{attrs:{src:null,mediagroup:null,crossorigin:[\x22anonymous\x22,\x22use-credentials\x22],preload:[\x22none\x22,\x22metadata\x22,\x22auto\x22],autoplay:[\x22\x22,\x22autoplay\x22],loop:[\x22\x22,\x22loop\x22],controls:[\x22\x22,\x22controls\x22]}},b:j,base:{attrs:{href:null,target:e}},basefont:j,bdi:j,bdo:j,big:j,blockquote:{attrs:{cite:null}},body:j,br:j,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:[\x22\x22,\x22autofocus\x22],disabled:[\x22\x22,\x22autofocus\x22],formenctype:h,formmethod:g,formnovalidate:[\x22\x22,\x22novalidate\x22],formtarget:e,type:[\x22submit\x22,\x22reset\x22,\x22button\x22]}},canvas:{attrs:{width:null,height:null}},caption:j,center:j,cite:j,code:j,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:[\x22command\x22,\x22checkbox\x22,\x22radio\x22],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:[\x22\x22,\x22disabled\x22],checked:[\x22\x22,\x22checked\x22]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:[\x22\x22,\x22disabled\x22],multiple:[\x22\x22,\x22multiple\x22]}},datalist:{attrs:{data:null}},dd:j,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:[\x22\x22,\x22open\x22]}},dfn:j,dir:j,div:j,dl:j,dt:j,em:j,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:[\x22\x22,\x22disabled\x22],form:null,name:null}},figcaption:j,figure:j,font:j,footer:j,form:{attrs:{action:null,name:null,\x22accept-charset\x22:f,autocomplete:[\x22on\x22,\x22off\x22],enctype:h,method:g,novalidate:[\x22\x22,\x22novalidate\x22],target:e}},frame:j,frameset:j,h1:j,h2:j,h3:j,h4:j,h5:j,h6:j,head:{attrs:{},children:[\x22title\x22,\x22base\x22,\x22link\x22,\x22style\x22,\x22meta\x22,\x22script\x22,\x22noscript\x22,\x22command\x22]},header:j,hgroup:j,hr:j,html:{attrs:{manifest:null},children:[\x22head\x22,\x22body\x22]},i:j,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:[\x22allow-top-navigation\x22,\x22allow-same-origin\x22,\x22allow-forms\x22,\x22allow-scripts\x22],seamless:[\x22\x22,\x22seamless\x22]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:[\x22anonymous\x22,\x22use-credentials\x22]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:[\x22audio/*\x22,\x22video/*\x22,\x22image/*\x22],autocomplete:[\x22on\x22,\x22off\x22],autofocus:[\x22\x22,\x22autofocus\x22],checked:[\x22\x22,\x22checked\x22],disabled:[\x22\x22,\x22disabled\x22],formenctype:h,formmethod:g,formnovalidate:[\x22\x22,\x22novalidate\x22],formtarget:e,multiple:[\x22\x22,\x22multiple\x22],readonly:[\x22\x22,\x22readonly\x22],required:[\x22\x22,\x22required\x22],type:[\x22hidden\x22,\x22text\x22,\x22search\x22,\x22tel\x22,\x22url\x22,\x22email\x22,\x22password\x22,\x22datetime\x22,\x22date\x22,\x22month\x22,\x22week\x22,\x22time\x22,\x22datetime-local\x22,\x22number\x22,\x22range\x22,\x22color\x22,\x22checkbox\x22,\x22radio\x22,\x22file\x22,\x22submit\x22,\x22image\x22,\x22reset\x22,\x22button\x22]}},ins:{attrs:{cite:null,datetime:null}},kbd:j,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:[\x22\x22,\x22autofocus\x22],disabled:[\x22\x22,\x22disabled\x22],keytype:[\x22RSA\x22]}},label:{attrs:{\x22for\x22:null,form:null}},legend:j,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:d,media:i,sizes:[\x22all\x22,\x2216x16\x22,\x2216x16 32x32\x22,\x2216x16 32x32 64x64\x22]}},map:{attrs:{name:null}},mark:j,menu:{attrs:{label:null,type:[\x22list\x22,\x22context\x22,\x22toolbar\x22]}},meta:{attrs:{content:null,charset:f,name:[\x22viewport\x22,\x22application-name\x22,\x22author\x22,\x22description\x22,\x22generator\x22,\x22keywords\x22],\x22http-equiv\x22:[\x22content-language\x22,\x22content-type\x22,\x22default-style\x22,\x22refresh\x22]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:j,noframes:j,noscript:j,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:[\x22\x22,\x22typemustmatch\x22]}},ol:{attrs:{reversed:[\x22\x22,\x22reversed\x22],start:null,type:[\x221\x22,\x22a\x22,\x22A\x22,\x22i\x22,\x22I\x22]}},optgroup:{attrs:{disabled:[\x22\x22,\x22disabled\x22],label:null}},option:{attrs:{disabled:[\x22\x22,\x22disabled\x22],label:null,selected:[\x22\x22,\x22selected\x22],value:null}},output:{attrs:{\x22for\x22:null,form:null,name:null}},p:j,param:{attrs:{name:null,value:null}},pre:j,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:j,rt:j,ruby:j,s:j,samp:j,script:{attrs:{type:[\x22text/javascript\x22],src:null,async:[\x22\x22,\x22async\x22],defer:[\x22\x22,\x22defer\x22],charset:f}},section:j,select:{attrs:{form:null,name:null,size:null,autofocus:[\x22\x22,\x22autofocus\x22],disabled:[\x22\x22,\x22disabled\x22],multiple:[\x22\x22,\x22multiple\x22]}},small:j,source:{attrs:{src:null,type:null,media:null}},span:j,strike:j,strong:j,style:{attrs:{type:[\x22text/css\x22],media:i,scoped:null}},sub:j,summary:j,sup:j,table:j,tbody:j,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:[\x22\x22,\x22autofocus\x22],disabled:[\x22\x22,\x22disabled\x22],readonly:[\x22\x22,\x22readonly\x22],required:[\x22\x22,\x22required\x22],wrap:[\x22soft\x22,\x22hard\x22]}},tfoot:j,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:[\x22row\x22,\x22col\x22,\x22rowgroup\x22,\x22colgroup\x22]}},thead:j,time:{attrs:{datetime:null}},title:j,tr:j,track:{attrs:{src:null,label:null,\x22default\x22:null,kind:[\x22subtitles\x22,\x22captions\x22,\x22descriptions\x22,\x22chapters\x22,\x22metadata\x22],srclang:d}},tt:j,u:j,ul:j,\x22var\x22:j,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:[\x22anonymous\x22,\x22use-credentials\x22],preload:[\x22auto\x22,\x22metadata\x22,\x22none\x22],autoplay:[\x22\x22,\x22autoplay\x22],mediagroup:[\x22movie\x22],muted:[\x22\x22,\x22muted\x22],controls:[\x22\x22,\x22controls\x22]}},wbr:j},l={accesskey:[\x22a\x22,\x22b\x22,\x22c\x22,\x22d\x22,\x22e\x22,\x22f\x22,\x22g\x22,\x22h\x22,\x22i\x22,\x22j\x22,\x22k\x22,\x22l\x22,\x22m\x22,\x22n\x22,\x22o\x22,\x22p\x22,\x22q\x22,\x22r\x22,\x22s\x22,\x22t\x22,\x22u\x22,\x22v\x22,\x22w\x22,\x22x\x22,\x22y\x22,\x22z\x22,\x220\x22,\x221\x22,\x222\x22,\x223\x22,\x224\x22,\x225\x22,\x226\x22,\x227\x22,\x228\x22,\x229\x22],\x22class\x22:null,contenteditable:[\x22true\x22,\x22false\x22],contextmenu:null,dir:[\x22ltr\x22,\x22rtl\x22,\x22auto\x22],draggable:[\x22true\x22,\x22false\x22,\x22auto\x22],dropzone:[\x22copy\x22,\x22move\x22,\x22link\x22,\x22string:\x22,\x22file:\x22],hidden:[\x22hidden\x22],id:null,inert:[\x22inert\x22],itemid:null,itemprop:null,itemref:null,itemscope:[\x22itemscope\x22],itemtype:null,lang:[\x22en\x22,\x22es\x22],spellcheck:[\x22true\x22,\x22false\x22],style:null,tabindex:[\x221\x22,\x222\x22,\x223\x22,\x224\x22,\x225\x22,\x226\x22,\x227\x22,\x228\x22,\x229\x22],title:null,translate:[\x22yes\x22,\x22no\x22],onclick:null,rel:[\x22stylesheet\x22,\x22alternate\x22,\x22author\x22,\x22bookmark\x22,\x22help\x22,\x22license\x22,\x22next\x22,\x22nofollow\x22,\x22noreferrer\x22,\x22prefetch\x22,\x22prev\x22,\x22search\x22,\x22tag\x22]};b(j);for(var m in k)k.hasOwnProperty(m)&&k[m]!=j&&b(k[m]);a.htmlSchema=k,a.registerHelper(\x22hint\x22,\x22html\x22,c)})},{\x22../../lib/codemirror\x22:59,\x22./xml-hint\x22:28}],25:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){function b(a,b){for(var c=0,d=a.length;c\x3cd;++c)b(a[c])}function c(a,b){if(!Array.prototype.indexOf){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}return a.indexOf(b)!=-1}function d(b,c,d,e){var f=b.getCursor(),g=d(b,f);if(!/\x5cb(?:string|comment)\x5cb/.test(g.type)){g.state=a.innerMode(b.getMode(),g.state).state,/^[\x5cw$_]*$/.test(g.string)?g.end\x3ef.ch&&(g.end=f.ch,g.string=g.string.slice(0,f.ch-g.start)):g={start:f.ch,end:f.ch,string:\x22\x22,state:g.state,type:\x22.\x22==g.string?\x22property\x22:null};for(var h=g;\x22property\x22==h.type;){if(h=d(b,j(f.line,h.start)),\x22.\x22!=h.string)return;if(h=d(b,j(f.line,h.start)),!k)var k=[];k.push(h)}return{list:i(g,k,c,e),from:j(f.line,g.start),to:j(f.line,g.end)}}}function e(a,b){return d(a,n,function(a,b){return a.getTokenAt(b)},b)}function f(a,b){var c=a.getTokenAt(b);return b.ch==c.start+1&&\x22.\x22==c.string.charAt(0)?(c.end=c.start,c.string=\x22.\x22,c.type=\x22property\x22):/^\x5c.[\x5cw$_]*$/.test(c.string)&&(c.type=\x22property\x22,c.start++,c.string=c.string.replace(/\x5c./,\x22\x22)),c}function g(a,b){return d(a,o,f,b)}function h(a,b){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var c=a;c;c=Object.getPrototypeOf(c))Object.getOwnPropertyNames(c).forEach(b);else for(var d in a)b(d)}function i(a,d,e,f){function g(a){0!=a.lastIndexOf(n,0)||c(j,a)||j.push(a)}function i(a){\x22string\x22==typeof a?b(k,g):a instanceof Array?b(l,g):a instanceof Function&&b(m,g),h(a,g)}var j=[],n=a.string,o=f&&f.globalScope||window;if(d&&d.length){var p,q=d.pop();for(q.type&&0===q.type.indexOf(\x22variable\x22)?(f&&f.additionalContext&&(p=f.additionalContext[q.string]),f&&f.useGlobalScope===!1||(p=p||o[q.string])):\x22string\x22==q.type?p=\x22\x22:\x22atom\x22==q.type?p=1:\x22function\x22==q.type&&(null==o.jQuery||\x22$\x22!=q.string&&\x22jQuery\x22!=q.string||\x22function\x22!=typeof o.jQuery?null!=o._&&\x22_\x22==q.string&&\x22function\x22==typeof o._&&(p=o._()):p=o.jQuery());null!=p&&d.length;)p=p[d.pop().string];null!=p&&i(p)}else{for(var r=a.state.localVars;r;r=r.next)g(r.name);for(var r=a.state.globalVars;r;r=r.next)g(r.name);f&&f.useGlobalScope===!1||i(o),b(e,g)}return j}var j=a.Pos;a.registerHelper(\x22hint\x22,\x22javascript\x22,e),a.registerHelper(\x22hint\x22,\x22coffeescript\x22,g);var k=\x22charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search\x22.split(\x22 \x22),l=\x22length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight \x22.split(\x22 \x22),m=\x22prototype apply call bind\x22.split(\x22 \x22),n=\x22break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with\x22.split(\x22 \x22),o=\x22and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\x22.split(\x22 \x22)})},{\x22../../lib/codemirror\x22:59}],26:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){this.cm=a,this.options=b,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor(\x22start\x22),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var c=this;a.on(\x22cursorActivity\x22,this.activityFunc=function(){c.cursorActivity()})}function c(b,c){var d=a.cmpPos(c.from,b.from);return d\x3e0&&b.to.ch-b.from.ch!=c.to.ch-c.from.ch}function d(a,b,c){var d=a.options.hintOptions,e={};for(var f in p)e[f]=p[f];if(d)for(var f in d)void 0!==d[f]&&(e[f]=d[f]);if(c)for(var f in c)void 0!==c[f]&&(e[f]=c[f]);return e.hint.resolve&&(e.hint=e.hint.resolve(a,b)),e}function e(a){return\x22string\x22==typeof a?a:a.text}function f(a,b){function c(a,c){var e;e=\x22string\x22!=typeof c?function(a){return c(a,b)}:d.hasOwnProperty(c)?d[c]:c,f[a]=e}var d={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(-b.menuSize()+1,!0)},PageDown:function(){b.moveFocus(b.menuSize()-1,!0)},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length-1)},Enter:b.pick,Tab:b.pick,Esc:b.close},e=a.options.customKeys,f=e?{}:d;if(e)for(var g in e)e.hasOwnProperty(g)&&c(g,e[g]);var h=a.options.extraKeys;if(h)for(var g in h)h.hasOwnProperty(g)&&c(g,h[g]);return f}function g(a,b){for(;b&&b!=a;){if(\x22LI\x22===b.nodeName.toUpperCase()&&b.parentNode==a)return b;b=b.parentNode}}function h(b,c){this.completion=b,this.data=c,this.picked=!1;var d=this,h=b.cm,i=this.hints=document.createElement(\x22ul\x22);i.className=\x22CodeMirror-hints\x22,this.selectedHint=c.selectedHint||0;for(var j=c.list,k=0;k\x3cj.length;++k){var n=i.appendChild(document.createElement(\x22li\x22)),o=j[k],p=l+(k!=this.selectedHint?\x22\x22:\x22 \x22+m);null!=o.className&&(p=o.className+\x22 \x22+p),n.className=p,o.render?o.render(n,c,o):n.appendChild(document.createTextNode(o.displayText||e(o))),n.hintId=k}var q=h.cursorCoords(b.options.alignWithWord?c.from:null),r=q.left,s=q.bottom,t=!0;i.style.left=r+\x22px\x22,i.style.top=s+\x22px\x22;var u=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),v=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(b.options.container||document.body).appendChild(i);var w=i.getBoundingClientRect(),x=w.bottom-v,y=i.scrollHeight\x3ei.clientHeight+1,z=h.getScrollInfo();if(x\x3e0){var A=w.bottom-w.top,B=q.top-(q.bottom-w.top);if(B-A\x3e0)i.style.top=(s=q.top-A)+\x22px\x22,t=!1;else if(A\x3ev){i.style.height=v-5+\x22px\x22,i.style.top=(s=q.bottom-w.top)+\x22px\x22;var C=h.getCursor();c.from.ch!=C.ch&&(q=h.cursorCoords(C),i.style.left=(r=q.left)+\x22px\x22,w=i.getBoundingClientRect())}}var D=w.right-u;if(D\x3e0&&(w.right-w.left\x3eu&&(i.style.width=u-5+\x22px\x22,D-=w.right-w.left-u),i.style.left=(r=q.left-D)+\x22px\x22),y)for(var E=i.firstChild;E;E=E.nextSibling)E.style.paddingRight=h.display.nativeBarWidth+\x22px\x22;if(h.addKeyMap(this.keyMap=f(b,{moveFocus:function(a,b){d.changeActive(d.selectedHint+a,b)},setFocus:function(a){d.changeActive(a)},menuSize:function(){return d.screenAmount()},length:j.length,close:function(){b.close()},pick:function(){d.pick()},data:c})),b.options.closeOnUnfocus){var F;h.on(\x22blur\x22,this.onBlur=function(){F=setTimeout(function(){b.close()},100)}),h.on(\x22focus\x22,this.onFocus=function(){clearTimeout(F)})}return h.on(\x22scroll\x22,this.onScroll=function(){var a=h.getScrollInfo(),c=h.getWrapperElement().getBoundingClientRect(),d=s+z.top-a.top,e=d-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return t||(e+=i.offsetHeight),e\x3c=c.top||e\x3e=c.bottom?b.close():(i.style.top=d+\x22px\x22,void(i.style.left=r+z.left-a.left+\x22px\x22))}),a.on(i,\x22dblclick\x22,function(a){var b=g(i,a.target||a.srcElement);b&&null!=b.hintId&&(d.changeActive(b.hintId),d.pick())}),a.on(i,\x22click\x22,function(a){var c=g(i,a.target||a.srcElement);c&&null!=c.hintId&&(d.changeActive(c.hintId),b.options.completeOnSingleClick&&d.pick())}),a.on(i,\x22mousedown\x22,function(){setTimeout(function(){h.focus()},20)}),a.signal(c,\x22select\x22,j[this.selectedHint],i.childNodes[this.selectedHint]),!0}function i(a,b){if(!a.somethingSelected())return b;for(var c=[],d=0;d\x3cb.length;d++)b[d].supportsSelection&&c.push(b[d]);return c}function j(a,b,c,d){if(a.async)a(b,d,c);else{var e=a(b,c);e&&e.then?e.then(d):d(e)}}function k(b,c){var d,e=b.getHelpers(c,\x22hint\x22);if(e.length){var f=function(a,b,c){function d(e){return e==f.length?b(null):void j(f[e],a,c,function(a){a&&a.list.length\x3e0?b(a):d(e+1)})}var f=i(a,e);d(0)};return f.async=!0,f.supportsSelection=!0,f}return(d=b.getHelper(b.getCursor(),\x22hintWords\x22))?function(b){return a.hint.fromList(b,{words:d})}:a.hint.anyword?function(b,c){return a.hint.anyword(b,c)}:function(){}}var l=\x22CodeMirror-hint\x22,m=\x22CodeMirror-hint-active\x22;a.showHint=function(a,b,c){if(!b)return a.showHint(c);c&&c.async&&(b.async=!0);var d={hint:b};if(c)for(var e in c)d[e]=c[e];return a.showHint(d)},a.defineExtension(\x22showHint\x22,function(c){c=d(this,this.getCursor(\x22start\x22),c);var e=this.listSelections();if(!(e.length\x3e1)){if(this.somethingSelected()){if(!c.hint.supportsSelection)return;for(var f=0;f\x3ce.length;f++)if(e[f].head.line!=e[f].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var g=this.state.completionActive=new b(this,c);g.options.hint&&(a.signal(this,\x22startCompletion\x22,this),g.update(!0))}});var n=window.requestAnimationFrame||function(a){return setTimeout(a,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;b.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off(\x22cursorActivity\x22,this.activityFunc),this.widget&&this.data&&a.signal(this.data,\x22close\x22),this.widget&&this.widget.close(),a.signal(this.cm,\x22endCompletion\x22,this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(b,c){var d=b.list[c];d.hint?d.hint(this.cm,b,d):this.cm.replaceRange(e(d),d.from||b.from,d.to||b.to,\x22complete\x22),a.signal(b,\x22pick\x22,d),this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var a=this.cm.getCursor(),b=this.cm.getLine(a.line);if(a.line!=this.startPos.line||b.length-a.ch!=this.startLen-this.startPos.ch||a.ch\x3cthis.startPos.ch||this.cm.somethingSelected()||a.ch&&this.options.closeCharacters.test(b.charAt(a.ch-1)))this.close();else{var c=this;this.debounce=n(function(){c.update()}),this.widget&&this.widget.disable()}},update:function(a){if(null!=this.tick){var b=this,c=++this.tick;j(this.options.hint,this.cm,this.options,function(d){b.tick==c&&b.finishUpdate(d,a)})}},finishUpdate:function(b,d){this.data&&a.signal(this.data,\x22update\x22);var e=this.widget&&this.widget.picked||d&&this.options.completeSingle;this.widget&&this.widget.close(),b&&this.data&&c(this.data,b)||(this.data=b,b&&b.list.length&&(e&&1==b.list.length?this.pick(b,0):(this.widget=new h(this,b),a.signal(b,\x22shown\x22))))}},h.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;this.completion.options.closeOnUnfocus&&(a.off(\x22blur\x22,this.onBlur),a.off(\x22focus\x22,this.onFocus)),a.off(\x22scroll\x22,this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var a=this;this.keyMap={Enter:function(){a.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(b,c){if(b\x3e=this.data.list.length?b=c?this.data.list.length-1:0:b\x3c0&&(b=c?0:this.data.list.length-1),this.selectedHint!=b){var d=this.hints.childNodes[this.selectedHint];d.className=d.className.replace(\x22 \x22+m,\x22\x22),d=this.hints.childNodes[this.selectedHint=b],d.className+=\x22 \x22+m,d.offsetTop\x3cthis.hints.scrollTop?this.hints.scrollTop=d.offsetTop-3:d.offsetTop+d.offsetHeight\x3ethis.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=d.offsetTop+d.offsetHeight-this.hints.clientHeight+3),a.signal(this.data,\x22select\x22,this.data.list[this.selectedHint],d)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},a.registerHelper(\x22hint\x22,\x22auto\x22,{resolve:k}),a.registerHelper(\x22hint\x22,\x22fromList\x22,function(b,c){var d=b.getCursor(),e=b.getTokenAt(d),f=a.Pos(d.line,e.end);if(e.string&&/\x5cw/.test(e.string[e.string.length-1]))var g=e.string,h=a.Pos(d.line,e.start);else var g=\x22\x22,h=f;for(var i=[],j=0;j\x3cc.words.length;j++){var k=c.words[j];k.slice(0,g.length)==g&&i.push(k)}if(i.length)return{list:i,from:h,to:f}}),a.commands.autocomplete=a.showHint;var p={hint:a.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\x5cs()\x5c[\x5c]{};:\x3e,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};a.defineOption(\x22hintOptions\x22,null)})},{\x22../../lib/codemirror\x22:59}],27:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22../../mode/sql/sql\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22../../mode/sql/sql\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){return\x22[object Array]\x22==Object.prototype.toString.call(a)}function c(b){var c=b.doc.modeOption;return\x22sql\x22===c&&(c=\x22text/x-sql\x22),a.resolveMode(c).keywords}function d(b){var c=b.doc.modeOption;return\x22sql\x22===c&&(c=\x22text/x-sql\x22),a.resolveMode(c).identifierQuote||\x22`\x22}function e(a){return\x22string\x22==typeof a?a:a.text}function f(a,c){return b(c)&&(c={columns:c}),c.text||(c.text=a),c}function g(a){var c={};if(b(a))for(var d=a.length-1;d\x3e=0;d--){var g=a[d];c[e(g).toUpperCase()]=f(e(g),g)}else if(a)for(var h in a)c[h.toUpperCase()]=f(h,a[h]);return c}function h(a){return q[a.toUpperCase()]}function i(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function j(a,b){var c=a.length,d=e(b).substr(0,c);return a.toUpperCase()===d.toUpperCase()}function k(a,c,d,e){if(b(d))for(var f=0;f\x3cd.length;f++)j(c,d[f])&&a.push(e(d[f]));else for(var g in d)if(d.hasOwnProperty(g)){var h=d[g];h=h&&h!==!0?h.displayText?{text:h.text,displayText:h.displayText}:h.text:g,j(c,h)&&a.push(e(h))}}function l(a){\x22.\x22==a.charAt(0)&&(a=a.substr(1));for(var b=a.split(t+t),c=0;c\x3cb.length;c++)b[c]=b[c].replace(new RegExp(t,\x22g\x22),\x22\x22);return b.join(t)}function m(a){for(var b=e(a).split(\x22.\x22),c=0;c\x3cb.length;c++)b[c]=t+b[c].replace(new RegExp(t,\x22g\x22),t+t)+t;var d=b.join(\x22.\x22);return\x22string\x22==typeof a?d:(a=i(a),a.text=d,a)}function n(a,b,c,d){for(var e=!1,f=[],g=b.start,j=!0;j;)j=\x22.\x22==b.string.charAt(0),e=e||b.string.charAt(0)==t,g=b.start,f.unshift(l(b.string)),b=d.getTokenAt(v(a.line,b.start)),\x22.\x22==b.string&&(j=!0,b=d.getTokenAt(v(a.line,b.start)));var n=f.join(\x22.\x22);k(c,n,q,function(a){return e?m(a):a}),k(c,n,r,function(a){return e?m(a):a}),n=f.pop();var o=f.join(\x22.\x22),s=!1,u=o;\x0aif(!h(o)){var w=o;o=p(o,d),o!==w&&(s=!0)}var x=h(o);return x&&x.columns&&(x=x.columns),x&&k(c,n,x,function(a){var b=o;return 1==s&&(b=u),\x22string\x22==typeof a?a=b+\x22.\x22+a:(a=i(a),a.text=b+\x22.\x22+a.text),e?m(a):a}),g}function o(a,b){for(var c=a.split(/\x5cs+/),d=0;d\x3cc.length;d++)c[d]&&b(c[d].replace(/[,;]/g,\x22\x22))}function p(a,b){for(var c=b.doc,d=c.getValue(),e=a.toUpperCase(),f=\x22\x22,g=\x22\x22,i=[],j={start:v(0,0),end:v(b.lastLine(),b.getLineHandle(b.lastLine()).length)},k=d.indexOf(u.QUERY_DIV);k!=-1;)i.push(c.posFromIndex(k)),k=d.indexOf(u.QUERY_DIV,k+1);i.unshift(v(0,0)),i.push(v(b.lastLine(),b.getLineHandle(b.lastLine()).text.length));for(var l=null,m=b.getCursor(),n=0;n\x3ci.length;n++){if((null==l||w(m,l)\x3e0)&&w(m,i[n])\x3c=0){j={start:l,end:i[n]};break}l=i[n]}for(var p=c.getRange(j.start,j.end,!1),n=0;n\x3cp.length;n++){var q=p[n];if(o(q,function(a){var b=a.toUpperCase();b===e&&h(f)&&(g=f),b!==u.ALIAS_KEYWORD&&(f=a)}),g)break}return g}var q,r,s,t,u={QUERY_DIV:\x22;\x22,ALIAS_KEYWORD:\x22AS\x22},v=a.Pos,w=a.cmpPos;a.registerHelper(\x22hint\x22,\x22sql\x22,function(a,b){q=g(b&&b.tables);var e=b&&b.defaultTable,f=b&&b.disableKeywords;r=e&&h(e),s=c(a),t=d(a),e&&!r&&(r=p(e,a)),r=r||[],r.columns&&(r=r.columns);var i,j,l,m=a.getCursor(),o=[],u=a.getTokenAt(m);return u.end\x3em.ch&&(u.end=m.ch,u.string=u.string.slice(0,m.ch-u.start)),u.string.match(/^[.`\x22\x5cw@]\x5cw*$/)?(l=u.string,i=u.start,j=u.end):(i=j=m.ch,l=\x22\x22),\x22.\x22==l.charAt(0)||l.charAt(0)==t?i=n(m,u,o,a):(k(o,l,q,function(a){return a}),k(o,l,r,function(a){return a}),f||k(o,l,s,function(a){return a.toUpperCase()})),{list:o,from:v(m.line,i),to:v(m.line,j)}})})},{\x22../../lib/codemirror\x22:59,\x22../../mode/sql/sql\x22:74}],28:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,d){var e=d&&d.schemaInfo,f=d&&d.quoteChar||\x27\x22\x27;if(e){var g=b.getCursor(),h=b.getTokenAt(g);h.end\x3eg.ch&&(h.end=g.ch,h.string=h.string.slice(0,g.ch-h.start));var i=a.innerMode(b.getMode(),h.state);if(\x22xml\x22==i.mode.name){var j,k,l=[],m=!1,n=/\x5cbtag\x5cb/.test(h.type)&&!/\x3e$/.test(h.string),o=n&&/^\x5cw/.test(h.string);if(o){var p=b.getLine(g.line).slice(Math.max(0,h.start-2),h.start),q=/\x3c\x5c/$/.test(p)?\x22close\x22:/\x3c$/.test(p)?\x22open\x22:null;q&&(k=h.start-(\x22close\x22==q?2:1))}else n&&\x22\x3c\x22==h.string?q=\x22open\x22:n&&\x22\x3c/\x22==h.string&&(q=\x22close\x22);if(!n&&!i.state.tagName||q){o&&(j=h.string),m=q;var r=i.state.context,s=r&&e[r.tagName],t=r?s&&s.children:e[\x22!top\x22];if(t&&\x22close\x22!=q)for(var u=0;u\x3ct.length;++u)j&&0!=t[u].lastIndexOf(j,0)||l.push(\x22\x3c\x22+t[u]);else if(\x22close\x22!=q)for(var v in e)!e.hasOwnProperty(v)||\x22!top\x22==v||\x22!attrs\x22==v||j&&0!=v.lastIndexOf(j,0)||l.push(\x22\x3c\x22+v);r&&(!j||\x22close\x22==q&&0==r.tagName.lastIndexOf(j,0))&&l.push(\x22\x3c/\x22+r.tagName+\x22\x3e\x22)}else{var s=e[i.state.tagName],w=s&&s.attrs,x=e[\x22!attrs\x22];if(!w&&!x)return;if(w){if(x){var y={};for(var z in x)x.hasOwnProperty(z)&&(y[z]=x[z]);for(var z in w)w.hasOwnProperty(z)&&(y[z]=w[z]);w=y}}else w=x;if(\x22string\x22==h.type||\x22=\x22==h.string){var A,p=b.getRange(c(g.line,Math.max(0,g.ch-60)),c(g.line,\x22string\x22==h.type?h.start:h.end)),B=p.match(/([^\x5cs\x5cu00a0=\x3c\x3e\x5c\x22\x5c\x27]+)=$/);if(!B||!w.hasOwnProperty(B[1])||!(A=w[B[1]]))return;if(\x22function\x22==typeof A&&(A=A.call(this,b)),\x22string\x22==h.type){j=h.string;var C=0;/[\x27\x22]/.test(h.string.charAt(0))&&(f=h.string.charAt(0),j=h.string.slice(1),C++);var D=h.string.length;/[\x27\x22]/.test(h.string.charAt(D-1))&&(f=h.string.charAt(D-1),j=h.string.substr(C,D-2)),m=!0}for(var u=0;u\x3cA.length;++u)j&&0!=A[u].lastIndexOf(j,0)||l.push(f+A[u]+f)}else{\x22attribute\x22==h.type&&(j=h.string,m=!0);for(var E in w)!w.hasOwnProperty(E)||j&&0!=E.lastIndexOf(j,0)||l.push(E)}}return{list:l,from:m?c(g.line,null==k?h.start:k):g,to:m?c(g.line,h.end):g}}}}var c=a.Pos;a.registerHelper(\x22hint\x22,\x22xml\x22,b)})},{\x22../../lib/codemirror\x22:59}],29:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.registerHelper(\x22lint\x22,\x22css\x22,function(b,c){var d=[];if(!window.CSSLint)return window.console&&window.console.error(\x22Error: window.CSSLint not defined, CodeMirror CSS linting cannot run.\x22),d;for(var e=CSSLint.verify(b,c),f=e.messages,g=null,h=0;h\x3cf.length;h++){g=f[h];var i=g.line-1,j=g.line-1,k=g.col-1,l=g.col;d.push({from:a.Pos(i,k),to:a.Pos(j,l),message:g.message,severity:g.type})}return d})})},{\x22../../lib/codemirror\x22:59}],30:[function(a,b,c){(function(d){!function(e){\x22object\x22==typeof c&&\x22object\x22==typeof b?e(a(\x22../../lib/codemirror\x22),\x22undefined\x22!=typeof window?window.HTMLHint:\x22undefined\x22!=typeof d?d.HTMLHint:null):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22htmlhint\x22],e):e(CodeMirror,window.HTMLHint)}(function(a,b){\x22use strict\x22;var c={\x22tagname-lowercase\x22:!0,\x22attr-lowercase\x22:!0,\x22attr-value-double-quotes\x22:!0,\x22doctype-first\x22:!1,\x22tag-pair\x22:!0,\x22spec-char-escape\x22:!0,\x22id-unique\x22:!0,\x22src-not-empty\x22:!0,\x22attr-no-duplication\x22:!0};a.registerHelper(\x22lint\x22,\x22html\x22,function(d,e){var f=[];if(b&&!b.verify&&(b=b.HTMLHint),b||(b=window.HTMLHint),!b)return window.console&&window.console.error(\x22Error: HTMLHint not found, not defined on window, or not available through define/require, CodeMirror HTML linting cannot run.\x22),f;for(var g=b.verify(d,e&&e.rules||c),h=0;h\x3cg.length;h++){var i=g[h],j=i.line-1,k=i.line-1,l=i.col-1,m=i.col;f.push({from:a.Pos(j,l),to:a.Pos(k,m),message:i.message,severity:i.type})}return f})})}).call(this,\x22undefined\x22!=typeof global?global:\x22undefined\x22!=typeof self?self:\x22undefined\x22!=typeof window?window:{})},{\x22../../lib/codemirror\x22:59}],31:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){if(!window.JSHINT)return window.console&&window.console.error(\x22Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run.\x22),[];JSHINT(a,b,b.globals);var c=JSHINT.data().errors,d=[];return c&&f(c,d),d}function c(a){return d(a,h,\x22warning\x22,!0),d(a,i,\x22error\x22),e(a)?null:a}function d(a,b,c,d){var e,f,g,h,i;e=a.description;for(var j=0;j\x3cb.length;j++)f=b[j],g=\x22string\x22==typeof f?f:f[0],h=\x22string\x22==typeof f?null:f[1],i=e.indexOf(g)!==-1,(d||i)&&(a.severity=c),i&&h&&(a.description=h)}function e(a){for(var b=a.description,c=0;c\x3cg.length;c++)if(b.indexOf(g[c])!==-1)return!0;return!1}function f(b,d){for(var e=0;e\x3cb.length;e++){var f=b[e];if(f){var g,h;if(g=[],f.evidence){var i=g[f.line];if(!i){var j=f.evidence;i=[],Array.prototype.forEach.call(j,function(a,b){\x22\x5ct\x22===a&&i.push(b+1)}),g[f.line]=i}if(i.length\x3e0){var k=f.character;i.forEach(function(a){k\x3ea&&(k-=1)}),f.character=k}}var l=f.character-1,m=l+1;f.evidence&&(h=f.evidence.substring(l).search(/.\x5cb/),h\x3e-1&&(m+=h)),f.description=f.reason,f.start=f.character,f.end=m,f=c(f),f&&d.push({message:f.description,severity:f.severity,from:a.Pos(f.line-1,l),to:a.Pos(f.line-1,m)})}}}var g=[\x22Dangerous comment\x22],h=[[\x22Expected \x27{\x27\x22,\x22Statement body should be inside \x27{ }\x27 braces.\x22]],i=[\x22Missing semicolon\x22,\x22Extra comma\x22,\x22Missing property name\x22,\x22Unmatched \x22,\x22 and instead saw\x22,\x22 is not defined\x22,\x22Unclosed string\x22,\x22Stopping, unable to continue\x22];a.registerHelper(\x22lint\x22,\x22javascript\x22,b)})},{\x22../../lib/codemirror\x22:59}],32:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.registerHelper(\x22lint\x22,\x22json\x22,function(b){var c=[];if(!window.jsonlint)return window.console&&window.console.error(\x22Error: window.jsonlint not defined, CodeMirror JSON linting cannot run.\x22),c;jsonlint.parseError=function(b,d){var e=d.loc;c.push({from:a.Pos(e.first_line-1,e.first_column),to:a.Pos(e.last_line-1,e.last_column),message:b})};try{jsonlint.parse(b)}catch(d){}return c})})},{\x22../../lib/codemirror\x22:59}],33:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,c){function d(b){return e.parentNode?(e.style.top=Math.max(0,b.clientY-e.offsetHeight-5)+\x22px\x22,void(e.style.left=b.clientX+5+\x22px\x22)):a.off(document,\x22mousemove\x22,d)}var e=document.createElement(\x22div\x22);return e.className=\x22CodeMirror-lint-tooltip\x22,e.appendChild(c.cloneNode(!0)),document.body.appendChild(e),a.on(document,\x22mousemove\x22,d),d(b),null!=e.style.opacity&&(e.style.opacity=1),e}function c(a){a.parentNode&&a.parentNode.removeChild(a)}function d(a){a.parentNode&&(null==a.style.opacity&&c(a),a.style.opacity=0,setTimeout(function(){c(a)},600))}function e(c,e,f){function g(){a.off(f,\x22mouseout\x22,g),h&&(d(h),h=null)}var h=b(c,e),i=setInterval(function(){if(h)for(var a=f;;a=a.parentNode){if(a&&11==a.nodeType&&(a=a.host),a==document.body)return;if(!a){g();break}}if(!h)return clearInterval(i)},400);a.on(f,\x22mouseout\x22,g)}function f(a,b,c){this.marked=[],this.options=b,this.timeout=null,this.hasGutter=c,this.onMouseOver=function(b){r(a,b)},this.waitingFor=0}function g(a,b){return b instanceof Function?{getAnnotations:b}:(b&&b!==!0||(b={}),b)}function h(a){var b=a.state.lint;b.hasGutter&&a.clearGutter(s);for(var c=0;c\x3cb.marked.length;++c)b.marked[c].clear();b.marked.length=0}function i(b,c,d,f){var g=document.createElement(\x22div\x22),h=g;return g.className=\x22CodeMirror-lint-marker-\x22+c,d&&(h=g.appendChild(document.createElement(\x22div\x22)),h.className=\x22CodeMirror-lint-marker-multiple\x22),0!=f&&a.on(h,\x22mouseover\x22,function(a){e(a,b,h)}),g}function j(a,b){return\x22error\x22==a?a:b}function k(a){for(var b=[],c=0;c\x3ca.length;++c){var d=a[c],e=d.from.line;(b[e]||(b[e]=[])).push(d)}return b}function l(a){var b=a.severity;b||(b=\x22error\x22);var c=document.createElement(\x22div\x22);return c.className=\x22CodeMirror-lint-message-\x22+b,\x22undefined\x22!=typeof a.messageHTML?c.innerHTML=a.messageHTML:c.appendChild(document.createTextNode(a.message)),c}function m(b,c,d){function e(){g=-1,b.off(\x22change\x22,e)}var f=b.state.lint,g=++f.waitingFor;b.on(\x22change\x22,e),c(b.getValue(),function(c,d){b.off(\x22change\x22,e),f.waitingFor==g&&(d&&c instanceof a&&(c=d),o(b,c))},d,b)}function n(b){var c=b.state.lint,d=c.options,e=d.options||d,f=d.getAnnotations||b.getHelper(a.Pos(0,0),\x22lint\x22);if(f)if(d.async||f.async)m(b,f,e);else{var g=f(b.getValue(),e,b);if(!g)return;g.then?g.then(function(a){o(b,a)}):o(b,g)}}function o(a,b){h(a);for(var c=a.state.lint,d=c.options,e=k(b),f=0;f\x3ce.length;++f){var g=e[f];if(g){for(var m=null,n=c.hasGutter&&document.createDocumentFragment(),o=0;o\x3cg.length;++o){var p=g[o],q=p.severity;q||(q=\x22error\x22),m=j(m,q),d.formatAnnotation&&(p=d.formatAnnotation(p)),c.hasGutter&&n.appendChild(l(p)),p.to&&c.marked.push(a.markText(p.from,p.to,{className:\x22CodeMirror-lint-mark-\x22+q,__annotation:p}))}c.hasGutter&&a.setGutterMarker(f,s,i(n,m,g.length\x3e1,c.options.tooltips))}}d.onUpdateLinting&&d.onUpdateLinting(b,e,a)}function p(a){var b=a.state.lint;b&&(clearTimeout(b.timeout),b.timeout=setTimeout(function(){n(a)},b.options.delay||500))}function q(a,b){for(var c=b.target||b.srcElement,d=document.createDocumentFragment(),f=0;f\x3ca.length;f++){var g=a[f];d.appendChild(l(g))}e(b,d,c)}function r(a,b){var c=b.target||b.srcElement;if(/\x5cbCodeMirror-lint-mark-/.test(c.className)){for(var d=c.getBoundingClientRect(),e=(d.left+d.right)/2,f=(d.top+d.bottom)/2,g=a.findMarksAt(a.coordsChar({left:e,top:f},\x22client\x22)),h=[],i=0;i\x3cg.length;++i){var j=g[i].__annotation;j&&h.push(j)}h.length&&q(h,b)}}var s=\x22CodeMirror-lint-markers\x22;a.defineOption(\x22lint\x22,!1,function(b,c,d){if(d&&d!=a.Init&&(h(b),b.state.lint.options.lintOnChange!==!1&&b.off(\x22change\x22,p),a.off(b.getWrapperElement(),\x22mouseover\x22,b.state.lint.onMouseOver),clearTimeout(b.state.lint.timeout),delete b.state.lint),c){for(var e=b.getOption(\x22gutters\x22),i=!1,j=0;j\x3ce.length;++j)e[j]==s&&(i=!0);var k=b.state.lint=new f(b,g(b,c),i);k.options.lintOnChange!==!1&&b.on(\x22change\x22,p),0!=k.options.tooltips&&\x22gutter\x22!=k.options.tooltips&&a.on(b.getWrapperElement(),\x22mouseover\x22,k.onMouseOver),n(b)}}),a.defineExtension(\x22performLint\x22,function(){this.state.lint&&n(this)})})},{\x22../../lib/codemirror\x22:59}],34:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22diff_match_patch\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){this.mv=a,this.type=b,this.classes=\x22left\x22==b?{chunk:\x22CodeMirror-merge-l-chunk\x22,start:\x22CodeMirror-merge-l-chunk-start\x22,end:\x22CodeMirror-merge-l-chunk-end\x22,insert:\x22CodeMirror-merge-l-inserted\x22,del:\x22CodeMirror-merge-l-deleted\x22,connect:\x22CodeMirror-merge-l-connect\x22}:{chunk:\x22CodeMirror-merge-r-chunk\x22,start:\x22CodeMirror-merge-r-chunk-start\x22,end:\x22CodeMirror-merge-r-chunk-end\x22,insert:\x22CodeMirror-merge-r-inserted\x22,del:\x22CodeMirror-merge-r-deleted\x22,connect:\x22CodeMirror-merge-r-connect\x22}}function c(b){b.diffOutOfDate&&(b.diff=z(b.orig.getValue(),b.edit.getValue(),b.mv.options.ignoreWhitespace),b.chunks=A(b.diff),b.diffOutOfDate=!1,a.signal(b.edit,\x22updateDiff\x22,b.diff))}function d(b){function d(a){W=!0,p=!1,\x22full\x22==a&&(b.svg&&J(b.svg),b.copyButtons&&J(b.copyButtons),j(b.edit,m.marked,b.classes),j(b.orig,o.marked,b.classes),m.from=m.to=o.from=o.to=0),c(b),b.showDifferences&&(k(b.edit,b.diff,m,DIFF_INSERT,b.classes),k(b.orig,b.diff,o,DIFF_DELETE,b.classes)),\x22align\x22==b.mv.options.connect&&s(b),n(b),null!=b.needsScrollSync&&f(b,b.needsScrollSync),W=!1}function e(a){W||(b.dealigned=!0,g(a))}function g(a){W||p||(clearTimeout(l),a===!0&&(p=!0),l=setTimeout(d,a===!0?20:250))}function h(a,c){b.diffOutOfDate||(b.diffOutOfDate=!0,m.from=m.to=o.from=o.to=0),e(c.text.length-1!=c.to.line-c.from.line)}function i(){b.diffOutOfDate=!0,b.dealigned=!0,d(\x22full\x22)}var l,m={from:0,to:0,marked:[]},o={from:0,to:0,marked:[]},p=!1;return b.edit.on(\x22change\x22,h),b.orig.on(\x22change\x22,h),b.edit.on(\x22swapDoc\x22,i),b.orig.on(\x22swapDoc\x22,i),\x22align\x22==b.mv.options.connect&&(a.on(b.edit.state.trackAlignable,\x22realign\x22,e),a.on(b.orig.state.trackAlignable,\x22realign\x22,e)),b.edit.on(\x22viewportChange\x22,function(){g(!1)}),b.orig.on(\x22viewportChange\x22,function(){g(!1)}),d(),d}function e(a,b){a.edit.on(\x22scroll\x22,function(){f(a,!0)&&n(a)}),a.orig.on(\x22scroll\x22,function(){f(a,!1)&&n(a),b&&f(b,!0)&&n(b)})}function f(a,b){if(a.diffOutOfDate)return a.lockScroll&&null==a.needsScrollSync&&(a.needsScrollSync=b),!1;if(a.needsScrollSync=null,!a.lockScroll)return!0;var c,d,e=+new Date;if(b?(c=a.edit,d=a.orig):(c=a.orig,d=a.edit),c.state.scrollSetBy==a&&(c.state.scrollSetAt||0)+250\x3ee)return!1;var f=c.getScrollInfo();if(\x22align\x22==a.mv.options.connect)q=f.top;else{var h,i,j=.5*f.clientHeight,k=f.top+j,l=c.lineAtHeight(k,\x22local\x22),m=D(a.chunks,l,b),n=g(c,b?m.edit:m.orig),o=g(d,b?m.orig:m.edit),p=(k-n.top)/(n.bot-n.top),q=o.top-j+p*(o.bot-o.top);if(q\x3ef.top&&(i=f.top/j)\x3c1)q=q*i+f.top*(1-i);else if((h=f.height-f.clientHeight-f.top)\x3cj){var r=d.getScrollInfo(),s=r.height-r.clientHeight-q;s\x3eh&&(i=h/j)\x3c1&&(q=q*i+(r.height-r.clientHeight-h)*(1-i))}}return d.scrollTo(f.left,q),d.state.scrollSetAt=e,d.state.scrollSetBy=a,!0}function g(a,b){var c=b.after;return null==c&&(c=a.lastLine()+1),{top:a.heightAtLine(b.before||0,\x22local\x22),bot:a.heightAtLine(c,\x22local\x22)}}function h(a,b,c){a.lockScroll=b,b&&0!=c&&f(a,DIFF_INSERT)&&n(a),a.lockButton.innerHTML=b?\x22\x5cu21db\x5cu21da\x22:\x22\x5cu21db&nbsp;&nbsp;\x5cu21da\x22}function i(a,b,c){for(var d=c.classLocation,e=0;e\x3cd.length;e++)a.removeLineClass(b,d[e],c.chunk),a.removeLineClass(b,d[e],c.start),a.removeLineClass(b,d[e],c.end)}function j(b,c,d){for(var e=0;e\x3cc.length;++e){var f=c[e];f instanceof a.TextMarker?f.clear():f.parent&&i(b,f,d)}c.length=0}function k(a,b,c,d,e){var f=a.getViewport();a.operation(function(){c.from==c.to||f.from-c.to\x3e20||c.from-f.to\x3e20?(j(a,c.marked,e),m(a,b,d,c.marked,f.from,f.to,e),c.from=f.from,c.to=f.to):(f.from\x3cc.from&&(m(a,b,d,c.marked,f.from,c.from,e),c.from=f.from),f.to\x3ec.to&&(m(a,b,d,c.marked,c.to,f.to,e),c.to=f.to))})}function l(a,b,c,d,e,f){for(var g=c.classLocation,h=a.getLineHandle(b),i=0;i\x3cg.length;i++)d&&a.addLineClass(h,g[i],c.chunk),e&&a.addLineClass(h,g[i],c.start),f&&a.addLineClass(h,g[i],c.end);return h}function m(a,b,c,d,e,f,g){function h(b,c){for(var h=Math.max(e,b),i=Math.min(f,c),j=h;j\x3ci;++j)d.push(l(a,j,g,!0,j==b,j==c-1));b==c&&h==c&&i==c&&(h?d.push(l(a,h-1,g,!1,!1,!0)):d.push(l(a,h,g,!1,!0,!1)))}for(var i=U(0,0),j=U(e,0),k=a.clipPos(U(f-1)),m=c==DIFF_DELETE?g.del:g.insert,n=0,o=!1,p=0;p\x3cb.length;++p){var q=b[p],r=q[0],s=q[1];if(r==DIFF_EQUAL){var t=i.line+(C(b,p)?0:1);M(i,s);var u=i.line+(B(b,p)?1:0);u\x3et&&(o&&(h(n,t),o=!1),n=u)}else if(o=!0,r==c){var v=M(i,s,!0),w=P(j,i),x=O(k,v);Q(w,x)||d.push(a.markText(w,x,{className:m})),i=v}}o&&h(n,i.line+1)}function n(a){if(a.showDifferences){if(a.svg){J(a.svg);var b=a.gap.offsetWidth;K(a.svg,\x22width\x22,b,\x22height\x22,a.gap.offsetHeight)}a.copyButtons&&J(a.copyButtons);for(var c=a.edit.getViewport(),d=a.orig.getViewport(),e=a.mv.wrap.getBoundingClientRect().top,f=e-a.edit.getScrollerElement().getBoundingClientRect().top+a.edit.getScrollInfo().top,g=e-a.orig.getScrollerElement().getBoundingClientRect().top+a.orig.getScrollInfo().top,h=0;h\x3ca.chunks.length;h++){var i=a.chunks[h];i.editFrom\x3c=c.to&&i.editTo\x3e=c.from&&i.origFrom\x3c=d.to&&i.origTo\x3e=d.from&&v(a,i,g,f,b)}}}function o(a,b){for(var c=0,d=0,e=0;e\x3cb.length;e++){var f=b[e];if(f.editTo\x3ea&&f.editFrom\x3c=a)return null;if(f.editFrom\x3ea)break;c=f.editTo,d=f.origTo}return d+(a-c)}function p(a,b,c){for(var d=a.state.trackAlignable,e=a.firstLine(),f=0,g=[],h=0;;h++){for(var i=b[h],j=i?c?i.origFrom:i.editFrom:1e9;f\x3cd.alignable.length;f+=2){var k=d.alignable[f]+1;if(!(k\x3c=e)){if(!(k\x3c=j))break;g.push(k)}}if(!i)break;g.push(e=c?i.origTo:i.editTo)}return g}function q(a,b,c,d){var e=0,f=0,g=0,h=0;a:for(;;e++){var i=a[e],j=b[f];if(!i&&null==j)break;for(var k=i?i[0]:1e9,l=null==j?1e9:j;g\x3cc.length;){var m=c[g];if(m.origFrom\x3c=l&&m.origTo\x3el){f++,e--;continue a}if(m.editTo\x3ek){if(m.editFrom\x3c=k)continue a;break}h+=m.origTo-m.origFrom-(m.editTo-m.editFrom),g++}if(k==l-h)i[d]=l,f++;else if(k\x3cl-h)i[d]=k+h;else{var n=[l-h,null,null];n[d]=l,a.splice(e,0,n),f++}}}function r(a,b){var c=p(a.edit,a.chunks,!1),d=[];if(b)for(var e=0,f=0;e\x3cb.chunks.length;e++){for(var g=b.chunks[e].editTo;f\x3cc.length&&c[f]\x3cg;)f++;f!=c.length&&c[f]==g||c.splice(f++,0,g)}for(var e=0;e\x3cc.length;e++)d.push([c[e],null,null]);return q(d,p(a.orig,a.chunks,!0),a.chunks,1),b&&q(d,p(b.orig,b.chunks,!0),b.chunks,2),d}function s(a,b){if(a.dealigned||b){if(!a.orig.curOp)return a.orig.operation(function(){s(a,b)});a.dealigned=!1;var d=a.mv.left==a?a.mv.right:a.mv.left;d&&(c(d),d.dealigned=!1);for(var e=r(a,d),f=a.mv.aligners,g=0;g\x3cf.length;g++)f[g].clear();f.length=0;var h=[a.edit,a.orig],i=[];d&&h.push(d.orig);for(var g=0;g\x3ch.length;g++)i.push(h[g].getScrollInfo().top);for(var j=0;j\x3ce.length;j++)t(h,e[j],f);for(var g=0;g\x3ch.length;g++)h[g].scrollTo(null,i[g])}}function t(a,b,c){for(var d=0,e=[],f=0;f\x3ca.length;f++)if(null!=b[f]){var g=a[f].heightAtLine(b[f],\x22local\x22);e[f]=g,d=Math.max(d,g)}for(var f=0;f\x3ca.length;f++)if(null!=b[f]){var h=d-e[f];h\x3e1&&c.push(u(a[f],b[f],h))}}function u(a,b,c){var d=!0;b\x3ea.lastLine()&&(b--,d=!1);var e=document.createElement(\x22div\x22);return e.className=\x22CodeMirror-merge-spacer\x22,e.style.height=c+\x22px\x22,e.style.minWidth=\x221px\x22,a.addLineWidget(b,e,{height:c,above:d,mergeSpacer:!0,handleMouseEvents:!0})}function v(a,b,c,d,e){var f=\x22left\x22==a.type,g=a.orig.heightAtLine(b.origFrom,\x22local\x22,!0)-c;if(a.svg){var h=g,i=a.edit.heightAtLine(b.editFrom,\x22local\x22,!0)-d;if(f){var j=h;h=i,i=j}var k=a.orig.heightAtLine(b.origTo,\x22local\x22,!0)-c,l=a.edit.heightAtLine(b.editTo,\x22local\x22,!0)-d;if(f){var j=k;k=l,l=j}var m=\x22 C \x22+e/2+\x22 \x22+i+\x22 \x22+e/2+\x22 \x22+h+\x22 \x22+(e+2)+\x22 \x22+h,n=\x22 C \x22+e/2+\x22 \x22+k+\x22 \x22+e/2+\x22 \x22+l+\x22 -1 \x22+l;K(a.svg.appendChild(document.createElementNS(V,\x22path\x22)),\x22d\x22,\x22M -1 \x22+i+m+\x22 L \x22+(e+2)+\x22 \x22+k+n+\x22 z\x22,\x22class\x22,a.classes.connect)}if(a.copyButtons){var o=a.copyButtons.appendChild(I(\x22div\x22,\x22left\x22==a.type?\x22\x5cu21dd\x22:\x22\x5cu21dc\x22,\x22CodeMirror-merge-copy\x22)),p=a.mv.options.allowEditingOriginals;if(o.title=p?\x22Push to left\x22:\x22Revert chunk\x22,o.chunk=b,o.style.top=(b.origTo\x3eb.origFrom?g:a.edit.heightAtLine(b.editFrom,\x22local\x22)-d)+\x22px\x22,p){var q=a.edit.heightAtLine(b.editFrom,\x22local\x22)-d,r=a.copyButtons.appendChild(I(\x22div\x22,\x22right\x22==a.type?\x22\x5cu21dd\x22:\x22\x5cu21dc\x22,\x22CodeMirror-merge-copy-reverse\x22));r.title=\x22Push to right\x22,r.chunk={editFrom:b.origFrom,editTo:b.origTo,origFrom:b.editFrom,origTo:b.editTo},r.style.top=q+\x22px\x22,\x22right\x22==a.type?r.style.left=\x222px\x22:r.style.right=\x222px\x22}}}function w(a,b,c,d){if(!a.diffOutOfDate){var e=d.origTo\x3ec.lastLine()?U(d.origFrom-1):U(d.origFrom,0),f=U(d.origTo,0),g=d.editTo\x3eb.lastLine()?U(d.editFrom-1):U(d.editFrom,0),h=U(d.editTo,0),i=a.mv.options.revertChunk;i?i(a.mv,c,e,f,b,g,h):b.replaceRange(c.getRange(e,f),g,h)}}function x(b){var c=b.lockButton=I(\x22div\x22,null,\x22CodeMirror-merge-scrolllock\x22);c.title=\x22Toggle locked scrolling\x22;var d=I(\x22div\x22,[c],\x22CodeMirror-merge-scrolllock-wrap\x22);a.on(c,\x22click\x22,function(){h(b,!b.lockScroll)});var e=[d];if(b.mv.options.revertButtons!==!1&&(b.copyButtons=I(\x22div\x22,null,\x22CodeMirror-merge-copybuttons-\x22+b.type),a.on(b.copyButtons,\x22click\x22,function(a){var c=a.target||a.srcElement;if(c.chunk)return\x22CodeMirror-merge-copy-reverse\x22==c.className?void w(b,b.orig,b.edit,c.chunk):void w(b,b.edit,b.orig,c.chunk)}),e.unshift(b.copyButtons)),\x22align\x22!=b.mv.options.connect){var f=document.createElementNS&&document.createElementNS(V,\x22svg\x22);f&&!f.createSVGRect&&(f=null),b.svg=f,f&&e.push(f)}return b.gap=I(\x22div\x22,e,\x22CodeMirror-merge-gap\x22)}function y(a){return\x22string\x22==typeof a?a:a.getValue()}function z(a,b,c){Y||(Y=new diff_match_patch);for(var d=Y.diff_main(a,b),e=0;e\x3cd.length;++e){var f=d[e];(c?/[^ \x5ct]/.test(f[1]):f[1])?e&&d[e-1][0]==f[0]&&(d.splice(e--,1),d[e][1]+=f[1]):d.splice(e--,1)}return d}function A(a){for(var b=[],c=0,d=0,e=U(0,0),f=U(0,0),g=0;g\x3ca.length;++g){var h=a[g],i=h[0];if(i==DIFF_EQUAL){var j=!C(a,g)||e.line\x3cc||f.line\x3cd?1:0,k=e.line+j,l=f.line+j;M(e,h[1],null,f);var m=B(a,g)?1:0,n=e.line+m,o=f.line+m;n\x3ek&&(g&&b.push({origFrom:d,origTo:l,editFrom:c,editTo:k}),c=n,d=o)}else M(i==DIFF_INSERT?e:f,h[1])}return(c\x3c=e.line||d\x3c=f.line)&&b.push({origFrom:d,origTo:f.line+1,editFrom:c,editTo:e.line+1}),b}function B(a,b){if(b==a.length-1)return!0;var c=a[b+1][1];return!(1==c.length&&b\x3ca.length-2||10!=c.charCodeAt(0))&&(b==a.length-2||(c=a[b+2][1],(c.length\x3e1||b==a.length-3)&&10==c.charCodeAt(0)))}function C(a,b){if(0==b)return!0;var c=a[b-1][1];return 10==c.charCodeAt(c.length-1)&&(1==b||(c=a[b-2][1],10==c.charCodeAt(c.length-1)))}function D(a,b,c){for(var d,e,f,g,h=0;h\x3ca.length;h++){var i=a[h],j=c?i.editFrom:i.origFrom,k=c?i.editTo:i.origTo;null==e&&(j\x3eb?(e=i.editFrom,g=i.origFrom):k\x3eb&&(e=i.editTo,g=i.origTo)),k\x3c=b?(d=i.editTo,f=i.origTo):j\x3c=b&&(d=i.editFrom,f=i.origFrom)}return{edit:{before:d,after:e},orig:{before:f,after:g}}}function E(b,c,d){function e(){g.clear(),b.removeLineClass(c,\x22wrap\x22,\x22CodeMirror-merge-collapsed-line\x22)}b.addLineClass(c,\x22wrap\x22,\x22CodeMirror-merge-collapsed-line\x22);var f=document.createElement(\x22span\x22);f.className=\x22CodeMirror-merge-collapsed-widget\x22,f.title=\x22Identical text collapsed. Click to expand.\x22;var g=b.markText(U(c,0),U(d-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:f,clearOnEnter:!0});return a.on(f,\x22click\x22,e),{mark:g,clear:e}}function F(a,b){function c(){for(var a=0;a\x3cd.length;a++)d[a].clear()}for(var d=[],e=0;e\x3cb.length;e++){var f=b[e],g=E(f.cm,f.line,f.line+a);d.push(g),g.mark.on(\x22clear\x22,c)}return d[0].mark}function G(a,b,c,d){for(var e=0;e\x3ca.chunks.length;e++)for(var f=a.chunks[e],g=f.editFrom-b;g\x3cf.editTo+b;g++){var h=g+c;h\x3e=0&&h\x3cd.length&&(d[h]=!1)}}function H(a,b){\x22number\x22!=typeof b&&(b=2);for(var c=[],d=a.editor(),e=d.firstLine(),f=e,g=d.lastLine();f\x3c=g;f++)c.push(!0);a.left&&G(a.left,b,e,c),a.right&&G(a.right,b,e,c);for(var h=0;h\x3cc.length;h++)if(c[h]){for(var i=h+e,j=1;h\x3cc.length-1&&c[h+1];h++,j++);if(j\x3eb){var k=[{line:i,cm:d}];a.left&&k.push({line:o(i,a.left.chunks),cm:a.left.orig}),a.right&&k.push({line:o(i,a.right.chunks),cm:a.right.orig});var l=F(j,k);a.options.onCollapse&&a.options.onCollapse(a,i,j,l)}}}function I(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),\x22string\x22==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f\x3cb.length;++f)e.appendChild(b[f]);return e}function J(a){for(var b=a.childNodes.length;b\x3e0;--b)a.removeChild(a.firstChild)}function K(a){for(var b=1;b\x3carguments.length;b+=2)a.setAttribute(arguments[b],arguments[b+1])}function L(a,b){b||(b={});for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function M(a,b,c,d){for(var e=c?U(a.line,a.ch):a,f=0;;){var g=b.indexOf(\x22\x5cn\x22,f);if(g==-1)break;++e.line,d&&++d.line,f=g+1}return e.ch=(f?0:e.ch)+(b.length-f),d&&(d.ch=(f?0:d.ch)+(b.length-f)),e}function N(a){this.cm=a,this.alignable=[],this.height=a.doc.height;var b=this;a.on(\x22markerAdded\x22,function(a,c){if(c.collapsed){var d=c.find(1);null!=d&&b.set(d.line,_)}}),a.on(\x22markerCleared\x22,function(a,c,d,e){null!=e&&c.collapsed&&b.check(e,_,b.hasMarker)}),a.on(\x22markerChanged\x22,this.signal.bind(this)),a.on(\x22lineWidgetAdded\x22,function(a,c,d){c.mergeSpacer||(c.above?b.set(d-1,$):b.set(d,Z))}),a.on(\x22lineWidgetCleared\x22,function(a,c,d){c.mergeSpacer||(c.above?b.check(d-1,$,b.hasWidgetBelow):b.check(d,Z,b.hasWidget))}),a.on(\x22lineWidgetChanged\x22,this.signal.bind(this)),a.on(\x22change\x22,function(a,c){var d=c.from.line,e=c.to.line-c.from.line,f=c.text.length-1,g=d+f;(e||f)&&b.map(d,e,f),b.check(g,_,b.hasMarker),(e||f)&&b.check(c.from.line,_,b.hasMarker)}),a.on(\x22viewportChange\x22,function(){b.cm.doc.height!=b.height&&b.signal()})}function O(a,b){return(a.line-b.line||a.ch-b.ch)\x3c0?a:b}function P(a,b){return(a.line-b.line||a.ch-b.ch)\x3e0?a:b}function Q(a,b){return a.line==b.line&&a.ch==b.ch}function R(a,b,c){for(var d=a.length-1;d\x3e=0;d--){var e=a[d],f=(c?e.origTo:e.editTo)-1;if(f\x3cb)return f}}function S(a,b,c){for(var d=0;d\x3ca.length;d++){var e=a[d],f=c?e.origFrom:e.editFrom;if(f\x3eb)return f}}function T(b,d){var e=null,f=b.state.diffViews,g=b.getCursor().line;if(f)for(var h=0;h\x3cf.length;h++){var i=f[h],j=b==i.orig;c(i);var k=d\x3c0?R(i.chunks,g,j):S(i.chunks,g,j);null==k||null!=e&&!(d\x3c0?k\x3ee:k\x3ce)||(e=k)}return null==e?a.Pass:void b.setCursor(e,0)}var U=a.Pos,V=\x22http://www.w3.org/2000/svg\x22;b.prototype={constructor:b,init:function(b,c,d){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=a(b,L({value:c,readOnly:!this.mv.options.allowEditingOriginals},L(d))),\x22align\x22==this.mv.options.connect&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new N(this.edit)),this.orig.state.trackAlignable=new N(this.orig)),this.orig.state.diffViews=[this];var e=d.chunkClassLocation||\x22background\x22;\x22[object Array]\x22!=Object.prototype.toString.call(e)&&(e=[e]),this.classes.classLocation=e,this.diff=z(y(c),y(d.value),this.mv.options.ignoreWhitespace),this.chunks=A(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=d.showDifferences!==!1},registerEvents:function(a){this.forceUpdate=d(this),h(this,!0,!1),e(this,a)},setShowDifferences:function(a){a=a!==!1,a!=this.showDifferences&&(this.showDifferences=a,this.forceUpdate(\x22full\x22))}};var W=!1,X=a.MergeView=function(c,d){if(!(this instanceof X))return new X(c,d);this.options=d;var e=d.origLeft,f=null==d.origRight?d.orig:d.origRight,g=null!=e,h=null!=f,i=1+(g?1:0)+(h?1:0),j=[],k=this.left=null,l=this.right=null,m=this;if(g){k=this.left=new b(this,\x22left\x22);var o=I(\x22div\x22,null,\x22CodeMirror-merge-pane CodeMirror-merge-left\x22);j.push(o),j.push(x(k))}var p=I(\x22div\x22,null,\x22CodeMirror-merge-pane CodeMirror-merge-editor\x22);if(j.push(p),h){l=this.right=new b(this,\x22right\x22),j.push(x(l));var q=I(\x22div\x22,null,\x22CodeMirror-merge-pane CodeMirror-merge-right\x22);j.push(q)}(h?q:p).className+=\x22 CodeMirror-merge-pane-rightmost\x22,j.push(I(\x22div\x22,null,null,\x22height: 0; clear: both;\x22));var r=this.wrap=c.appendChild(I(\x22div\x22,j,\x22CodeMirror-merge CodeMirror-merge-\x22+i+\x22pane\x22));this.edit=a(p,L(d)),k&&k.init(o,e,d),l&&l.init(q,f,d),d.collapseIdentical&&this.editor().operation(function(){H(m,d.collapseIdentical)}),\x22align\x22==d.connect&&(this.aligners=[],s(this.left||this.right,!0)),k&&k.registerEvents(l),l&&l.registerEvents(k);var t=function(){k&&n(k),l&&n(l)};a.on(window,\x22resize\x22,t);var u=setInterval(function(){for(var b=r.parentNode;b&&b!=document.body;b=b.parentNode);b||(clearInterval(u),a.off(window,\x22resize\x22,t))},5e3)};X.prototype={constructor:X,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(a){this.right&&this.right.setShowDifferences(a),this.left&&this.left.setShowDifferences(a)},rightChunks:function(){if(this.right)return c(this.right),this.right.chunks},leftChunks:function(){if(this.left)return c(this.left),this.left.chunks}};var Y,Z=1,$=2,_=4;N.prototype={signal:function(){a.signal(this,\x22realign\x22),this.height=this.cm.doc.height},set:function(a,b){for(var c=-1;c\x3cthis.alignable.length;c+=2){var d=this.alignable[c]-a;if(0==d){if((this.alignable[c+1]&b)==b)return;return this.alignable[c+1]|=b,void this.signal()}if(d\x3e0)break}this.signal(),this.alignable.splice(c,0,a,b)},find:function(a){for(var b=0;b\x3cthis.alignable.length;b+=2)if(this.alignable[b]==a)return b;return-1},check:function(a,b,c){var d=this.find(a);if(d!=-1&&this.alignable[d+1]&b&&!c.call(this,a)){this.signal();var e=this.alignable[d+1]&~b;e?this.alignable[d+1]=e:this.alignable.splice(d,2)}},hasMarker:function(a){var b=this.cm.getLineHandle(a);if(b.markedSpans)for(var c=0;c\x3cb.markedSpans.length;c++)if(b.markedSpans[c].mark.collapsed&&null!=b.markedSpans[c].to)return!0;return!1},hasWidget:function(a){var b=this.cm.getLineHandle(a);if(b.widgets)for(var c=0;c\x3cb.widgets.length;c++)if(!b.widgets[c].above&&!b.widgets[c].mergeSpacer)return!0;return!1},hasWidgetBelow:function(a){if(a==this.cm.lastLine())return!1;var b=this.cm.getLineHandle(a+1);if(b.widgets)for(var c=0;c\x3cb.widgets.length;c++)if(b.widgets[c].above&&!b.widgets[c].mergeSpacer)return!0;return!1},map:function(a,b,c){for(var d=c-b,e=a+b,f=-1,g=-1,h=0;h\x3cthis.alignable.length;h+=2){var i=this.alignable[h];i==a&&this.alignable[h+1]&$&&(f=h),i==e&&this.alignable[h+1]&$&&(g=h),i\x3c=a||(i\x3ce?this.alignable.splice(h--,2):this.alignable[h]+=d)}if(f\x3e-1){var j=this.alignable[f+1];j==$?this.alignable.splice(f,2):this.alignable[f+1]=j&~$}g\x3e-1&&c&&this.set(a+c,$)}},a.commands.goNextDiff=function(a){return T(a,1)},a.commands.goPrevDiff=function(a){return T(a,-1)}})},{\x22../../lib/codemirror\x22:59}],35:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),\x22cjs\x22):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],function(a){d(a,\x22amd\x22)}):d(CodeMirror,\x22plain\x22)}(function(b,c){function d(a,b){var c=b;return function(){0==--c&&a()}}function e(a,c){var e=b.modes[a].dependencies;if(!e)return c();for(var f=[],g=0;g\x3ce.length;++g)b.modes.hasOwnProperty(e[g])||f.push(e[g]);if(!f.length)return c();for(var h=d(c,f.length),g=0;g\x3cf.length;++g)b.requireMode(f[g],h)}b.modeURL||(b.modeURL=\x22../mode/%N/%N.js\x22);var f={};b.requireMode=function(d,g){if(\x22string\x22!=typeof d&&(d=d.name),b.modes.hasOwnProperty(d))return e(d,g);if(f.hasOwnProperty(d))return f[d].push(g);var h=b.modeURL.replace(/%N/g,d);if(\x22plain\x22==c){var i=document.createElement(\x22script\x22);i.src=h;var j=document.getElementsByTagName(\x22script\x22)[0],k=f[d]=[g];b.on(i,\x22load\x22,function(){e(d,function(){for(var a=0;a\x3ck.length;++a)k[a]()})}),j.parentNode.insertBefore(i,j)}else\x22cjs\x22==c?(a(h),g()):\x22amd\x22==c&&requirejs([h],g)},b.autoLoadMode=function(a,c){b.modes.hasOwnProperty(c)||b.requireMode(c,function(){a.setOption(\x22mode\x22,a.getOption(\x22mode\x22))})}})},{\x22../../lib/codemirror\x22:59}],36:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.multiplexingMode=function(b){\x0afunction c(a,b,c,d){if(\x22string\x22==typeof b){var e=a.indexOf(b,c);return d&&e\x3e-1?e+b.length:e}var f=b.exec(c?a.slice(c):a);return f?f.index+c+(d?f[0].length:0):-1}var d=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:a.startState(b),innerActive:null,inner:null}},copyState:function(c){return{outer:a.copyState(b,c.outer),innerActive:c.innerActive,inner:c.innerActive&&a.copyState(c.innerActive.mode,c.inner)}},token:function(e,f){if(f.innerActive){var g=f.innerActive,h=e.string;if(!g.close&&e.sol())return f.innerActive=f.inner=null,this.token(e,f);var i=g.close?c(h,g.close,e.pos,g.parseDelimiters):-1;if(i==e.pos&&!g.parseDelimiters)return e.match(g.close),f.innerActive=f.inner=null,g.delimStyle&&g.delimStyle+\x22 \x22+g.delimStyle+\x22-close\x22;i\x3e-1&&(e.string=h.slice(0,i));var j=g.mode.token(e,f.inner);return i\x3e-1&&(e.string=h),i==e.pos&&g.parseDelimiters&&(f.innerActive=f.inner=null),g.innerStyle&&(j=j?j+\x22 \x22+g.innerStyle:g.innerStyle),j}for(var k=1/0,h=e.string,l=0;l\x3cd.length;++l){var m=d[l],i=c(h,m.open,e.pos);if(i==e.pos)return m.parseDelimiters||e.match(m.open),f.innerActive=m,f.inner=a.startState(m.mode,b.indent?b.indent(f.outer,\x22\x22):0),m.delimStyle&&m.delimStyle+\x22 \x22+m.delimStyle+\x22-open\x22;i!=-1&&i\x3ck&&(k=i)}k!=1/0&&(e.string=h.slice(0,k));var n=b.token(e,f.outer);return k!=1/0&&(e.string=h),n},indent:function(c,d){var e=c.innerActive?c.innerActive.mode:b;return e.indent?e.indent(c.innerActive?c.inner:c.outer,d):a.Pass},blankLine:function(c){var e=c.innerActive?c.innerActive.mode:b;if(e.blankLine&&e.blankLine(c.innerActive?c.inner:c.outer),c.innerActive)\x22\x5cn\x22===c.innerActive.close&&(c.innerActive=c.inner=null);else for(var f=0;f\x3cd.length;++f){var g=d[f];\x22\x5cn\x22===g.open&&(c.innerActive=g,c.inner=a.startState(g.mode,e.indent?e.indent(c.outer,\x22\x22):0))}},electricChars:b.electricChars,innerMode:function(a){return a.inner?{state:a.inner,mode:a.innerActive.mode}:{state:a.outer,mode:b}}}}})},{\x22../../lib/codemirror\x22:59}],37:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.overlayMode=function(b,c,d){return{startState:function(){return{base:a.startState(b),overlay:a.startState(c),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(d){return{base:a.copyState(b,d.base),overlay:a.copyState(c,d.overlay),basePos:d.basePos,baseCur:null,overlayPos:d.overlayPos,overlayCur:null}},token:function(a,e){return(a!=e.streamSeen||Math.min(e.basePos,e.overlayPos)\x3ca.start)&&(e.streamSeen=a,e.basePos=e.overlayPos=a.start),a.start==e.basePos&&(e.baseCur=b.token(a,e.base),e.basePos=a.pos),a.start==e.overlayPos&&(a.pos=a.start,e.overlayCur=c.token(a,e.overlay),e.overlayPos=a.pos),a.pos=Math.min(e.basePos,e.overlayPos),null==e.overlayCur?e.baseCur:null!=e.baseCur&&e.overlay.combineTokens||d&&null==e.overlay.combineTokens?e.baseCur+\x22 \x22+e.overlayCur:e.overlayCur},indent:b.indent&&function(a,c){return b.indent(a.base,c)},electricChars:b.electricChars,innerMode:function(a){return{state:a.base,mode:b}},blankLine:function(a){var e,f;return b.blankLine&&(e=b.blankLine(a.base)),c.blankLine&&(f=c.blankLine(a.overlay)),null==f?e:d&&null!=e?e+\x22 \x22+f:f}}}})},{\x22../../lib/codemirror\x22:59}],38:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){if(!a.hasOwnProperty(b))throw new Error(\x22Undefined state \x22+b+\x22 in simple mode\x22)}function c(a,b){if(!a)return/(?:)/;var c=\x22\x22;return a instanceof RegExp?(a.ignoreCase&&(c=\x22i\x22),a=a.source):a=String(a),new RegExp((b===!1?\x22\x22:\x22^\x22)+\x22(?:\x22+a+\x22)\x22,c)}function d(a){if(!a)return null;if(a.apply)return a;if(\x22string\x22==typeof a)return a.replace(/\x5c./g,\x22 \x22);for(var b=[],c=0;c\x3ca.length;c++)b.push(a[c]&&a[c].replace(/\x5c./g,\x22 \x22));return b}function e(a,e){(a.next||a.push)&&b(e,a.next||a.push),this.regex=c(a.regex),this.token=d(a.token),this.data=a}function f(a,b){return function(c,d){if(d.pending){var e=d.pending.shift();return 0==d.pending.length&&(d.pending=null),c.pos+=e.text.length,e.token}if(d.local){if(d.local.end&&c.match(d.local.end)){var f=d.local.endToken||null;return d.local=d.localState=null,f}var g,f=d.local.mode.token(c,d.localState);return d.local.endScan&&(g=d.local.endScan.exec(c.current()))&&(c.pos=c.start+g.index),f}for(var i=a[d.state],j=0;j\x3ci.length;j++){var k=i[j],l=(!k.data.sol||c.sol())&&c.match(k.regex);if(l){k.data.next?d.state=k.data.next:k.data.push?((d.stack||(d.stack=[])).push(d.state),d.state=k.data.push):k.data.pop&&d.stack&&d.stack.length&&(d.state=d.stack.pop()),k.data.mode&&h(b,d,k.data.mode,k.token),k.data.indent&&d.indent.push(c.indentation()+b.indentUnit),k.data.dedent&&d.indent.pop();var m=k.token;if(m&&m.apply&&(m=m(l)),l.length\x3e2){d.pending=[];for(var n=2;n\x3cl.length;n++)l[n]&&d.pending.push({text:l[n],token:k.token[n-1]});return c.backUp(l[0].length-(l[1]?l[1].length:0)),m[0]}return m&&m.join?m[0]:m}}return c.next(),null}}function g(a,b){if(a===b)return!0;if(!a||\x22object\x22!=typeof a||!b||\x22object\x22!=typeof b)return!1;var c=0;for(var d in a)if(a.hasOwnProperty(d)){if(!b.hasOwnProperty(d)||!g(a[d],b[d]))return!1;c++}for(var d in b)b.hasOwnProperty(d)&&c--;return 0==c}function h(b,d,e,f){var h;if(e.persistent)for(var i=d.persistentStates;i&&!h;i=i.next)(e.spec?g(e.spec,i.spec):e.mode==i.mode)&&(h=i);var j=h?h.mode:e.mode||a.getMode(b,e.spec),k=h?h.state:a.startState(j);e.persistent&&!h&&(d.persistentStates={mode:j,spec:e.spec,state:k,next:d.persistentStates}),d.localState=k,d.local={mode:j,end:e.end&&c(e.end),endScan:e.end&&e.forceEnd!==!1&&c(e.end,!1),endToken:f&&f.join?f[f.length-1]:f}}function i(a,b){for(var c=0;c\x3cb.length;c++)if(b[c]===a)return!0}function j(b,c){return function(d,e,f){if(d.local&&d.local.mode.indent)return d.local.mode.indent(d.localState,e,f);if(null==d.indent||d.local||c.dontIndentStates&&i(d.state,c.dontIndentStates)\x3e-1)return a.Pass;var g=d.indent.length-1,h=b[d.state];a:for(;;){for(var j=0;j\x3ch.length;j++){var k=h[j];if(k.data.dedent&&k.data.dedentIfLineStart!==!1){var l=k.regex.exec(e);if(l&&l[0]){g--,(k.next||k.push)&&(h=b[k.next||k.push]),e=e.slice(l[0].length);continue a}}}break}return g\x3c0?0:d.indent[g]}}a.defineSimpleMode=function(b,c){a.defineMode(b,function(b){return a.simpleMode(b,c)})},a.simpleMode=function(c,d){b(d,\x22start\x22);var g={},h=d.meta||{},i=!1;for(var k in d)if(k!=h&&d.hasOwnProperty(k))for(var l=g[k]=[],m=d[k],n=0;n\x3cm.length;n++){var o=m[n];l.push(new e(o,d)),(o.indent||o.dedent)&&(i=!0)}var p={startState:function(){return{state:\x22start\x22,pending:null,local:null,localState:null,indent:i?[]:null}},copyState:function(b){var c={state:b.state,pending:b.pending,local:b.local,localState:null,indent:b.indent&&b.indent.slice(0)};b.localState&&(c.localState=a.copyState(b.local.mode,b.localState)),b.stack&&(c.stack=b.stack.slice(0));for(var d=b.persistentStates;d;d=d.next)c.persistentStates={mode:d.mode,spec:d.spec,state:d.state==b.localState?c.localState:a.copyState(d.mode,d.state),next:c.persistentStates};return c},token:f(g,c),innerMode:function(a){return a.local&&{mode:a.local.mode,state:a.localState}},indent:j(g,h)};if(h)for(var q in h)h.hasOwnProperty(q)&&(p[q]=h[q]);return p}})},{\x22../../lib/codemirror\x22:59}],39:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22./runmode\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22./runmode\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,d){if(3==a.nodeType)return d.push(a.nodeValue);for(var e=a.firstChild;e;e=e.nextSibling)b(e,d),c.test(a.nodeType)&&d.push(\x22\x5cn\x22)}var c=/^(p|li|div|h\x5c\x5cd|pre|blockquote|td)$/;a.colorize=function(c,d){c||(c=document.body.getElementsByTagName(\x22pre\x22));for(var e=0;e\x3cc.length;++e){var f=c[e],g=f.getAttribute(\x22data-lang\x22)||d;if(g){var h=[];b(f,h),f.innerHTML=\x22\x22,a.runMode(h.join(\x22\x22),g,f),f.className+=\x22 cm-s-default\x22}}}})},{\x22../../lib/codemirror\x22:59,\x22./runmode\x22:41}],40:[function(a,b,c){window.CodeMirror={},function(){\x22use strict\x22;function a(a){return a.split(/\x5cr?\x5cn|\x5cr/)}function b(a){this.pos=this.start=0,this.string=a,this.lineStart=0}b.prototype={eol:function(){return this.pos\x3e=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||null},next:function(){if(this.pos\x3cthis.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if(\x22string\x22==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));if(c)return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos\x3eb},eatSpace:function(){for(var a=this.pos;/[\x5cs\x5cu00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos\x3ea},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b\x3e-1)return this.pos=b,!0},backUp:function(a){this.pos-=a},column:function(){return this.start-this.lineStart},indentation:function(){return 0},match:function(a,b,c){if(\x22string\x22!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index\x3e0?null:(d&&b!==!1&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a},f=this.string.substr(this.pos,a.length);if(e(f)==e(a))return b!==!1&&(this.pos+=a.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}},lookAhead:function(){return null}},CodeMirror.StringStream=b,CodeMirror.startState=function(a,b,c){return!a.startState||a.startState(b,c)};var c=CodeMirror.modes={},d=CodeMirror.mimeModes={};CodeMirror.defineMode=function(a,b){arguments.length\x3e2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),c[a]=b},CodeMirror.defineMIME=function(a,b){d[a]=b},CodeMirror.resolveMode=function(a){return\x22string\x22==typeof a&&d.hasOwnProperty(a)?a=d[a]:a&&\x22string\x22==typeof a.name&&d.hasOwnProperty(a.name)&&(a=d[a.name]),\x22string\x22==typeof a?{name:a}:a||{name:\x22null\x22}},CodeMirror.getMode=function(a,b){b=CodeMirror.resolveMode(b);var d=c[b.name];if(!d)throw new Error(\x22Unknown mode: \x22+b);return d(a,b)},CodeMirror.registerHelper=CodeMirror.registerGlobalHelper=Math.min,CodeMirror.defineMode(\x22null\x22,function(){return{token:function(a){a.skipToEnd()}}}),CodeMirror.defineMIME(\x22text/plain\x22,\x22null\x22),CodeMirror.runMode=function(b,c,d,e){var f=CodeMirror.getMode({indentUnit:2},c);if(1==d.nodeType){var g=e&&e.tabSize||4,h=d,i=0;h.innerHTML=\x22\x22,d=function(a,b){if(\x22\x5cn\x22==a)return h.appendChild(document.createElement(\x22br\x22)),void(i=0);for(var c=\x22\x22,d=0;;){var e=a.indexOf(\x22\x5ct\x22,d);if(e==-1){c+=a.slice(d),i+=a.length-d;break}i+=e-d,c+=a.slice(d,e);var f=g-i%g;i+=f;for(var j=0;j\x3cf;++j)c+=\x22 \x22;d=e+1}if(b){var k=h.appendChild(document.createElement(\x22span\x22));k.className=\x22cm-\x22+b.replace(/ +/g,\x22 cm-\x22),k.appendChild(document.createTextNode(c))}else h.appendChild(document.createTextNode(c))}}for(var j=a(b),k=e&&e.state||CodeMirror.startState(f),l=0,m=j.length;l\x3cm;++l){l&&d(\x22\x5cn\x22);var n=new CodeMirror.StringStream(j[l]);for(!n.string&&f.blankLine&&f.blankLine(k);!n.eol();){var o=f.token(n,k);d(n.current(),o,l,n.start,k),n.start=n.pos}}}}()},{}],41:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;a.runMode=function(b,c,d,e){var f=a.getMode(a.defaults,c),g=/MSIE \x5cd/.test(navigator.userAgent),h=g&&(null==document.documentMode||document.documentMode\x3c9);if(d.appendChild){var i=e&&e.tabSize||a.defaults.tabSize,j=d,k=0;j.innerHTML=\x22\x22,d=function(a,b){if(\x22\x5cn\x22==a)return j.appendChild(document.createTextNode(h?\x22\x5cr\x22:a)),void(k=0);for(var c=\x22\x22,d=0;;){var e=a.indexOf(\x22\x5ct\x22,d);if(e==-1){c+=a.slice(d),k+=a.length-d;break}k+=e-d,c+=a.slice(d,e);var f=i-k%i;k+=f;for(var g=0;g\x3cf;++g)c+=\x22 \x22;d=e+1}if(b){var l=j.appendChild(document.createElement(\x22span\x22));l.className=\x22cm-\x22+b.replace(/ +/g,\x22 cm-\x22),l.appendChild(document.createTextNode(c))}else j.appendChild(document.createTextNode(c))}}for(var l=a.splitLines(b),m=e&&e.state||a.startState(f),n=0,o=l.length;n\x3co;++n){n&&d(\x22\x5cn\x22);var p=new a.StringStream(l[n]);for(!p.string&&f.blankLine&&f.blankLine(m);!p.eol();){var q=f.token(p,m);d(p.current(),q,n,p.start,m),p.start=p.pos}}}})},{\x22../../lib/codemirror\x22:59}],42:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){function c(a){clearTimeout(d.doRedraw),d.doRedraw=setTimeout(function(){d.redraw()},a)}this.cm=a,this.options=b,this.buttonHeight=b.scrollButtonHeight||a.getOption(\x22scrollButtonHeight\x22),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=a.getWrapperElement().appendChild(document.createElement(\x22div\x22)),this.div.style.cssText=\x22position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none\x22,this.computeScale();var d=this;a.on(\x22refresh\x22,this.resizeHandler=function(){clearTimeout(d.doUpdate),d.doUpdate=setTimeout(function(){d.computeScale()&&c(20)},100)}),a.on(\x22markerAdded\x22,this.resizeHandler),a.on(\x22markerCleared\x22,this.resizeHandler),b.listenForChanges!==!1&&a.on(\x22change\x22,this.changeHandler=function(){c(250)})}a.defineExtension(\x22annotateScrollbar\x22,function(a){return\x22string\x22==typeof a&&(a={className:a}),new b(this,a)}),a.defineOption(\x22scrollButtonHeight\x22,0),b.prototype.computeScale=function(){var a=this.cm,b=(a.getWrapperElement().clientHeight-a.display.barHeight-2*this.buttonHeight)/a.getScrollerElement().scrollHeight;if(b!=this.hScale)return this.hScale=b,!0},b.prototype.update=function(a){this.annotations=a,this.redraw()},b.prototype.redraw=function(a){function b(a,b){if(i!=a.line&&(i=a.line,j=c.getLineHandle(i)),j.widgets&&j.widgets.length||g&&j.height\x3eh)return c.charCoords(a,\x22local\x22)[b?\x22top\x22:\x22bottom\x22];var d=c.heightAtLine(j,\x22local\x22);return d+(b?0:j.height)}a!==!1&&this.computeScale();var c=this.cm,d=this.hScale,e=document.createDocumentFragment(),f=this.annotations,g=c.getOption(\x22lineWrapping\x22),h=g&&1.5*c.defaultTextHeight(),i=null,j=null,k=c.lastLine();if(c.display.barWidth)for(var l,m=0;m\x3cf.length;m++){var n=f[m];if(!(n.to.line\x3ek)){for(var o=l||b(n.from,!0)*d,p=b(n.to,!1)*d;m\x3cf.length-1&&!(f[m+1].to.line\x3ek)&&(l=b(f[m+1].from,!0)*d,!(l\x3ep+.9));)n=f[++m],p=b(n.to,!1)*d;if(p!=o){var q=Math.max(p-o,3),r=e.appendChild(document.createElement(\x22div\x22));r.style.cssText=\x22position: absolute; right: 0px; width: \x22+Math.max(c.display.barWidth-1,2)+\x22px; top: \x22+(o+this.buttonHeight)+\x22px; height: \x22+q+\x22px\x22,r.className=this.options.className,n.id&&r.setAttribute(\x22annotation-id\x22,n.id)}}}this.div.textContent=\x22\x22,this.div.appendChild(e)},b.prototype.clear=function(){this.cm.off(\x22refresh\x22,this.resizeHandler),this.cm.off(\x22markerAdded\x22,this.resizeHandler),this.cm.off(\x22markerCleared\x22,this.resizeHandler),this.changeHandler&&this.cm.off(\x22change\x22,this.changeHandler),this.div.parentNode.removeChild(this.div)}})},{\x22../../lib/codemirror\x22:59}],43:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,d){a.changeEnd(d).line==b.lastLine()&&c(b)}function c(a){var b=\x22\x22;if(a.lineCount()\x3e1){var d=a.display.scroller.clientHeight-30,e=a.getLineHandle(a.lastLine()).height;b=d-e+\x22px\x22}a.state.scrollPastEndPadding!=b&&(a.state.scrollPastEndPadding=b,a.display.lineSpace.parentNode.style.paddingBottom=b,a.off(\x22refresh\x22,c),a.setSize(),a.on(\x22refresh\x22,c))}a.defineOption(\x22scrollPastEnd\x22,!1,function(d,e,f){f&&f!=a.Init&&(d.off(\x22change\x22,b),d.off(\x22refresh\x22,c),d.display.lineSpace.parentNode.style.paddingBottom=\x22\x22,d.state.scrollPastEndPadding=null),e&&(d.on(\x22change\x22,b),d.on(\x22refresh\x22,c),c(d))})})},{\x22../../lib/codemirror\x22:59}],44:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,c,d){function e(b){var c=a.wheelEventPixels(b)[\x22horizontal\x22==f.orientation?\x22x\x22:\x22y\x22],d=f.pos;f.moveTo(f.pos+c),f.pos!=d&&a.e_preventDefault(b)}this.orientation=c,this.scroll=d,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement(\x22div\x22),this.node.className=b+\x22-\x22+c,this.inner=this.node.appendChild(document.createElement(\x22div\x22));var f=this;a.on(this.inner,\x22mousedown\x22,function(b){function c(){a.off(document,\x22mousemove\x22,d),a.off(document,\x22mouseup\x22,c)}function d(a){return 1!=a.which?c():void f.moveTo(h+(a[e]-g)*(f.total/f.size))}if(1==b.which){a.e_preventDefault(b);var e=\x22horizontal\x22==f.orientation?\x22pageX\x22:\x22pageY\x22,g=b[e],h=f.pos;a.on(document,\x22mousemove\x22,d),a.on(document,\x22mouseup\x22,c)}}),a.on(this.node,\x22click\x22,function(b){a.e_preventDefault(b);var c,d=f.inner.getBoundingClientRect();c=\x22horizontal\x22==f.orientation?b.clientX\x3cd.left?-1:b.clientX\x3ed.right?1:0:b.clientY\x3cd.top?-1:b.clientY\x3ed.bottom?1:0,f.moveTo(f.pos+c*f.screen)}),a.on(this.node,\x22mousewheel\x22,e),a.on(this.node,\x22DOMMouseScroll\x22,e)}function c(a,c,d){this.addClass=a,this.horiz=new b(a,\x22horizontal\x22,d),c(this.horiz.node),this.vert=new b(a,\x22vertical\x22,d),c(this.vert.node),this.width=null}b.prototype.setPos=function(a,b){return a\x3c0&&(a=0),a\x3ethis.total-this.screen&&(a=this.total-this.screen),!(!b&&a==this.pos)&&(this.pos=a,this.inner.style[\x22horizontal\x22==this.orientation?\x22left\x22:\x22top\x22]=a*(this.size/this.total)+\x22px\x22,!0)},b.prototype.moveTo=function(a){this.setPos(a)&&this.scroll(a,this.orientation)};var d=10;b.prototype.update=function(a,b,c){var e=this.screen!=b||this.total!=a||this.size!=c;e&&(this.screen=b,this.total=a,this.size=c);var f=this.screen*(this.size/this.total);f\x3cd&&(this.size-=d-f,f=d),this.inner.style[\x22horizontal\x22==this.orientation?\x22width\x22:\x22height\x22]=f+\x22px\x22,this.setPos(this.pos,e)},c.prototype.update=function(a){if(null==this.width){var b=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;b&&(this.width=parseInt(b.height))}var c=this.width||0,d=a.scrollWidth\x3ea.clientWidth+1,e=a.scrollHeight\x3ea.clientHeight+1;return this.vert.node.style.display=e?\x22block\x22:\x22none\x22,this.horiz.node.style.display=d?\x22block\x22:\x22none\x22,e&&(this.vert.update(a.scrollHeight,a.clientHeight,a.viewHeight-(d?c:0)),this.vert.node.style.bottom=d?c+\x22px\x22:\x220\x22),d&&(this.horiz.update(a.scrollWidth,a.clientWidth,a.viewWidth-(e?c:0)-a.barLeft),this.horiz.node.style.right=e?c+\x22px\x22:\x220\x22,this.horiz.node.style.left=a.barLeft+\x22px\x22),{right:e?c:0,bottom:d?c:0}},c.prototype.setScrollTop=function(a){this.vert.setPos(a)},c.prototype.setScrollLeft=function(a){this.horiz.setPos(a)},c.prototype.clear=function(){var a=this.horiz.node.parentNode;a.removeChild(this.horiz.node),a.removeChild(this.vert.node)},a.scrollbarModel.simple=function(a,b){return new c(\x22CodeMirror-simplescroll\x22,a,b)},a.scrollbarModel.overlay=function(a,b){return new c(\x22CodeMirror-overlayscroll\x22,a,b)}})},{\x22../../lib/codemirror\x22:59}],45:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22../dialog/dialog\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22../dialog/dialog\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b,c,d,e){a.openDialog?a.openDialog(b,e,{value:d,selectValueOnOpen:!0}):e(prompt(c,d))}function c(a,b){var c=Number(b);return/^[-+]/.test(b)?a.getCursor().line+c:c-1}var d=\x27Jump to line: \x3cinput type=\x22text\x22 style=\x22width: 10em\x22 class=\x22CodeMirror-search-field\x22/\x3e \x3cspan style=\x22color: #888\x22 class=\x22CodeMirror-search-hint\x22\x3e(Use line:column or scroll% syntax)\x3c/span\x3e\x27;a.commands.jumpToLine=function(a){var e=a.getCursor();b(a,d,\x22Jump to line:\x22,e.line+1+\x22:\x22+e.ch,function(b){if(b){var d;if(d=/^\x5cs*([\x5c+\x5c-]?\x5cd+)\x5cs*\x5c:\x5cs*(\x5cd+)\x5cs*$/.exec(b))a.setCursor(c(a,d[1]),Number(d[2]));else if(d=/^\x5cs*([\x5c+\x5c-]?\x5cd+(\x5c.\x5cd+)?)\x5c%\x5cs*/.exec(b)){var f=Math.round(a.lineCount()*Number(d[1])/100);/^[-+]/.test(d[1])&&(f=e.line+f+1),a.setCursor(f-1,e.ch)}else(d=/^\x5cs*\x5c:?\x5cs*([\x5c+\x5c-]?\x5cd+)\x5cs*/.exec(b))&&a.setCursor(c(a,d[1]),e.ch)}})},a.keyMap[\x22default\x22][\x22Alt-G\x22]=\x22jumpToLine\x22})},{\x22../../lib/codemirror\x22:59,\x22../dialog/dialog\x22:3}],46:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22./matchesonscrollbar\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22./matchesonscrollbar\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){this.options={};for(var b in l)this.options[b]=(a&&a.hasOwnProperty(b)?a:l)[b];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function c(a){var b=a.state.matchHighlighter;(b.active||a.hasFocus())&&e(a,b)}function d(a){var b=a.state.matchHighlighter;b.active||(b.active=!0,e(a,b))}function e(a,b){clearTimeout(b.timeout),b.timeout=setTimeout(function(){h(a)},b.options.delay)}function f(a,b,c,d){var e=a.state.matchHighlighter;if(a.addOverlay(e.overlay=k(b,c,d)),e.options.annotateScrollbar&&a.showMatchesOnScrollbar){var f=c?new RegExp(\x22\x5c\x5cb\x22+b+\x22\x5c\x5cb\x22):b;e.matchesonscroll=a.showMatchesOnScrollbar(f,!1,{className:\x22CodeMirror-selection-highlight-scrollbar\x22})}}function g(a){var b=a.state.matchHighlighter;b.overlay&&(a.removeOverlay(b.overlay),b.overlay=null,b.matchesonscroll&&(b.matchesonscroll.clear(),b.matchesonscroll=null))}function h(a){a.operation(function(){var b=a.state.matchHighlighter;if(g(a),!a.somethingSelected()&&b.options.showToken){for(var c=b.options.showToken===!0?/[\x5cw$]/:b.options.showToken,d=a.getCursor(),e=a.getLine(d.line),h=d.ch,j=h;h&&c.test(e.charAt(h-1));)--h;for(;j\x3ce.length&&c.test(e.charAt(j));)++j;return void(h\x3cj&&f(a,e.slice(h,j),c,b.options.style))}var k=a.getCursor(\x22from\x22),l=a.getCursor(\x22to\x22);if(k.line==l.line&&(!b.options.wordsOnly||i(a,k,l))){var m=a.getRange(k,l);b.options.trim&&(m=m.replace(/^\x5cs+|\x5cs+$/g,\x22\x22)),m.length\x3e=b.options.minChars&&f(a,m,!1,b.options.style)}})}function i(a,b,c){var d=a.getRange(b,c);if(null!==d.match(/^\x5cw+$/)){if(b.ch\x3e0){var e={line:b.line,ch:b.ch-1},f=a.getRange(e,b);if(null===f.match(/\x5cW/))return!1}if(c.ch\x3ca.getLine(b.line).length){var e={line:c.line,ch:c.ch+1},f=a.getRange(c,e);if(null===f.match(/\x5cW/))return!1}return!0}return!1}function j(a,b){return!(a.start&&b.test(a.string.charAt(a.start-1))||a.pos!=a.string.length&&b.test(a.string.charAt(a.pos)))}function k(a,b,c){return{token:function(d){return!d.match(a)||b&&!j(d,b)?(d.next(),void(d.skipTo(a.charAt(0))||d.skipToEnd())):c}}}var l={style:\x22matchhighlight\x22,minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};a.defineOption(\x22highlightSelectionMatches\x22,!1,function(e,f,i){if(i&&i!=a.Init&&(g(e),clearTimeout(e.state.matchHighlighter.timeout),e.state.matchHighlighter=null,e.off(\x22cursorActivity\x22,c),e.off(\x22focus\x22,d)),f){var j=e.state.matchHighlighter=new b(f);e.hasFocus()?(j.active=!0,h(e)):e.on(\x22focus\x22,d),e.on(\x22cursorActivity\x22,c)}})})},{\x22../../lib/codemirror\x22:59,\x22./matchesonscrollbar\x22:47}],47:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22./searchcursor\x22),a(\x22../scroll/annotatescrollbar\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22./searchcursor\x22,\x22../scroll/annotatescrollbar\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b,c,d){this.cm=a,this.options=d;var e={listenForChanges:!1};for(var f in d)e[f]=d[f];e.className||(e.className=\x22CodeMirror-search-match\x22),this.annotation=a.annotateScrollbar(e),this.query=b,this.caseFold=c,this.gap={from:a.firstLine(),to:a.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var g=this;a.on(\x22change\x22,this.changeHandler=function(a,b){g.onChange(b)})}function c(a,b,c){return a\x3c=b?a:Math.max(b,a+c)}a.defineExtension(\x22showMatchesOnScrollbar\x22,function(a,c,d){return\x22string\x22==typeof d&&(d={className:d}),d||(d={}),new b(this,a,c,d)});var d=1e3;b.prototype.findMatches=function(){if(this.gap){for(var b=0;b\x3cthis.matches.length;b++){var c=this.matches[b];if(c.from.line\x3e=this.gap.to)break;c.to.line\x3e=this.gap.from&&this.matches.splice(b--,1)}for(var e=this.cm.getSearchCursor(this.query,a.Pos(this.gap.from,0),this.caseFold),f=this.options&&this.options.maxMatches||d;e.findNext();){var c={from:e.from(),to:e.to()};if(c.from.line\x3e=this.gap.to)break;if(this.matches.splice(b++,0,c),this.matches.length\x3ef)break}this.gap=null}},b.prototype.onChange=function(b){var d=b.from.line,e=a.changeEnd(b).line,f=e-b.to.line;if(this.gap?(this.gap.from=Math.min(c(this.gap.from,d,f),b.from.line),this.gap.to=Math.max(c(this.gap.to,d,f),b.from.line)):this.gap={from:b.from.line,to:e+1},f)for(var g=0;g\x3cthis.matches.length;g++){var h=this.matches[g],i=c(h.from.line,d,f);i!=h.from.line&&(h.from=a.Pos(i,h.from.ch));var j=c(h.to.line,d,f);j!=h.to.line&&(h.to=a.Pos(j,h.to.ch))}clearTimeout(this.update);var k=this;this.update=setTimeout(function(){k.updateAfterChange()},250)},b.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},b.prototype.clear=function(){this.cm.off(\x22change\x22,this.changeHandler),this.annotation.clear()}})},{\x22../../lib/codemirror\x22:59,\x22../scroll/annotatescrollbar\x22:42,\x22./searchcursor\x22:49}],48:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22),a(\x22./searchcursor\x22),a(\x22../dialog/dialog\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22,\x22./searchcursor\x22,\x22../dialog/dialog\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){return\x22string\x22==typeof a?a=new RegExp(a.replace(/[\x5c-\x5c[\x5c]\x5c/\x5c{\x5c}\x5c(\x5c)\x5c*\x5c+\x5c?\x5c.\x5c\x5c\x5c^\x5c$\x5c|]/g,\x22\x5c\x5c$&\x22),b?\x22gi\x22:\x22g\x22):a.global||(a=new RegExp(a.source,a.ignoreCase?\x22gi\x22:\x22g\x22)),{token:function(b){a.lastIndex=b.pos;var c=a.exec(b.string);return c&&c.index==b.pos?(b.pos+=c[0].length||1,\x22searching\x22):void(c?b.pos=c.index:b.skipToEnd())}}}function c(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function d(a){return a.state.search||(a.state.search=new c)}function e(a){return\x22string\x22==typeof a&&a==a.toLowerCase()}function f(a,b,c){return a.getSearchCursor(b,c,{caseFold:e(b),multiline:!0})}function g(a,b,c,d,e){a.openDialog(b,d,{value:c,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){o(a)},onKeyDown:e})}function h(a,b,c,d,e){a.openDialog?a.openDialog(b,e,{value:d,selectValueOnOpen:!0}):e(prompt(c,d))}function i(a,b,c,d){a.openConfirm?a.openConfirm(b,d):confirm(c)&&d[0]()}function j(a){return a.replace(/\x5c\x5c(.)/g,function(a,b){return\x22n\x22==b?\x22\x5cn\x22:\x22r\x22==b?\x22\x5cr\x22:b})}function k(a){var b=a.match(/^\x5c/(.*)\x5c/([a-z]*)$/);if(b)try{a=new RegExp(b[1],b[2].indexOf(\x22i\x22)==-1?\x22\x22:\x22i\x22)}catch(c){}else a=j(a);return(\x22string\x22==typeof a?\x22\x22==a:a.test(\x22\x22))&&(a=/x^/),a}function l(a,c,d){c.queryText=d,c.query=k(d),a.removeOverlay(c.overlay,e(c.query)),c.overlay=b(c.query,e(c.query)),a.addOverlay(c.overlay),a.showMatchesOnScrollbar&&(c.annotate&&(c.annotate.clear(),c.annotate=null),c.annotate=a.showMatchesOnScrollbar(c.query,e(c.query)))}function m(b,c,e,f){var i=d(b);if(i.query)return n(b,c);var j=b.getSelection()||i.lastQuery;if(e&&b.openDialog){var k=null,m=function(c,d){a.e_stop(d),c&&(c!=i.queryText&&(l(b,i,c),i.posFrom=i.posTo=b.getCursor()),k&&(k.style.opacity=1),n(b,d.shiftKey,function(a,c){var d;c.line\x3c3&&document.querySelector&&(d=b.display.wrapper.querySelector(\x22.CodeMirror-dialog\x22))&&d.getBoundingClientRect().bottom-4\x3eb.cursorCoords(c,\x22window\x22).top&&((k=d).style.opacity=.4)}))};g(b,r,j,m,function(c,e){var f=a.keyName(c),g=b.getOption(\x22extraKeys\x22),h=g&&g[f]||a.keyMap[b.getOption(\x22keyMap\x22)][f];\x22findNext\x22==h||\x22findPrev\x22==h||\x22findPersistentNext\x22==h||\x22findPersistentPrev\x22==h?(a.e_stop(c),l(b,d(b),e),b.execCommand(h)):\x22find\x22!=h&&\x22findPersistent\x22!=h||(a.e_stop(c),m(e,c))}),f&&j&&(l(b,i,j),n(b,c))}else h(b,r,\x22Search for:\x22,j,function(a){a&&!i.query&&b.operation(function(){l(b,i,a),i.posFrom=i.posTo=b.getCursor(),n(b,c)})})}function n(b,c,e){b.operation(function(){var g=d(b),h=f(b,g.query,c?g.posFrom:g.posTo);(h.find(c)||(h=f(b,g.query,c?a.Pos(b.lastLine()):a.Pos(b.firstLine(),0)),h.find(c)))&&(b.setSelection(h.from(),h.to()),b.scrollIntoView({from:h.from(),to:h.to()},20),g.posFrom=h.from(),g.posTo=h.to(),e&&e(h.from(),h.to()))})}function o(a){a.operation(function(){var b=d(a);b.lastQuery=b.query,b.query&&(b.query=b.queryText=null,a.removeOverlay(b.overlay),b.annotate&&(b.annotate.clear(),b.annotate=null))})}function p(a,b,c){a.operation(function(){for(var d=f(a,b);d.findNext();)if(\x22string\x22!=typeof b){var e=a.getRange(d.from(),d.to()).match(b);d.replace(c.replace(/\x5c$(\x5cd)/g,function(a,b){return e[b]}))}else d.replace(c)})}function q(a,b){if(!a.getOption(\x22readOnly\x22)){var c=a.getSelection()||d(a).lastQuery,e=\x27\x3cspan class=\x22CodeMirror-search-label\x22\x3e\x27+(b?\x22Replace all:\x22:\x22Replace:\x22)+\x22\x3c/span\x3e\x22;h(a,e+s,e,c,function(c){c&&(c=k(c),h(a,t,\x22Replace with:\x22,\x22\x22,function(d){if(d=j(d),b)p(a,c,d);else{o(a);var e=f(a,c,a.getCursor(\x22from\x22)),g=function(){var b,j=e.from();!(b=e.findNext())&&(e=f(a,c),!(b=e.findNext())||j&&e.from().line==j.line&&e.from().ch==j.ch)||(a.setSelection(e.from(),e.to()),a.scrollIntoView({from:e.from(),to:e.to()}),i(a,u,\x22Replace?\x22,[function(){h(b)},g,function(){p(a,c,d)}]))},h=function(a){e.replace(\x22string\x22==typeof c?d:d.replace(/\x5c$(\x5cd)/g,function(b,c){return a[c]})),g()};g()}}))})}}var r=\x27\x3cspan class=\x22CodeMirror-search-label\x22\x3eSearch:\x3c/span\x3e \x3cinput type=\x22text\x22 style=\x22width: 10em\x22 class=\x22CodeMirror-search-field\x22/\x3e \x3cspan style=\x22color: #888\x22 class=\x22CodeMirror-search-hint\x22\x3e(Use /re/ syntax for regexp search)\x3c/span\x3e\x27,s=\x27 \x3cinput type=\x22text\x22 style=\x22width: 10em\x22 class=\x22CodeMirror-search-field\x22/\x3e \x3cspan style=\x22color: #888\x22 class=\x22CodeMirror-search-hint\x22\x3e(Use /re/ syntax for regexp search)\x3c/span\x3e\x27,t=\x27\x3cspan class=\x22CodeMirror-search-label\x22\x3eWith:\x3c/span\x3e \x3cinput type=\x22text\x22 style=\x22width: 10em\x22 class=\x22CodeMirror-search-field\x22/\x3e\x27,u=\x27\x3cspan class=\x22CodeMirror-search-label\x22\x3eReplace?\x3c/span\x3e \x3cbutton\x3eYes\x3c/button\x3e \x3cbutton\x3eNo\x3c/button\x3e \x3cbutton\x3eAll\x3c/button\x3e \x3cbutton\x3eStop\x3c/button\x3e\x27;a.commands.find=function(a){o(a),m(a)},a.commands.findPersistent=function(a){o(a),m(a,!1,!0)},a.commands.findPersistentNext=function(a){m(a,!1,!0,!0)},a.commands.findPersistentPrev=function(a){m(a,!0,!0,!0)},a.commands.findNext=m,a.commands.findPrev=function(a){m(a,!0)},a.commands.clearSearch=o,a.commands.replace=q,a.commands.replaceAll=function(a){q(a,!0)}})},{\x22../../lib/codemirror\x22:59,\x22../dialog/dialog\x22:3,\x22./searchcursor\x22:49}],49:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){var b=a.flags;return null!=b?b:(a.ignoreCase?\x22i\x22:\x22\x22)+(a.global?\x22g\x22:\x22\x22)+(a.multiline?\x22m\x22:\x22\x22)}function c(a){return a.global?a:new RegExp(a.source,b(a)+\x22g\x22)}function d(a){return/\x5c\x5cs|\x5c\x5cn|\x5cn|\x5c\x5cW|\x5c\x5cD|\x5c[\x5c^/.test(a.source)}function e(a,b,d){b=c(b);for(var e=d.line,f=d.ch,g=a.lastLine();e\x3c=g;e++,f=0){b.lastIndex=f;var h=a.getLine(e),i=b.exec(h);if(i)return{from:p(e,i.index),to:p(e,i.index+i[0].length),match:i}}}function f(a,b,f){if(!d(b))return e(a,b,f);b=c(b);for(var g,h=1,i=f.line,j=a.lastLine();i\x3c=j;){for(var k=0;k\x3ch;k++){var l=a.getLine(i++);g=null==g?l:g+\x22\x5cn\x22+l}h*=2,b.lastIndex=f.ch;var m=b.exec(g);if(m){var n=g.slice(0,m.index).split(\x22\x5cn\x22),o=m[0].split(\x22\x5cn\x22),q=f.line+n.length-1,r=n[n.length-1].length;return{from:p(q,r),to:p(q+o.length-1,1==o.length?r+o[0].length:o[o.length-1].length),match:m}}}}function g(a,b){for(var c,d=0;;){b.lastIndex=d;var e=b.exec(a);if(!e)return c;if(c=e,d=c.index+(c[0].length||1),d==a.length)return c}}function h(a,b,d){b=c(b);for(var e=d.line,f=d.ch,h=a.firstLine();e\x3e=h;e--,f=-1){var i=a.getLine(e);f\x3e-1&&(i=i.slice(0,f));var j=g(i,b);if(j)return{from:p(e,j.index),to:p(e,j.index+j[0].length),match:j}}}function i(a,b,d){b=c(b);for(var e,f=1,h=d.line,i=a.firstLine();h\x3e=i;){for(var j=0;j\x3cf;j++){var k=a.getLine(h--);e=null==e?k.slice(0,d.ch):k+\x22\x5cn\x22+e}f*=2;var l=g(e,b);if(l){var m=e.slice(0,l.index).split(\x22\x5cn\x22),n=l[0].split(\x22\x5cn\x22),o=h+m.length,q=m[m.length-1].length;\x0areturn{from:p(o,q),to:p(o+n.length-1,1==n.length?q+n[0].length:n[n.length-1].length),match:l}}}}function j(a,b,c,d){if(a.length==b.length)return c;for(var e=0,f=c+Math.max(0,a.length-b.length);;){if(e==f)return e;var g=e+f\x3e\x3e1,h=d(a.slice(0,g)).length;if(h==c)return g;h\x3ec?f=g:e=g+1}}function k(a,b,c,d){if(!b.length)return null;var e=d?n:o,f=e(b).split(/\x5cr|\x5cn\x5cr?/);a:for(var g=c.line,h=c.ch,i=a.lastLine()+1-f.length;g\x3c=i;g++,h=0){var k=a.getLine(g).slice(h),l=e(k);if(1==f.length){var m=l.indexOf(f[0]);if(m==-1)continue a;var c=j(k,l,m,e)+h;return{from:p(g,j(k,l,m,e)+h),to:p(g,j(k,l,m+f[0].length,e)+h)}}var q=l.length-f[0].length;if(l.slice(q)==f[0]){for(var r=1;r\x3cf.length-1;r++)if(e(a.getLine(g+r))!=f[r])continue a;var s=a.getLine(g+f.length-1),t=e(s),u=f[f.length-1];if(s.slice(0,u.length)==u)return{from:p(g,j(k,l,q,e)+h),to:p(g+f.length-1,j(s,t,u.length,e))}}}}function l(a,b,c,d){if(!b.length)return null;var e=d?n:o,f=e(b).split(/\x5cr|\x5cn\x5cr?/);a:for(var g=c.line,h=c.ch,i=a.firstLine()-1+f.length;g\x3e=i;g--,h=-1){var k=a.getLine(g);h\x3e-1&&(k=k.slice(0,h));var l=e(k);if(1==f.length){var m=l.lastIndexOf(f[0]);if(m==-1)continue a;return{from:p(g,j(k,l,m,e)),to:p(g,j(k,l,m+f[0].length,e))}}var q=f[f.length-1];if(l.slice(0,q.length)==q){for(var r=1,c=g-f.length+1;r\x3cf.length-1;r++)if(e(a.getLine(c+r))!=f[r])continue a;var s=a.getLine(g+1-f.length),t=e(s);if(t.slice(t.length-f[0].length)==f[0])return{from:p(g+1-f.length,j(s,t,s.length-f[0].length,e)),to:p(g,j(k,l,q.length,e))}}}}function m(a,b,d,g){this.atOccurrence=!1,this.doc=a,d=d?a.clipPos(d):p(0,0),this.pos={from:d,to:d};var j;\x22object\x22==typeof g?j=g.caseFold:(j=g,g=null),\x22string\x22==typeof b?(null==j&&(j=!1),this.matches=function(c,d){return(c?l:k)(a,b,d,j)}):(b=c(b),g&&g.multiline===!1?this.matches=function(c,d){return(c?h:e)(a,b,d)}:this.matches=function(c,d){return(c?i:f)(a,b,d)})}var n,o,p=a.Pos;String.prototype.normalize?(n=function(a){return a.normalize(\x22NFD\x22).toLowerCase()},o=function(a){return a.normalize(\x22NFD\x22)}):(n=function(a){return a.toLowerCase()},o=function(a){return a}),m.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(b){for(var c=this.matches(b,this.doc.clipPos(b?this.pos.from:this.pos.to));c&&0==a.cmpPos(c.from,c.to);)b?c.from.ch?c.from=p(c.from.line,c.from.ch-1):c=c.from.line==this.doc.firstLine()?null:this.matches(b,this.doc.clipPos(p(c.from.line-1))):c.to.ch\x3cthis.doc.getLine(c.to.line).length?c.to=p(c.to.line,c.to.ch+1):c=c.to.line==this.doc.lastLine()?null:this.matches(b,p(c.to.line+1,0));if(c)return this.pos=c,this.atOccurrence=!0,this.pos.match||!0;var d=p(b?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:d,to:d},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(b,c){if(this.atOccurrence){var d=a.splitLines(b);this.doc.replaceRange(d,this.pos.from,this.pos.to,c),this.pos.to=p(this.pos.from.line+d.length-1,d[d.length-1].length+(1==d.length?this.pos.from.ch:0))}}},a.defineExtension(\x22getSearchCursor\x22,function(a,b,c){return new m(this.doc,a,b,c)}),a.defineDocExtension(\x22getSearchCursor\x22,function(a,b,c){return new m(this,a,b,c)}),a.defineExtension(\x22selectMatches\x22,function(b,c){for(var d=[],e=this.getSearchCursor(b,this.getCursor(\x22from\x22),c);e.findNext()&&!(a.cmpPos(e.to(),this.getCursor(\x22to\x22))\x3e0);)d.push({anchor:e.from(),head:e.to()});d.length&&this.setSelections(d,0)})})},{\x22../../lib/codemirror\x22:59}],50:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){for(var b=0;b\x3ca.state.activeLines.length;b++)a.removeLineClass(a.state.activeLines[b],\x22wrap\x22,f),a.removeLineClass(a.state.activeLines[b],\x22background\x22,g),a.removeLineClass(a.state.activeLines[b],\x22gutter\x22,h)}function c(a,b){if(a.length!=b.length)return!1;for(var c=0;c\x3ca.length;c++)if(a[c]!=b[c])return!1;return!0}function d(a,d){for(var e=[],i=0;i\x3cd.length;i++){var j=d[i],k=a.getOption(\x22styleActiveLine\x22);if(\x22object\x22==typeof k&&k.nonEmpty?j.anchor.line==j.head.line:j.empty()){var l=a.getLineHandleVisualStart(j.head.line);e[e.length-1]!=l&&e.push(l)}}c(a.state.activeLines,e)||a.operation(function(){b(a);for(var c=0;c\x3ce.length;c++)a.addLineClass(e[c],\x22wrap\x22,f),a.addLineClass(e[c],\x22background\x22,g),a.addLineClass(e[c],\x22gutter\x22,h);a.state.activeLines=e})}function e(a,b){d(a,b.ranges)}var f=\x22CodeMirror-activeline\x22,g=\x22CodeMirror-activeline-background\x22,h=\x22CodeMirror-activeline-gutter\x22;a.defineOption(\x22styleActiveLine\x22,!1,function(c,f,g){var h=g!=a.Init&&g;f!=h&&(h&&(c.off(\x22beforeSelectionChange\x22,e),b(c),delete c.state.activeLines),f&&(c.state.activeLines=[],d(c,c.listSelections()),c.on(\x22beforeSelectionChange\x22,e)))})})},{\x22../../lib/codemirror\x22:59}],51:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a){a.state.markedSelection&&a.operation(function(){g(a)})}function c(a){a.state.markedSelection&&a.state.markedSelection.length&&a.operation(function(){e(a)})}function d(a,b,c,d){if(0!=j(b,c))for(var e=a.state.markedSelection,f=a.state.markedSelectionStyle,g=b.line;;){var k=g==b.line?b:i(g,0),l=g+h,m=l\x3e=c.line,n=m?c:i(l,0),o=a.markText(k,n,{className:f});if(null==d?e.push(o):e.splice(d++,0,o),m)break;g=l}}function e(a){for(var b=a.state.markedSelection,c=0;c\x3cb.length;++c)b[c].clear();b.length=0}function f(a){e(a);for(var b=a.listSelections(),c=0;c\x3cb.length;c++)d(a,b[c].from(),b[c].to())}function g(a){if(!a.somethingSelected())return e(a);if(a.listSelections().length\x3e1)return f(a);var b=a.getCursor(\x22start\x22),c=a.getCursor(\x22end\x22),g=a.state.markedSelection;if(!g.length)return d(a,b,c);var i=g[0].find(),k=g[g.length-1].find();if(!i||!k||c.line-b.line\x3c=h||j(b,k.to)\x3e=0||j(c,i.from)\x3c=0)return f(a);for(;j(b,i.from)\x3e0;)g.shift().clear(),i=g[0].find();for(j(b,i.from)\x3c0&&(i.to.line-b.line\x3ch?(g.shift().clear(),d(a,b,i.to,0)):d(a,b,i.from,0));j(c,k.to)\x3c0;)g.pop().clear(),k=g[g.length-1].find();j(c,k.to)\x3e0&&(c.line-k.from.line\x3ch?(g.pop().clear(),d(a,k.from,c)):d(a,k.to,c))}a.defineOption(\x22styleSelectedText\x22,!1,function(d,g,h){var i=h&&h!=a.Init;g&&!i?(d.state.markedSelection=[],d.state.markedSelectionStyle=\x22string\x22==typeof g?g:\x22CodeMirror-selectedtext\x22,f(d),d.on(\x22cursorActivity\x22,b),d.on(\x22change\x22,c)):!g&&i&&(d.off(\x22cursorActivity\x22,b),d.off(\x22change\x22,c),e(d),d.state.markedSelection=d.state.markedSelectionStyle=null)});var h=8,i=a.Pos,j=a.cmpPos})},{\x22../../lib/codemirror\x22:59}],52:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){var c=a.state.selectionPointer;(null==b.buttons?b.which:b.buttons)?c.mouseX=c.mouseY=null:(c.mouseX=b.clientX,c.mouseY=b.clientY),e(a)}function c(a,b){if(!a.getWrapperElement().contains(b.relatedTarget)){var c=a.state.selectionPointer;c.mouseX=c.mouseY=null,e(a)}}function d(a){a.state.selectionPointer.rects=null,e(a)}function e(a){a.state.selectionPointer.willUpdate||(a.state.selectionPointer.willUpdate=!0,setTimeout(function(){f(a),a.state.selectionPointer.willUpdate=!1},50))}function f(a){var b=a.state.selectionPointer;if(b){if(null==b.rects&&null!=b.mouseX&&(b.rects=[],a.somethingSelected()))for(var c=a.display.selectionDiv.firstChild;c;c=c.nextSibling)b.rects.push(c.getBoundingClientRect());var d=!1;if(null!=b.mouseX)for(var e=0;e\x3cb.rects.length;e++){var f=b.rects[e];f.left\x3c=b.mouseX&&f.right\x3e=b.mouseX&&f.top\x3c=b.mouseY&&f.bottom\x3e=b.mouseY&&(d=!0)}var g=d?b.value:\x22\x22;a.display.lineDiv.style.cursor!=g&&(a.display.lineDiv.style.cursor=g)}}a.defineOption(\x22selectionPointer\x22,!1,function(e,f){var g=e.state.selectionPointer;g&&(a.off(e.getWrapperElement(),\x22mousemove\x22,g.mousemove),a.off(e.getWrapperElement(),\x22mouseout\x22,g.mouseout),a.off(window,\x22scroll\x22,g.windowScroll),e.off(\x22cursorActivity\x22,d),e.off(\x22scroll\x22,d),e.state.selectionPointer=null,e.display.lineDiv.style.cursor=\x22\x22),f&&(g=e.state.selectionPointer={value:\x22string\x22==typeof f?f:\x22default\x22,mousemove:function(a){b(e,a)},mouseout:function(a){c(e,a)},windowScroll:function(){d(e)},rects:null,mouseX:null,mouseY:null,willUpdate:!1},a.on(e.getWrapperElement(),\x22mousemove\x22,g.mousemove),a.on(e.getWrapperElement(),\x22mouseout\x22,g.mouseout),a.on(window,\x22scroll\x22,g.windowScroll),e.on(\x22cursorActivity\x22,d),e.on(\x22scroll\x22,d))})})},{\x22../../lib/codemirror\x22:59}],53:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b,c){var d=a.docs[b];d?c(F(a,d)):a.options.getFile?a.options.getFile(b,c):c(null)}function c(a,b,c){for(var d in a.docs){var e=a.docs[d];if(e.doc==b)return e}if(!c)for(var f=0;;++f)if(d=\x22[doc\x22+(f||\x22\x22)+\x22]\x22,!a.docs[d]){c=d;break}return a.addDoc(c,b)}function d(b,d){return\x22string\x22==typeof d?b.docs[d]:(d instanceof a&&(d=d.getDoc()),d instanceof a.Doc?c(b,d):void 0)}function e(a,b,d){var e=c(a,b),g=a.cachedArgHints;g&&g.doc==b&&L(g.start,d.to)\x3e=0&&(a.cachedArgHints=null);var h=e.changed;null==h&&(e.changed=h={from:d.from.line,to:d.from.line});var i=d.from.line+(d.text.length-1);d.from.line\x3ch.to&&(h.to=h.to-(d.to.line-i)),i\x3e=h.to&&(h.to=i+1),h.from\x3ed.from.line&&(h.from=d.from.line),b.lineCount()\x3eJ&&d.to-h.from\x3e100&&setTimeout(function(){e.changed&&e.changed.to-e.changed.from\x3e100&&f(a,e)},200)}function f(a,b){a.server.request({files:[{type:\x22full\x22,name:b.name,text:F(a,b)}]},function(a){a?window.console.error(a):b.changed=null})}function g(b,c,d){b.request(c,{type:\x22completions\x22,types:!0,docs:!0,urls:!0},function(e,f){if(e)return D(b,c,e);var g=[],i=\x22\x22,j=f.start,k=f.end;\x27[\x22\x27==c.getRange(H(j.line,j.ch-2),j)&&\x27\x22]\x27!=c.getRange(k,H(k.line,k.ch+2))&&(i=\x27\x22]\x27);for(var l=0;l\x3cf.completions.length;++l){var m=f.completions[l],n=h(m.type);f.guess&&(n+=\x22 \x22+I+\x22guess\x22),g.push({text:m.name+i,displayText:m.displayName||m.name,className:n,data:m})}var o={from:j,to:k,list:g},p=null;a.on(o,\x22close\x22,function(){B(p)}),a.on(o,\x22update\x22,function(){B(p)}),a.on(o,\x22select\x22,function(a,c){B(p);var d=b.options.completionTip?b.options.completionTip(a.data):a.data.doc;d&&(p=A(c.parentNode.getBoundingClientRect().right+window.pageXOffset,c.getBoundingClientRect().top+window.pageYOffset,d),p.className+=\x22 \x22+I+\x22hint-doc\x22)}),d(o)})}function h(a){var b;return b=\x22?\x22==a?\x22unknown\x22:\x22number\x22==a||\x22string\x22==a||\x22bool\x22==a?a:/^fn\x5c(/.test(a)?\x22fn\x22:/^\x5c[/.test(a)?\x22array\x22:\x22object\x22,I+\x22completion \x22+I+\x22completion-\x22+b}function i(a,b,c,d,e){a.request(b,d,function(c,d){if(c)return D(a,b,c);if(a.options.typeTip)var f=a.options.typeTip(d);else{var f=w(\x22span\x22,null,w(\x22strong\x22,null,d.type||\x22not found\x22));if(d.doc&&f.appendChild(document.createTextNode(\x22 \x5cu2014 \x22+d.doc)),d.url){f.appendChild(document.createTextNode(\x22 \x22));var g=f.appendChild(w(\x22a\x22,null,\x22[docs]\x22));g.href=d.url,g.target=\x22_blank\x22}}y(b,f,a),e&&e()},c)}function j(b,c){if(E(b),!c.somethingSelected()){var d=c.getTokenAt(c.getCursor()).state,e=a.innerMode(c.getMode(),d);if(\x22javascript\x22==e.mode.name){var f=e.state.lexical;if(\x22call\x22==f.info){for(var g,h=f.pos||0,i=c.getOption(\x22tabSize\x22),j=c.getCursor().line,m=Math.max(0,j-9),n=!1;j\x3e=m;--j){for(var o=c.getLine(j),p=0,q=0;;){var r=o.indexOf(\x22\x5ct\x22,q);if(r==-1)break;p+=i-(r+p)%i-1,q=r+1}if(g=f.column-p,\x22(\x22==o.charAt(g)){n=!0;break}}if(n){var s=H(j,g),t=b.cachedArgHints;return t&&t.doc==c.getDoc()&&0==L(s,t.start)?k(b,c,h):void b.request(c,{type:\x22type\x22,preferFunction:!0,end:s},function(a,d){!a&&d.type&&/^fn\x5c(/.test(d.type)&&(b.cachedArgHints={start:s,type:l(d.type),name:d.exprName||d.name||\x22fn\x22,guess:d.guess,doc:c.getDoc()},k(b,c,h))})}}}}}function k(a,b,c){E(a);for(var d=a.cachedArgHints,e=d.type,f=w(\x22span\x22,d.guess?I+\x22fhint-guess\x22:null,w(\x22span\x22,I+\x22fname\x22,d.name),\x22(\x22),g=0;g\x3ce.args.length;++g){g&&f.appendChild(document.createTextNode(\x22, \x22));var h=e.args[g];f.appendChild(w(\x22span\x22,I+\x22farg\x22+(g==c?\x22 \x22+I+\x22farg-current\x22:\x22\x22),h.name||\x22?\x22)),\x22?\x22!=h.type&&(f.appendChild(document.createTextNode(\x22:\x5cxa0\x22)),f.appendChild(w(\x22span\x22,I+\x22type\x22,h.type)))}f.appendChild(document.createTextNode(e.rettype?\x22) -\x3e\x5cxa0\x22:\x22)\x22)),e.rettype&&f.appendChild(w(\x22span\x22,I+\x22type\x22,e.rettype));var i=b.cursorCoords(null,\x22page\x22),j=a.activeArgHints=A(i.right+1,i.bottom,f);setTimeout(function(){j.clear=z(b,function(){a.activeArgHints==j&&E(a)})},20)}function l(a){function b(b){for(var c=0,e=d;;){var f=a.charAt(d);if(b.test(f)&&!c)return a.slice(e,d);/[{\x5c[\x5c(]/.test(f)?++c:/[}\x5c]\x5c)]/.test(f)&&--c,++d}}var c=[],d=3;if(\x22)\x22!=a.charAt(d))for(;;){var e=a.slice(d).match(/^([^, \x5c(\x5c[\x5c{]+): /);if(e&&(d+=e[0].length,e=e[1]),c.push({name:e,type:b(/[\x5c),]/)}),\x22)\x22==a.charAt(d))break;d+=2}var f=a.slice(d).match(/^\x5c) -\x3e (.*)$/);return{args:c,rettype:f&&f[1]}}function m(a,b){function d(d){var e={type:\x22definition\x22,variable:d||null},f=c(a,b.getDoc());a.server.request(u(a,f,e),function(c,d){if(c)return D(a,b,c);if(!d.file&&d.url)return void window.open(d.url);if(d.file){var e,g=a.docs[d.file];if(g&&(e=p(g.doc,d)))return a.jumpStack.push({file:f.name,start:b.getCursor(\x22from\x22),end:b.getCursor(\x22to\x22)}),void o(a,f,g,e.start,e.end)}D(a,b,\x22Could not find a definition.\x22)})}q(b)?d():x(b,\x22Jump to variable\x22,function(a){a&&d(a)})}function n(a,b){var d=a.jumpStack.pop(),e=d&&a.docs[d.file];e&&o(a,c(a,b.getDoc()),e,d.start,d.end)}function o(a,b,c,d,e){c.doc.setSelection(d,e),b!=c&&a.options.switchToDoc&&(E(a),a.options.switchToDoc(c.name,c.doc))}function p(a,b){for(var c=b.context.slice(0,b.contextOffset).split(\x22\x5cn\x22),d=b.start.line-(c.length-1),e=H(d,(1==c.length?b.start.ch:a.getLine(d).length)-c[0].length),f=a.getLine(d).slice(e.ch),g=d+1;g\x3ca.lineCount()&&f.length\x3cb.context.length;++g)f+=\x22\x5cn\x22+a.getLine(g);if(f.slice(0,b.context.length)==b.context)return b;for(var h,i=a.getSearchCursor(b.context,0,!1),j=1/0;i.findNext();){var k=i.from(),l=1e4*Math.abs(k.line-e.line);l||(l=Math.abs(k.ch-e.ch)),l\x3cj&&(h=k,j=l)}if(!h)return null;if(1==c.length?h.ch+=c[0].length:h=H(h.line+(c.length-1),c[c.length-1].length),b.start.line==b.end.line)var m=H(h.line,h.ch+(b.end.ch-b.start.ch));else var m=H(h.line+(b.end.line-b.start.line),b.end.ch);return{start:h,end:m}}function q(a){var b=a.getCursor(\x22end\x22),c=a.getTokenAt(b);return!(c.start\x3cb.ch&&\x22comment\x22==c.type)&&/[\x5cw)\x5c]]/.test(a.getLine(b.line).slice(Math.max(b.ch-1,0),b.ch+1))}function r(a,b){var c=b.getTokenAt(b.getCursor());return/\x5cw/.test(c.string)?void x(b,\x22New name for \x22+c.string,function(c){a.request(b,{type:\x22rename\x22,newName:c,fullDocs:!0},function(c,d){return c?D(a,b,c):void t(a,d.changes)})}):D(a,b,\x22Not at a variable\x22)}function s(a,b){var d=c(a,b.doc).name;a.request(b,{type:\x22refs\x22},function(c,e){if(c)return D(a,b,c);for(var f=[],g=0,h=b.getCursor(),i=0;i\x3ce.refs.length;i++){var j=e.refs[i];j.file==d&&(f.push({anchor:j.start,head:j.end}),L(h,j.start)\x3e=0&&L(h,j.end)\x3c=0&&(g=f.length-1))}b.setSelections(f,g)})}function t(a,b){for(var c=Object.create(null),d=0;d\x3cb.length;++d){var e=b[d];(c[e.file]||(c[e.file]=[])).push(e)}for(var f in c){var g=a.docs[f],h=c[f];if(g){h.sort(function(a,b){return L(b.start,a.start)});for(var i=\x22*rename\x22+ ++K,d=0;d\x3ch.length;++d){var e=h[d];g.doc.replaceRange(e.text,e.start,e.end,i)}}}}function u(a,b,c,d){var e=[],f=0,g=!c.fullDocs;g||delete c.fullDocs,\x22string\x22==typeof c&&(c={type:c}),c.lineCharPositions=!0,null==c.end&&(c.end=d||b.doc.getCursor(\x22end\x22),b.doc.somethingSelected()&&(c.start=b.doc.getCursor(\x22start\x22)));var h=c.start||c.end;if(b.changed)if(b.doc.lineCount()\x3eJ&&g!==!1&&b.changed.to-b.changed.from\x3c100&&b.changed.from\x3c=h.line&&b.changed.to\x3ec.end.line){e.push(v(b,h,c.end)),c.file=\x22#0\x22;var f=e[0].offsetLines;null!=c.start&&(c.start=H(c.start.line- -f,c.start.ch)),c.end=H(c.end.line-f,c.end.ch)}else e.push({type:\x22full\x22,name:b.name,text:F(a,b)}),c.file=b.name,b.changed=null;else c.file=b.name;for(var i in a.docs){var j=a.docs[i];j.changed&&j!=b&&(e.push({type:\x22full\x22,name:j.name,text:F(a,j)}),j.changed=null)}return{query:c,files:e}}function v(b,c,d){for(var e,f=b.doc,g=null,h=null,i=4,j=c.line-1,k=Math.max(0,j-50);j\x3e=k;--j){var l=f.getLine(j),m=l.search(/\x5cbfunction\x5cb/);if(!(m\x3c0)){var n=a.countColumn(l,null,i);null!=g&&g\x3c=n||(g=n,h=j)}}null==h&&(h=k);var o=Math.min(f.lastLine(),d.line+20);if(null==g||g==a.countColumn(f.getLine(c.line),null,i))e=o;else for(e=d.line+1;e\x3co;++e){var n=a.countColumn(f.getLine(e),null,i);if(n\x3c=g)break}var p=H(h,0);return{type:\x22part\x22,name:b.name,offsetLines:p.line,text:f.getRange(p,H(e,0))}}function w(a,b){var c=document.createElement(a);b&&(c.className=b);for(var d=2;d\x3carguments.length;++d){var e=arguments[d];\x22string\x22==typeof e&&(e=document.createTextNode(e)),c.appendChild(e)}return c}function x(a,b,c){a.openDialog?a.openDialog(b+\x22: \x3cinput type=text\x3e\x22,c):c(prompt(b,\x22\x22))}function y(b,c,d){function e(){j=!0,i||f()}function f(){b.state.ternTooltip=null,h.parentNode&&C(h),k()}b.state.ternTooltip&&B(b.state.ternTooltip);var g=b.cursorCoords(),h=b.state.ternTooltip=A(g.right+1,g.bottom,c),i=!1,j=!1;a.on(h,\x22mousemove\x22,function(){i=!0}),a.on(h,\x22mouseout\x22,function(b){a.contains(h,b.relatedTarget||b.toElement)||(j?f():i=!1)}),setTimeout(e,d.options.hintDelay?d.options.hintDelay:1700);var k=z(b,f)}function z(a,b){return a.on(\x22cursorActivity\x22,b),a.on(\x22blur\x22,b),a.on(\x22scroll\x22,b),a.on(\x22setDoc\x22,b),function(){a.off(\x22cursorActivity\x22,b),a.off(\x22blur\x22,b),a.off(\x22scroll\x22,b),a.off(\x22setDoc\x22,b)}}function A(a,b,c){var d=w(\x22div\x22,I+\x22tooltip\x22,c);return d.style.left=a+\x22px\x22,d.style.top=b+\x22px\x22,document.body.appendChild(d),d}function B(a){var b=a&&a.parentNode;b&&b.removeChild(a)}function C(a){a.style.opacity=\x220\x22,setTimeout(function(){B(a)},1100)}function D(a,b,c){a.options.showError?a.options.showError(b,c):y(b,String(c),a)}function E(a){a.activeArgHints&&(a.activeArgHints.clear&&a.activeArgHints.clear(),B(a.activeArgHints),a.activeArgHints=null)}function F(a,b){var c=b.doc.getValue();return a.options.fileFilter&&(c=a.options.fileFilter(c,b.name,b.doc)),c}function G(a){function c(a,b){b&&(a.id=++e,f[e]=b),d.postMessage(a)}var d=a.worker=new Worker(a.options.workerScript);d.postMessage({type:\x22init\x22,defs:a.options.defs,plugins:a.options.plugins,scripts:a.options.workerDeps});var e=0,f={};d.onmessage=function(d){var e=d.data;\x22getFile\x22==e.type?b(a,e.name,function(a,b){c({type:\x22getFile\x22,err:String(a),text:b,id:e.id})}):\x22debug\x22==e.type?window.console.log(e.message):e.id&&f[e.id]&&(f[e.id](e.err,e.body),delete f[e.id])},d.onerror=function(a){for(var b in f)f[b](a);f={}},this.addFile=function(a,b){c({type:\x22add\x22,name:a,text:b})},this.delFile=function(a){c({type:\x22del\x22,name:a})},this.request=function(a,b){c({type:\x22req\x22,body:a},b)}}a.TernServer=function(a){var c=this;this.options=a||{};var d=this.options.plugins||(this.options.plugins={});d.doc_comment||(d.doc_comment=!0),this.docs=Object.create(null),this.options.useWorker?this.server=new G(this):this.server=new tern.Server({getFile:function(a,d){return b(c,a,d)},async:!0,defs:this.options.defs||[],plugins:d}),this.trackChange=function(a,b){e(c,a,b)},this.cachedArgHints=null,this.activeArgHints=null,this.jumpStack=[],this.getHint=function(a,b){return g(c,a,b)},this.getHint.async=!0},a.TernServer.prototype={addDoc:function(b,c){var d={doc:c,name:b,changed:null};return this.server.addFile(b,F(this,d)),a.on(c,\x22change\x22,this.trackChange),this.docs[b]=d},delDoc:function(b){var c=d(this,b);c&&(a.off(c.doc,\x22change\x22,this.trackChange),delete this.docs[c.name],this.server.delFile(c.name))},hideDoc:function(a){E(this);var b=d(this,a);b&&b.changed&&f(this,b)},complete:function(a){a.showHint({hint:this.getHint})},showType:function(a,b,c){i(this,a,b,\x22type\x22,c)},showDocs:function(a,b,c){i(this,a,b,\x22documentation\x22,c)},updateArgHints:function(a){j(this,a)},jumpToDef:function(a){m(this,a)},jumpBack:function(a){n(this,a)},rename:function(a){r(this,a)},selectName:function(a){s(this,a)},request:function(a,b,d,e){var f=this,g=c(this,a.getDoc()),h=u(this,g,b,e),i=h.query&&this.options.queryOptions&&this.options.queryOptions[h.query.type];if(i)for(var j in i)h.query[j]=i[j];this.server.request(h,function(a,c){!a&&f.options.responseFilter&&(c=f.options.responseFilter(g,b,h,a,c)),d(a,c)})},destroy:function(){E(this),this.worker&&(this.worker.terminate(),this.worker=null)}};var H=a.Pos,I=\x22CodeMirror-Tern-\x22,J=250,K=0,L=a.cmpPos})},{\x22../../lib/codemirror\x22:59}],54:[function(a,b,c){function d(a,b){postMessage({type:\x22getFile\x22,name:a,id:++g}),h[g]=b}function e(a,b,c){c&&importScripts.apply(null,c),f=new tern.Server({getFile:d,async:!0,defs:a,plugins:b})}var f;this.onmessage=function(a){var b=a.data;switch(b.type){case\x22init\x22:return e(b.defs,b.plugins,b.scripts);case\x22add\x22:return f.addFile(b.name,b.text);case\x22del\x22:return f.delFile(b.name);case\x22req\x22:return f.request(b.body,function(a,c){postMessage({id:b.id,body:c,err:a&&String(a)})});case\x22getFile\x22:var c=h[b.id];return delete h[b.id],c(b.err,b.text);default:throw new Error(\x22Unknown message type: \x22+b.type)}};var g=0,h={};this.console={log:function(a){postMessage({type:\x22debug\x22,message:a})}}},{}],55:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b,c){for(var d=c.paragraphStart||a.getHelper(b,\x22paragraphStart\x22),e=b.line,f=a.firstLine();e\x3ef;--e){var g=a.getLine(e);if(d&&d.test(g))break;if(!/\x5cS/.test(g)){++e;break}}for(var h=c.paragraphEnd||a.getHelper(b,\x22paragraphEnd\x22),i=b.line+1,j=a.lastLine();i\x3c=j;++i){var g=a.getLine(i);if(h&&h.test(g)){++i;break}if(!/\x5cS/.test(g))break}return{from:e,to:i}}function c(a,b,c,d){for(var e=b;e\x3ca.length&&\x22 \x22==a.charAt(e);)e++;for(;e\x3e0&&!c.test(a.slice(e-1,e+1));--e);for(var f=!0;;f=!1){var g=e;if(d)for(;\x22 \x22==a.charAt(g-1);)--g;if(0!=g||!f)return{from:g,to:e};e=b}}function d(b,d,f,g){d=b.clipPos(d),f=b.clipPos(f);var h=g.column||80,i=g.wrapOn||/\x5cs\x5cS|-[^\x5c.\x5cd]/,j=g.killTrailingSpace!==!1,k=[],l=\x22\x22,m=d.line,n=b.getRange(d,f,!1);if(!n.length)return null;for(var o=n[0].match(/^[ \x5ct]*/)[0],p=0;p\x3cn.length;++p){var q=n[p],r=l.length,s=0;l&&q&&!i.test(l.charAt(l.length-1)+q.charAt(0))&&(l+=\x22 \x22,s=1);var t=\x22\x22;if(p&&(t=q.match(/^\x5cs*/)[0],q=q.slice(t.length)),l+=q,p){var u=l.length\x3eh&&o==t&&c(l,h,i,j);u&&u.from==r&&u.to==r+s?(l=o+q,++m):k.push({text:[s?\x22 \x22:\x22\x22],from:e(m,r),to:e(m+1,t.length)})}for(;l.length\x3eh;){var v=c(l,h,i,j);k.push({text:[\x22\x22,o],from:e(m,v.from),to:e(m,v.to)}),l=o+l.slice(v.to),++m}}return k.length&&b.operation(function(){for(var c=0;c\x3ck.length;++c){var d=k[c];(d.text||a.cmpPos(d.from,d.to))&&b.replaceRange(d.text,d.from,d.to)}}),k.length?{from:k[0].from,to:a.changeEnd(k[k.length-1])}:null}var e=a.Pos;a.defineExtension(\x22wrapParagraph\x22,function(a,c){c=c||{},a||(a=this.getCursor());var f=b(this,a,c);return d(this,e(f.from,0),e(f.to-1),c)}),a.commands.wrapLines=function(a){a.operation(function(){for(var c=a.listSelections(),f=a.lastLine()+1,g=c.length-1;g\x3e=0;g--){var h,i=c[g];if(i.empty()){var j=b(a,i.head,{});h={from:e(j.from,0),to:e(j.to-1)}}else h={from:i.from(),to:i.to()};h.to.line\x3e=f||(f=h.from.line,d(a,h.from,h.to,{}))}})},a.defineExtension(\x22wrapRange\x22,function(a,b,c){return d(this,a,b,c||{})}),a.defineExtension(\x22wrapParagraphsInRange\x22,function(a,c,f){f=f||{};for(var g=this,h=[],i=a.line;i\x3c=c.line;){var j=b(g,e(i,0),f);h.push(j),i=j.to}var k=!1;return h.length&&g.operation(function(){for(var a=h.length-1;a\x3e=0;--a)k=k||d(g,e(h[a].from,0),e(h[a].to-1),f)}),k})})},{\x22../../lib/codemirror\x22:59}],56:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../lib/codemirror\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../lib/codemirror\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(a,b){return a.line==b.line&&a.ch==b.ch}function c(a){I.push(a),I.length\x3e50&&I.shift()}function d(a){return I.length?void(I[I.length-1]+=a):c(a)}function e(a){return I[I.length-(a?Math.min(a,1):1)]||\x22\x22}function f(){return I.length\x3e1&&I.pop(),e()}function g(a,e,f,g,h){null==h&&(h=a.getRange(e,f)),g&&J&&J.cm==a&&b(e,J.pos)&&a.isClean(J.gen)?d(h):c(h),a.replaceRange(\x22\x22,e,f,\x22+delete\x22),J=g?{cm:a,pos:e,gen:a.changeGeneration()}:null}function h(a,b,c){return a.findPosH(b,c,\x22char\x22,!0)}function i(a,b,c){return a.findPosH(b,c,\x22word\x22,!0)}function j(a,b,c){return a.findPosV(b,c,\x22line\x22,a.doc.sel.goalColumn)}function k(a,b,c){return a.findPosV(b,c,\x22page\x22,a.doc.sel.goalColumn)}function l(a,b,c){for(var d=b.line,e=a.getLine(d),f=/\x5cS/.test(c\x3c0?e.slice(0,b.ch):e.slice(b.ch)),g=a.firstLine(),h=a.lastLine();;){if(d+=c,d\x3cg||d\x3eh)return a.clipPos(H(d-c,c\x3c0?0:null));e=a.getLine(d);var i=/\x5cS/.test(e);if(i)f=!0;else if(f)return H(d,0)}}function m(a,b,c){for(var d=b.line,e=b.ch,f=a.getLine(b.line),g=!1;;){var h=f.charAt(e+(c\x3c0?-1:0));if(h){if(g&&/[!?.]/.test(h))return H(d,e+(c\x3e0?1:0));g||(g=/\x5cw/.test(h)),e+=c}else{if(d==(c\x3c0?a.firstLine():a.lastLine()))return H(d,e);if(f=a.getLine(d+c),!/\x5cS/.test(f))return H(d,e);d+=c,e=c\x3c0?f.length:0}}}function n(a,c,d){var e;if(a.findMatchingBracket&&(e=a.findMatchingBracket(c,{strict:!0}))&&e.match&&(e.forward?1:-1)==d)return d\x3e0?H(e.to.line,e.to.ch+1):e.to;for(var f=!0;;f=!1){var g=a.getTokenAt(c),h=H(c.line,d\x3c0?g.start:g.end);if(!(f&&d\x3e0&&g.end==c.ch)&&/\x5cw/.test(g.string))return h;var i=a.findPosH(h,d,\x22char\x22);if(b(h,i))return c;c=i}}function o(a,b){var c=a.state.emacsPrefix;return c?(w(a),\x22-\x22==c?-1:Number(c)):b?null:1}function p(a){var b=\x22string\x22==typeof a?function(b){b.execCommand(a)}:a;return function(a){var c=o(a);b(a);for(var d=1;d\x3cc;++d)b(a)}}function q(a,c,d,e){var f=o(a);f\x3c0&&(e=-e,f=-f);for(var g=0;g\x3cf;++g){var h=d(a,c,e);if(b(h,c))break;c=h}return c}function r(a,b){var c=function(c){c.extendSelection(q(c,c.getCursor(),a,b))};return c.motion=!0,c}function s(a,b,c){for(var d,e=a.listSelections(),f=e.length;f--;)d=e[f].head,g(a,d,q(a,d,b,c),!0)}function t(a){if(a.somethingSelected()){for(var b,c=a.listSelections(),d=c.length;d--;)b=c[d],g(a,b.anchor,b.head);return!0}}function u(a,b){return a.state.emacsPrefix?void(\x22-\x22!=b&&(a.state.emacsPrefix+=b)):(a.state.emacsPrefix=b,a.on(\x22keyHandled\x22,v),void a.on(\x22inputRead\x22,x))}function v(a,b){a.state.emacsPrefixMap||K.hasOwnProperty(b)||w(a)}function w(a){a.state.emacsPrefix=null,a.off(\x22keyHandled\x22,v),a.off(\x22inputRead\x22,x)}function x(a,b){var c=o(a);if(c\x3e1&&\x22+input\x22==b.origin){for(var d=b.text.join(\x22\x5cn\x22),e=\x22\x22,f=1;f\x3cc;++f)e+=d;a.replaceSelection(e)}}function y(a){a.state.emacsPrefixMap=!0,a.addKeyMap(M),a.on(\x22keyHandled\x22,z),a.on(\x22inputRead\x22,z)}function z(a,b){(\x22string\x22!=typeof b||!/^\x5cd$/.test(b)&&\x22Ctrl-U\x22!=b)&&(a.removeKeyMap(M),a.state.emacsPrefixMap=!1,a.off(\x22keyHandled\x22,z),a.off(\x22inputRead\x22,z))}function A(a){a.setCursor(a.getCursor()),a.setExtending(!a.getExtending()),a.on(\x22change\x22,function(){a.setExtending(!1)})}function B(a){a.setExtending(!1),a.setCursor(a.getCursor())}function C(a,b,c){a.openDialog?a.openDialog(b+\x27: \x3cinput type=\x22text\x22 style=\x22width: 10em\x22/\x3e\x27,c,{bottom:!0}):c(prompt(b,\x22\x22))}function D(a,b){var c=a.getCursor(),d=a.findPosH(c,1,\x22word\x22);a.replaceRange(b(a.getRange(c,d)),c,d),a.setCursor(d)}function E(a){for(var b=a.getCursor(),c=b.line,d=b.ch,e=[];c\x3e=a.firstLine();){for(var f=a.getLine(c),g=null==d?f.length:d;g\x3e0;){var d=f.charAt(--g);if(\x22)\x22==d)e.push(\x22(\x22);else if(\x22]\x22==d)e.push(\x22[\x22);else if(\x22}\x22==d)e.push(\x22{\x22);else if(/[\x5c(\x5c{\x5c[]/.test(d)&&(!e.length||e.pop()!=d))return a.extendSelection(H(c,g))}--c,d=null}}function F(a){a.execCommand(\x22clearSearch\x22),B(a)}function G(a){M[a]=function(b){u(b,a)},L[\x22Ctrl-\x22+a]=function(b){u(b,a)},K[\x22Ctrl-\x22+a]=!0}var H=a.Pos,I=[],J=null,K={\x22Alt-G\x22:!0,\x22Ctrl-X\x22:!0,\x22Ctrl-Q\x22:!0,\x22Ctrl-U\x22:!0};a.emacs={kill:g,killRegion:t,repeated:p};for(var L=a.keyMap.emacs=a.normalizeKeyMap({\x22Ctrl-W\x22:function(a){g(a,a.getCursor(\x22start\x22),a.getCursor(\x22end\x22))},\x22Ctrl-K\x22:p(function(a){var b=a.getCursor(),c=a.clipPos(H(b.line)),d=a.getRange(b,c);/\x5cS/.test(d)||(d+=\x22\x5cn\x22,c=H(b.line+1,0)),g(a,b,c,!0,d)}),\x22Alt-W\x22:function(a){c(a.getSelection()),B(a)},\x22Ctrl-Y\x22:function(a){var b=a.getCursor();a.replaceRange(e(o(a)),b,b,\x22paste\x22),a.setSelection(b,a.getCursor())},\x22Alt-Y\x22:function(a){a.replaceSelection(f(),\x22around\x22,\x22paste\x22)},\x22Ctrl-Space\x22:A,\x22Ctrl-Shift-2\x22:A,\x22Ctrl-F\x22:r(h,1),\x22Ctrl-B\x22:r(h,-1),Right:r(h,1),Left:r(h,-1),\x22Ctrl-D\x22:function(a){s(a,h,1)},Delete:function(a){t(a)||s(a,h,1)},\x22Ctrl-H\x22:function(a){s(a,h,-1)},Backspace:function(a){t(a)||s(a,h,-1)},\x22Alt-F\x22:r(i,1),\x22Alt-B\x22:r(i,-1),\x22Alt-D\x22:function(a){s(a,i,1)},\x22Alt-Backspace\x22:function(a){s(a,i,-1)},\x22Ctrl-N\x22:r(j,1),\x22Ctrl-P\x22:r(j,-1),Down:r(j,1),Up:r(j,-1),\x22Ctrl-A\x22:\x22goLineStart\x22,\x22Ctrl-E\x22:\x22goLineEnd\x22,End:\x22goLineEnd\x22,Home:\x22goLineStart\x22,\x22Alt-V\x22:r(k,-1),\x22Ctrl-V\x22:r(k,1),PageUp:r(k,-1),PageDown:r(k,1),\x22Ctrl-Up\x22:r(l,-1),\x22Ctrl-Down\x22:r(l,1),\x22Alt-A\x22:r(m,-1),\x22Alt-E\x22:r(m,1),\x22Alt-K\x22:function(a){s(a,m,1)},\x22Ctrl-Alt-K\x22:function(a){s(a,n,1)},\x22Ctrl-Alt-Backspace\x22:function(a){s(a,n,-1)},\x22Ctrl-Alt-F\x22:r(n,1),\x22Ctrl-Alt-B\x22:r(n,-1),\x22Shift-Ctrl-Alt-2\x22:function(a){var b=a.getCursor();a.setSelection(q(a,b,n,1),b)},\x22Ctrl-Alt-T\x22:function(a){var b=n(a,a.getCursor(),-1),c=n(a,b,1),d=n(a,c,1),e=n(a,d,-1);a.replaceRange(a.getRange(e,d)+a.getRange(c,e)+a.getRange(b,c),b,d)},\x22Ctrl-Alt-U\x22:p(E),\x22Alt-Space\x22:function(a){for(var b=a.getCursor(),c=b.ch,d=b.ch,e=a.getLine(b.line);c&&/\x5cs/.test(e.charAt(c-1));)--c;for(;d\x3ce.length&&/\x5cs/.test(e.charAt(d));)++d;a.replaceRange(\x22 \x22,H(b.line,c),H(b.line,d))},\x22Ctrl-O\x22:p(function(a){a.replaceSelection(\x22\x5cn\x22,\x22start\x22)}),\x22Ctrl-T\x22:p(function(a){a.execCommand(\x22transposeChars\x22)}),\x22Alt-C\x22:p(function(a){D(a,function(a){var b=a.search(/\x5cw/);return b==-1?a:a.slice(0,b)+a.charAt(b).toUpperCase()+a.slice(b+1).toLowerCase()})}),\x22Alt-U\x22:p(function(a){D(a,function(a){return a.toUpperCase()})}),\x22Alt-L\x22:p(function(a){D(a,function(a){return a.toLowerCase()})}),\x22Alt-;\x22:\x22toggleComment\x22,\x22Ctrl-/\x22:p(\x22undo\x22),\x22Shift-Ctrl--\x22:p(\x22undo\x22),\x22Ctrl-Z\x22:p(\x22undo\x22),\x22Cmd-Z\x22:p(\x22undo\x22),\x22Shift-Alt-,\x22:\x22goDocStart\x22,\x22Shift-Alt-.\x22:\x22goDocEnd\x22,\x22Ctrl-S\x22:\x22findPersistentNext\x22,\x22Ctrl-R\x22:\x22findPersistentPrev\x22,\x22Ctrl-G\x22:F,\x22Shift-Alt-5\x22:\x22replace\x22,\x22Alt-/\x22:\x22autocomplete\x22,Enter:\x22newlineAndIndent\x22,\x22Ctrl-J\x22:p(function(a){a.replaceSelection(\x22\x5cn\x22,\x22end\x22)}),Tab:\x22indentAuto\x22,\x22Alt-G G\x22:function(a){var b=o(a,!0);return null!=b&&b\x3e0?a.setCursor(b-1):void C(a,\x22Goto line\x22,function(b){var c;b&&!isNaN(c=Number(b))&&c==(0|c)&&c\x3e0&&a.setCursor(c-1)})},\x22Ctrl-X Tab\x22:function(a){a.indentSelection(o(a,!0)||a.getOption(\x22indentUnit\x22))},\x22Ctrl-X Ctrl-X\x22:function(a){a.setSelection(a.getCursor(\x22head\x22),a.getCursor(\x22anchor\x22))},\x22Ctrl-X Ctrl-S\x22:\x22save\x22,\x22Ctrl-X Ctrl-W\x22:\x22save\x22,\x22Ctrl-X S\x22:\x22saveAll\x22,\x22Ctrl-X F\x22:\x22open\x22,\x22Ctrl-X U\x22:p(\x22undo\x22),\x22Ctrl-X K\x22:\x22close\x22,\x22Ctrl-X Delete\x22:function(a){g(a,a.getCursor(),m(a,a.getCursor(),1),!0)},\x22Ctrl-X H\x22:\x22selectAll\x22,\x22Ctrl-Q Tab\x22:p(\x22insertTab\x22),\x22Ctrl-U\x22:y}),M={\x22Ctrl-G\x22:w},N=0;N\x3c10;++N)G(String(N));G(\x22-\x22)})},{\x22../lib/codemirror\x22:59}],57:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../lib/codemirror\x22),a(\x22../addon/search/searchcursor\x22),a(\x22../addon/edit/matchbrackets\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../lib/codemirror\x22,\x22../addon/search/searchcursor\x22,\x22../addon/edit/matchbrackets\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;function b(b,c,d){if(d\x3c0&&0==c.ch)return b.clipPos(o(c.line-1));var e=b.getLine(c.line);if(d\x3e0&&c.ch\x3e=e.length)return b.clipPos(o(c.line+1,0));for(var f,g=\x22start\x22,h=c.ch,i=d\x3c0?0:e.length,j=0;h!=i;h+=d,j++){var k=e.charAt(d\x3c0?h-1:h),l=\x22_\x22!=k&&a.isWordChar(k)?\x22w\x22:\x22o\x22;if(\x22w\x22==l&&k.toUpperCase()==k&&(l=\x22W\x22),\x22start\x22==g)\x22o\x22!=l&&(g=\x22in\x22,f=l);else if(\x22in\x22==g&&f!=l){if(\x22w\x22==f&&\x22W\x22==l&&d\x3c0&&h--,\x22W\x22==f&&\x22w\x22==l&&d\x3e0){f=\x22w\x22;continue}break}}return o(c.line,h)}function c(a,c){a.extendSelectionsBy(function(d){return a.display.shift||a.doc.extend||d.empty()?b(a.doc,d.head,c):c\x3c0?d.from():d.to()})}function d(b,c){return b.isReadOnly()?a.Pass:(b.operation(function(){for(var a=b.listSelections().length,d=[],e=-1,f=0;f\x3ca;f++){var g=b.listSelections()[f].head;if(!(g.line\x3c=e)){var h=o(g.line+(c?0:1),0);b.replaceRange(\x22\x5cn\x22,h,null,\x22+insertLine\x22),b.indentLine(h.line,null,!0),\x0ad.push({head:h,anchor:h}),e=g.line+1}}b.setSelections(d)}),void b.execCommand(\x22indentAuto\x22))}function e(b,c){for(var d=c.ch,e=d,f=b.getLine(c.line);d&&a.isWordChar(f.charAt(d-1));)--d;for(;e\x3cf.length&&a.isWordChar(f.charAt(e));)++e;return{from:o(c.line,d),to:o(c.line,e),word:f.slice(d,e)}}function f(a,b){for(var c=a.listSelections(),d=[],e=0;e\x3cc.length;e++){var f=c[e],g=a.findPosV(f.anchor,b,\x22line\x22),h=a.findPosV(f.head,b,\x22line\x22),i={anchor:g,head:h};d.push(f),d.push(i)}a.setSelections(d)}function g(a,b,c){for(var d=0;d\x3ca.length;d++)if(a[d].from()==b&&a[d].to()==c)return!0;return!1}function h(a){for(var b=a.listSelections(),c=[],d=0;d\x3cb.length;d++){var e=b[d],f=e.head,g=a.scanForBracket(f,-1);if(!g)return!1;for(;;){var h=a.scanForBracket(f,1);if(!h)return!1;if(h.ch==u.charAt(u.indexOf(g.ch)+1)){c.push({anchor:o(g.pos.line,g.pos.ch+1),head:h.pos});break}f=o(h.pos.line,h.pos.ch+1)}}return a.setSelections(c),!0}function i(b,c){if(b.isReadOnly())return a.Pass;for(var d,e=b.listSelections(),f=[],g=0;g\x3ce.length;g++){var h=e[g];if(!h.empty()){for(var i=h.from().line,j=h.to().line;g\x3ce.length-1&&e[g+1].from().line==j;)j=e[++g].to().line;e[g].to().ch||j--,f.push(i,j)}}f.length?d=!0:f.push(b.firstLine(),b.lastLine()),b.operation(function(){for(var a=[],e=0;e\x3cf.length;e+=2){var g=f[e],h=f[e+1],i=o(g,0),j=o(h),k=b.getRange(i,j,!1);c?k.sort():k.sort(function(a,b){var c=a.toUpperCase(),d=b.toUpperCase();return c!=d&&(a=c,b=d),a\x3cb?-1:a==b?0:1}),b.replaceRange(k,i,j),d&&a.push({anchor:i,head:o(h+1,0)})}d&&b.setSelections(a,0)})}function j(b,c){b.operation(function(){for(var d=b.listSelections(),f=[],g=[],h=0;h\x3cd.length;h++){var i=d[h];i.empty()?(f.push(h),g.push(\x22\x22)):g.push(c(b.getRange(i.from(),i.to())))}b.replaceSelections(g,\x22around\x22,\x22case\x22);for(var j,h=f.length-1;h\x3e=0;h--){var i=d[f[h]];if(!(j&&a.cmpPos(i.head,j)\x3e0)){var k=e(b,i.head);j=k.from,b.replaceRange(c(k.word),k.from,k.to)}}})}function k(b){var c=b.getCursor(\x22from\x22),d=b.getCursor(\x22to\x22);if(0==a.cmpPos(c,d)){var f=e(b,c);if(!f.word)return;c=f.from,d=f.to}return{from:c,to:d,query:b.getRange(c,d),word:f}}function l(a,b){var c=k(a);if(c){var d=c.query,e=a.getSearchCursor(d,b?c.to:c.from);(b?e.findNext():e.findPrevious())?a.setSelection(e.from(),e.to()):(e=a.getSearchCursor(d,b?o(a.firstLine(),0):a.clipPos(o(a.lastLine()))),(b?e.findNext():e.findPrevious())?a.setSelection(e.from(),e.to()):c.word&&a.setSelection(c.from,c.to))}}var m=a.keyMap.sublime={fallthrough:\x22default\x22},n=a.commands,o=a.Pos,p=a.keyMap[\x22default\x22]==a.keyMap.macDefault,q=p?\x22Cmd-\x22:\x22Ctrl-\x22,r=p?\x22Ctrl-\x22:\x22Alt-\x22;n[m[r+\x22Left\x22]=\x22goSubwordLeft\x22]=function(a){c(a,-1)},n[m[r+\x22Right\x22]=\x22goSubwordRight\x22]=function(a){c(a,1)},p&&(m[\x22Cmd-Left\x22]=\x22goLineStartSmart\x22);var s=p?\x22Ctrl-Alt-\x22:\x22Ctrl-\x22;n[m[s+\x22Up\x22]=\x22scrollLineUp\x22]=function(a){var b=a.getScrollInfo();if(!a.somethingSelected()){var c=a.lineAtHeight(b.top+b.clientHeight,\x22local\x22);a.getCursor().line\x3e=c&&a.execCommand(\x22goLineUp\x22)}a.scrollTo(null,b.top-a.defaultTextHeight())},n[m[s+\x22Down\x22]=\x22scrollLineDown\x22]=function(a){var b=a.getScrollInfo();if(!a.somethingSelected()){var c=a.lineAtHeight(b.top,\x22local\x22)+1;a.getCursor().line\x3c=c&&a.execCommand(\x22goLineDown\x22)}a.scrollTo(null,b.top+a.defaultTextHeight())},n[m[\x22Shift-\x22+q+\x22L\x22]=\x22splitSelectionByLine\x22]=function(a){for(var b=a.listSelections(),c=[],d=0;d\x3cb.length;d++)for(var e=b[d].from(),f=b[d].to(),g=e.line;g\x3c=f.line;++g)f.line\x3ee.line&&g==f.line&&0==f.ch||c.push({anchor:g==e.line?e:o(g,0),head:g==f.line?f:o(g)});a.setSelections(c,0)},m[\x22Shift-Tab\x22]=\x22indentLess\x22,n[m.Esc=\x22singleSelectionTop\x22]=function(a){var b=a.listSelections()[0];a.setSelection(b.anchor,b.head,{scroll:!1})},n[m[q+\x22L\x22]=\x22selectLine\x22]=function(a){for(var b=a.listSelections(),c=[],d=0;d\x3cb.length;d++){var e=b[d];c.push({anchor:o(e.from().line,0),head:o(e.to().line+1,0)})}a.setSelections(c)},m[\x22Shift-Ctrl-K\x22]=\x22deleteLine\x22,n[m[q+\x22Enter\x22]=\x22insertLineAfter\x22]=function(a){return d(a,!1)},n[m[\x22Shift-\x22+q+\x22Enter\x22]=\x22insertLineBefore\x22]=function(a){return d(a,!0)},n[m[q+\x22D\x22]=\x22selectNextOccurrence\x22]=function(b){var c=b.getCursor(\x22from\x22),d=b.getCursor(\x22to\x22),f=b.state.sublimeFindFullWord==b.doc.sel;if(0==a.cmpPos(c,d)){var h=e(b,c);if(!h.word)return;b.setSelection(h.from,h.to),f=!0}else{var i=b.getRange(c,d),j=f?new RegExp(\x22\x5c\x5cb\x22+i+\x22\x5c\x5cb\x22):i,k=b.getSearchCursor(j,d),l=k.findNext();if(l||(k=b.getSearchCursor(j,o(b.firstLine(),0)),l=k.findNext()),!l||g(b.listSelections(),k.from(),k.to()))return a.Pass;b.addSelection(k.from(),k.to())}f&&(b.state.sublimeFindFullWord=b.doc.sel)};var t=p?\x22Shift-Cmd\x22:\x22Alt-Ctrl\x22;n[m[t+\x22Up\x22]=\x22addCursorToPrevLine\x22]=function(a){f(a,-1)},n[m[t+\x22Down\x22]=\x22addCursorToNextLine\x22]=function(a){f(a,1)};var u=\x22(){}[]\x22;n[m[\x22Shift-\x22+q+\x22Space\x22]=\x22selectScope\x22]=function(a){h(a)||a.execCommand(\x22selectAll\x22)},n[m[\x22Shift-\x22+q+\x22M\x22]=\x22selectBetweenBrackets\x22]=function(b){if(!h(b))return a.Pass},n[m[q+\x22M\x22]=\x22goToBracket\x22]=function(b){b.extendSelectionsBy(function(c){var d=b.scanForBracket(c.head,1);if(d&&0!=a.cmpPos(d.pos,c.head))return d.pos;var e=b.scanForBracket(c.head,-1);return e&&o(e.pos.line,e.pos.ch+1)||c.head})};var v=p?\x22Cmd-Ctrl-\x22:\x22Shift-Ctrl-\x22;n[m[v+\x22Up\x22]=\x22swapLineUp\x22]=function(b){if(b.isReadOnly())return a.Pass;for(var c=b.listSelections(),d=[],e=b.firstLine()-1,f=[],g=0;g\x3cc.length;g++){var h=c[g],i=h.from().line-1,j=h.to().line;f.push({anchor:o(h.anchor.line-1,h.anchor.ch),head:o(h.head.line-1,h.head.ch)}),0!=h.to().ch||h.empty()||--j,i\x3ee?d.push(i,j):d.length&&(d[d.length-1]=j),e=j}b.operation(function(){for(var a=0;a\x3cd.length;a+=2){var c=d[a],e=d[a+1],g=b.getLine(c);b.replaceRange(\x22\x22,o(c,0),o(c+1,0),\x22+swapLine\x22),e\x3eb.lastLine()?b.replaceRange(\x22\x5cn\x22+g,o(b.lastLine()),null,\x22+swapLine\x22):b.replaceRange(g+\x22\x5cn\x22,o(e,0),null,\x22+swapLine\x22)}b.setSelections(f),b.scrollIntoView()})},n[m[v+\x22Down\x22]=\x22swapLineDown\x22]=function(b){if(b.isReadOnly())return a.Pass;for(var c=b.listSelections(),d=[],e=b.lastLine()+1,f=c.length-1;f\x3e=0;f--){var g=c[f],h=g.to().line+1,i=g.from().line;0!=g.to().ch||g.empty()||h--,h\x3ce?d.push(h,i):d.length&&(d[d.length-1]=i),e=i}b.operation(function(){for(var a=d.length-2;a\x3e=0;a-=2){var c=d[a],e=d[a+1],f=b.getLine(c);c==b.lastLine()?b.replaceRange(\x22\x22,o(c-1),o(c),\x22+swapLine\x22):b.replaceRange(\x22\x22,o(c,0),o(c+1,0),\x22+swapLine\x22),b.replaceRange(f+\x22\x5cn\x22,o(e,0),null,\x22+swapLine\x22)}b.scrollIntoView()})},n[m[q+\x22/\x22]=\x22toggleCommentIndented\x22]=function(a){a.toggleComment({indent:!0})},n[m[q+\x22J\x22]=\x22joinLines\x22]=function(a){for(var b=a.listSelections(),c=[],d=0;d\x3cb.length;d++){for(var e=b[d],f=e.from(),g=f.line,h=e.to().line;d\x3cb.length-1&&b[d+1].from().line==h;)h=b[++d].to().line;c.push({start:g,end:h,anchor:!e.empty()&&f})}a.operation(function(){for(var b=0,d=[],e=0;e\x3cc.length;e++){for(var f,g=c[e],h=g.anchor&&o(g.anchor.line-b,g.anchor.ch),i=g.start;i\x3c=g.end;i++){var j=i-b;i==g.end&&(f=o(j,a.getLine(j).length+1)),j\x3ca.lastLine()&&(a.replaceRange(\x22 \x22,o(j),o(j+1,/^\x5cs*/.exec(a.getLine(j+1))[0].length)),++b)}d.push({anchor:h||f,head:f})}a.setSelections(d,0)})},n[m[\x22Shift-\x22+q+\x22D\x22]=\x22duplicateLine\x22]=function(a){a.operation(function(){for(var b=a.listSelections().length,c=0;c\x3cb;c++){var d=a.listSelections()[c];d.empty()?a.replaceRange(a.getLine(d.head.line)+\x22\x5cn\x22,o(d.head.line,0)):a.replaceRange(a.getRange(d.from(),d.to()),d.from())}a.scrollIntoView()})},p||(m[q+\x22T\x22]=\x22transposeChars\x22),n[m.F9=\x22sortLines\x22]=function(a){i(a,!0)},n[m[q+\x22F9\x22]=\x22sortLinesInsensitive\x22]=function(a){i(a,!1)},n[m.F2=\x22nextBookmark\x22]=function(a){var b=a.state.sublimeBookmarks;if(b)for(;b.length;){var c=b.shift(),d=c.find();if(d)return b.push(c),a.setSelection(d.from,d.to)}},n[m[\x22Shift-F2\x22]=\x22prevBookmark\x22]=function(a){var b=a.state.sublimeBookmarks;if(b)for(;b.length;){b.unshift(b.pop());var c=b[b.length-1].find();if(c)return a.setSelection(c.from,c.to);b.pop()}},n[m[q+\x22F2\x22]=\x22toggleBookmark\x22]=function(a){for(var b=a.listSelections(),c=a.state.sublimeBookmarks||(a.state.sublimeBookmarks=[]),d=0;d\x3cb.length;d++){for(var e=b[d].from(),f=b[d].to(),g=a.findMarks(e,f),h=0;h\x3cg.length;h++)if(g[h].sublimeBookmark){g[h].clear();for(var i=0;i\x3cc.length;i++)c[i]==g[h]&&c.splice(i--,1);break}h==g.length&&c.push(a.markText(e,f,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},n[m[\x22Shift-\x22+q+\x22F2\x22]=\x22clearBookmarks\x22]=function(a){var b=a.state.sublimeBookmarks;if(b)for(var c=0;c\x3cb.length;c++)b[c].clear();b.length=0},n[m[\x22Alt-F2\x22]=\x22selectBookmarks\x22]=function(a){var b=a.state.sublimeBookmarks,c=[];if(b)for(var d=0;d\x3cb.length;d++){var e=b[d].find();e?c.push({anchor:e.from,head:e.to}):b.splice(d--,0)}c.length&&a.setSelections(c,0)},m[\x22Alt-Q\x22]=\x22wrapLines\x22;var w=q+\x22K \x22;m[w+q+\x22Backspace\x22]=\x22delLineLeft\x22,n[m.Backspace=\x22smartBackspace\x22]=function(b){return b.somethingSelected()?a.Pass:void b.operation(function(){for(var c=b.listSelections(),d=b.getOption(\x22indentUnit\x22),e=c.length-1;e\x3e=0;e--){var f=c[e].head,g=b.getRange({line:f.line,ch:0},f),h=a.countColumn(g,null,b.getOption(\x22tabSize\x22)),i=b.findPosH(f,-1,\x22char\x22,!1);if(g&&!/\x5cS/.test(g)&&h%d==0){var j=new o(f.line,a.findColumn(g,h-d,d));j.ch!=f.ch&&(i=j)}b.replaceRange(\x22\x22,i,f,\x22+delete\x22)}})},n[m[w+q+\x22K\x22]=\x22delLineRight\x22]=function(a){a.operation(function(){for(var b=a.listSelections(),c=b.length-1;c\x3e=0;c--)a.replaceRange(\x22\x22,b[c].anchor,o(b[c].to().line),\x22+delete\x22);a.scrollIntoView()})},n[m[w+q+\x22U\x22]=\x22upcaseAtCursor\x22]=function(a){j(a,function(a){return a.toUpperCase()})},n[m[w+q+\x22L\x22]=\x22downcaseAtCursor\x22]=function(a){j(a,function(a){return a.toLowerCase()})},n[m[w+q+\x22Space\x22]=\x22setSublimeMark\x22]=function(a){a.state.sublimeMark&&a.state.sublimeMark.clear(),a.state.sublimeMark=a.setBookmark(a.getCursor())},n[m[w+q+\x22A\x22]=\x22selectToSublimeMark\x22]=function(a){var b=a.state.sublimeMark&&a.state.sublimeMark.find();b&&a.setSelection(a.getCursor(),b)},n[m[w+q+\x22W\x22]=\x22deleteToSublimeMark\x22]=function(b){var c=b.state.sublimeMark&&b.state.sublimeMark.find();if(c){var d=b.getCursor(),e=c;if(a.cmpPos(d,e)\x3e0){var f=e;e=d,d=f}b.state.sublimeKilled=b.getRange(d,e),b.replaceRange(\x22\x22,d,e)}},n[m[w+q+\x22X\x22]=\x22swapWithSublimeMark\x22]=function(a){var b=a.state.sublimeMark&&a.state.sublimeMark.find();b&&(a.state.sublimeMark.clear(),a.state.sublimeMark=a.setBookmark(a.getCursor()),a.setCursor(b))},n[m[w+q+\x22Y\x22]=\x22sublimeYank\x22]=function(a){null!=a.state.sublimeKilled&&a.replaceSelection(a.state.sublimeKilled,null,\x22paste\x22)},m[w+q+\x22G\x22]=\x22clearBookmarks\x22,n[m[w+q+\x22C\x22]=\x22showInCenter\x22]=function(a){var b=a.cursorCoords(null,\x22local\x22);a.scrollTo(null,(b.top+b.bottom)/2-a.getScrollInfo().clientHeight/2)};var x=p?\x22Ctrl-Shift-\x22:\x22Ctrl-Alt-\x22;n[m[x+\x22Up\x22]=\x22selectLinesUpward\x22]=function(a){a.operation(function(){for(var b=a.listSelections(),c=0;c\x3cb.length;c++){var d=b[c];d.head.line\x3ea.firstLine()&&a.addSelection(o(d.head.line-1,d.head.ch))}})},n[m[x+\x22Down\x22]=\x22selectLinesDownward\x22]=function(a){a.operation(function(){for(var b=a.listSelections(),c=0;c\x3cb.length;c++){var d=b[c];d.head.line\x3ca.lastLine()&&a.addSelection(o(d.head.line+1,d.head.ch))}})},n[m[q+\x22F3\x22]=\x22findUnder\x22]=function(a){l(a,!0)},n[m[\x22Shift-\x22+q+\x22F3\x22]=\x22findUnderPrevious\x22]=function(a){l(a,!1)},n[m[\x22Alt-F3\x22]=\x22findAllUnder\x22]=function(a){var b=k(a);if(b){for(var c=a.getSearchCursor(b.query),d=[],e=-1;c.findNext();)d.push({anchor:c.from(),head:c.to()}),c.from().line\x3c=b.from.line&&c.from().ch\x3c=b.from.ch&&e++;a.setSelections(d,e)}},m[\x22Shift-\x22+q+\x22[\x22]=\x22fold\x22,m[\x22Shift-\x22+q+\x22]\x22]=\x22unfold\x22,m[w+q+\x220\x22]=m[w+q+\x22J\x22]=\x22unfoldAll\x22,m[q+\x22I\x22]=\x22findIncremental\x22,m[\x22Shift-\x22+q+\x22I\x22]=\x22findIncrementalReverse\x22,m[q+\x22H\x22]=\x22replace\x22,m.F3=\x22findNext\x22,m[\x22Shift-F3\x22]=\x22findPrev\x22,a.normalizeKeyMap(m)})},{\x22../addon/edit/matchbrackets\x22:12,\x22../addon/search/searchcursor\x22:49,\x22../lib/codemirror\x22:59}],58:[function(a,b,c){!function(d){\x22object\x22==typeof c&&\x22object\x22==typeof b?d(a(\x22../lib/codemirror\x22),a(\x22../addon/search/searchcursor\x22),a(\x22../addon/dialog/dialog\x22),a(\x22../addon/edit/matchbrackets.js\x22)):\x22function\x22==typeof define&&define.amd?define([\x22../lib/codemirror\x22,\x22../addon/search/searchcursor\x22,\x22../addon/dialog/dialog\x22,\x22../addon/edit/matchbrackets\x22],d):d(CodeMirror)}(function(a){\x22use strict\x22;var b=[{keys:\x22\x3cLeft\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22h\x22},{keys:\x22\x3cRight\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22l\x22},{keys:\x22\x3cUp\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22k\x22},{keys:\x22\x3cDown\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22j\x22},{keys:\x22\x3cSpace\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22l\x22},{keys:\x22\x3cBS\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22h\x22,context:\x22normal\x22},{keys:\x22\x3cC-Space\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22W\x22},{keys:\x22\x3cC-BS\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22B\x22,context:\x22normal\x22},{keys:\x22\x3cS-Space\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22w\x22},{keys:\x22\x3cS-BS\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22b\x22,context:\x22normal\x22},{keys:\x22\x3cC-n\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22j\x22},{keys:\x22\x3cC-p\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22k\x22},{keys:\x22\x3cC-[\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22\x3cEsc\x3e\x22},{keys:\x22\x3cC-c\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22\x3cEsc\x3e\x22},{keys:\x22\x3cC-[\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22\x3cEsc\x3e\x22,context:\x22insert\x22},{keys:\x22\x3cC-c\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22\x3cEsc\x3e\x22,context:\x22insert\x22},{keys:\x22s\x22,type:\x22keyToKey\x22,toKeys:\x22cl\x22,context:\x22normal\x22},{keys:\x22s\x22,type:\x22keyToKey\x22,toKeys:\x22c\x22,context:\x22visual\x22},{keys:\x22S\x22,type:\x22keyToKey\x22,toKeys:\x22cc\x22,context:\x22normal\x22},{keys:\x22S\x22,type:\x22keyToKey\x22,toKeys:\x22VdO\x22,context:\x22visual\x22},{keys:\x22\x3cHome\x3e\x22,type:\x22keyToKey\x22,toKeys:\x220\x22},{keys:\x22\x3cEnd\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22$\x22},{keys:\x22\x3cPageUp\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22\x3cC-b\x3e\x22},{keys:\x22\x3cPageDown\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22\x3cC-f\x3e\x22},{keys:\x22\x3cCR\x3e\x22,type:\x22keyToKey\x22,toKeys:\x22j^\x22,context:\x22normal\x22},{keys:\x22\x3cIns\x3e\x22,type:\x22action\x22,action:\x22toggleOverwrite\x22,context:\x22insert\x22},{keys:\x22H\x22,type:\x22motion\x22,motion:\x22moveToTopLine\x22,motionArgs:{linewise:!0,toJumplist:!0}},{keys:\x22M\x22,type:\x22motion\x22,motion:\x22moveToMiddleLine\x22,motionArgs:{linewise:!0,toJumplist:!0}},{keys:\x22L\x22,type:\x22motion\x22,motion:\x22moveToBottomLine\x22,motionArgs:{linewise:!0,toJumplist:!0}},{keys:\x22h\x22,type:\x22motion\x22,motion:\x22moveByCharacters\x22,motionArgs:{forward:!1}},{keys:\x22l\x22,type:\x22motion\x22,motion:\x22moveByCharacters\x22,motionArgs:{forward:!0}},{keys:\x22j\x22,type:\x22motion\x22,motion:\x22moveByLines\x22,motionArgs:{forward:!0,linewise:!0}},{keys:\x22k\x22,type:\x22motion\x22,motion:\x22moveByLines\x22,motionArgs:{forward:!1,linewise:!0}},{keys:\x22gj\x22,type:\x22motion\x22,motion:\x22moveByDisplayLines\x22,motionArgs:{forward:!0}},{keys:\x22gk\x22,type:\x22motion\x22,motion:\x22moveByDisplayLines\x22,motionArgs:{forward:!1}},{keys:\x22w\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!0,wordEnd:!1}},{keys:\x22W\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:\x22e\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:\x22E\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:\x22b\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!1,wordEnd:!1}},{keys:\x22B\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:\x22ge\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:\x22gE\x22,type:\x22motion\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:\x22{\x22,type:\x22motion\x22,motion:\x22moveByParagraph\x22,motionArgs:{forward:!1,toJumplist:!0}},{keys:\x22}\x22,type:\x22motion\x22,motion:\x22moveByParagraph\x22,motionArgs:{forward:!0,toJumplist:!0}},{keys:\x22\x3cC-f\x3e\x22,type:\x22motion\x22,motion:\x22moveByPage\x22,motionArgs:{forward:!0}},{keys:\x22\x3cC-b\x3e\x22,type:\x22motion\x22,motion:\x22moveByPage\x22,motionArgs:{forward:!1}},{keys:\x22\x3cC-d\x3e\x22,type:\x22motion\x22,motion:\x22moveByScroll\x22,motionArgs:{forward:!0,explicitRepeat:!0}},{keys:\x22\x3cC-u\x3e\x22,type:\x22motion\x22,motion:\x22moveByScroll\x22,motionArgs:{forward:!1,explicitRepeat:!0}},{keys:\x22gg\x22,type:\x22motion\x22,motion:\x22moveToLineOrEdgeOfDocument\x22,motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:\x22G\x22,type:\x22motion\x22,motion:\x22moveToLineOrEdgeOfDocument\x22,motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:\x220\x22,type:\x22motion\x22,motion:\x22moveToStartOfLine\x22},{keys:\x22^\x22,type:\x22motion\x22,motion:\x22moveToFirstNonWhiteSpaceCharacter\x22},{keys:\x22+\x22,type:\x22motion\x22,motion:\x22moveByLines\x22,motionArgs:{forward:!0,toFirstChar:!0}},{keys:\x22-\x22,type:\x22motion\x22,motion:\x22moveByLines\x22,motionArgs:{forward:!1,toFirstChar:!0}},{keys:\x22_\x22,type:\x22motion\x22,motion:\x22moveByLines\x22,motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:\x22$\x22,type:\x22motion\x22,motion:\x22moveToEol\x22,motionArgs:{inclusive:!0}},{keys:\x22%\x22,type:\x22motion\x22,motion:\x22moveToMatchedSymbol\x22,motionArgs:{inclusive:!0,toJumplist:!0}},{keys:\x22f\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22moveToCharacter\x22,motionArgs:{forward:!0,inclusive:!0}},{keys:\x22F\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22moveToCharacter\x22,motionArgs:{forward:!1}},{keys:\x22t\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22moveTillCharacter\x22,motionArgs:{forward:!0,inclusive:!0}},{keys:\x22T\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22moveTillCharacter\x22,motionArgs:{forward:!1}},{keys:\x22;\x22,type:\x22motion\x22,motion:\x22repeatLastCharacterSearch\x22,motionArgs:{forward:!0}},{keys:\x22,\x22,type:\x22motion\x22,motion:\x22repeatLastCharacterSearch\x22,motionArgs:{forward:!1}},{keys:\x22\x27\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22goToMark\x22,motionArgs:{toJumplist:!0,linewise:!0}},{keys:\x22`\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22goToMark\x22,motionArgs:{toJumplist:!0}},{keys:\x22]`\x22,type:\x22motion\x22,motion:\x22jumpToMark\x22,motionArgs:{forward:!0}},{keys:\x22[`\x22,type:\x22motion\x22,motion:\x22jumpToMark\x22,motionArgs:{forward:!1}},{keys:\x22]\x27\x22,type:\x22motion\x22,motion:\x22jumpToMark\x22,motionArgs:{forward:!0,linewise:!0}},{keys:\x22[\x27\x22,type:\x22motion\x22,motion:\x22jumpToMark\x22,motionArgs:{forward:!1,linewise:!0}},{keys:\x22]p\x22,type:\x22action\x22,action:\x22paste\x22,isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:\x22[p\x22,type:\x22action\x22,action:\x22paste\x22,isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:\x22]\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22moveToSymbol\x22,motionArgs:{forward:!0,toJumplist:!0}},{keys:\x22[\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22moveToSymbol\x22,motionArgs:{forward:!1,toJumplist:!0}},{keys:\x22|\x22,type:\x22motion\x22,motion:\x22moveToColumn\x22},{keys:\x22o\x22,type:\x22motion\x22,motion:\x22moveToOtherHighlightedEnd\x22,context:\x22visual\x22},{keys:\x22O\x22,type:\x22motion\x22,motion:\x22moveToOtherHighlightedEnd\x22,motionArgs:{sameLine:!0},context:\x22visual\x22},{keys:\x22d\x22,type:\x22operator\x22,operator:\x22delete\x22},{keys:\x22y\x22,type:\x22operator\x22,operator:\x22yank\x22},{keys:\x22c\x22,type:\x22operator\x22,operator:\x22change\x22},{keys:\x22\x3e\x22,type:\x22operator\x22,operator:\x22indent\x22,operatorArgs:{indentRight:!0}},{keys:\x22\x3c\x22,type:\x22operator\x22,operator:\x22indent\x22,operatorArgs:{indentRight:!1}},{keys:\x22g~\x22,type:\x22operator\x22,operator:\x22changeCase\x22},{keys:\x22gu\x22,type:\x22operator\x22,operator:\x22changeCase\x22,operatorArgs:{toLower:!0},isEdit:!0},{keys:\x22gU\x22,type:\x22operator\x22,operator:\x22changeCase\x22,operatorArgs:{toLower:!1},isEdit:!0},{keys:\x22n\x22,type:\x22motion\x22,motion:\x22findNext\x22,motionArgs:{forward:!0,toJumplist:!0}},{keys:\x22N\x22,type:\x22motion\x22,motion:\x22findNext\x22,motionArgs:{forward:!1,toJumplist:!0}},{keys:\x22x\x22,type:\x22operatorMotion\x22,operator:\x22delete\x22,motion:\x22moveByCharacters\x22,motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:\x22X\x22,type:\x22operatorMotion\x22,operator:\x22delete\x22,motion:\x22moveByCharacters\x22,motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:\x22D\x22,type:\x22operatorMotion\x22,operator:\x22delete\x22,motion:\x22moveToEol\x22,motionArgs:{inclusive:!0},context:\x22normal\x22},{keys:\x22D\x22,type:\x22operator\x22,operator:\x22delete\x22,operatorArgs:{linewise:!0},context:\x22visual\x22},{keys:\x22Y\x22,type:\x22operatorMotion\x22,operator:\x22yank\x22,motion:\x22expandToLine\x22,motionArgs:{linewise:!0},context:\x22normal\x22},{keys:\x22Y\x22,type:\x22operator\x22,operator:\x22yank\x22,operatorArgs:{linewise:!0},context:\x22visual\x22},{keys:\x22C\x22,type:\x22operatorMotion\x22,operator:\x22change\x22,motion:\x22moveToEol\x22,motionArgs:{inclusive:!0},context:\x22normal\x22},{keys:\x22C\x22,type:\x22operator\x22,operator:\x22change\x22,operatorArgs:{linewise:!0},context:\x22visual\x22},{keys:\x22~\x22,type:\x22operatorMotion\x22,operator:\x22changeCase\x22,motion:\x22moveByCharacters\x22,motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:\x22normal\x22},{keys:\x22~\x22,type:\x22operator\x22,operator:\x22changeCase\x22,context:\x22visual\x22},{keys:\x22\x3cC-w\x3e\x22,type:\x22operatorMotion\x22,operator:\x22delete\x22,motion:\x22moveByWords\x22,motionArgs:{forward:!1,wordEnd:!1},context:\x22insert\x22},{keys:\x22\x3cC-i\x3e\x22,type:\x22action\x22,action:\x22jumpListWalk\x22,actionArgs:{forward:!0}},{keys:\x22\x3cC-o\x3e\x22,type:\x22action\x22,action:\x22jumpListWalk\x22,actionArgs:{forward:!1}},{keys:\x22\x3cC-e\x3e\x22,type:\x22action\x22,action:\x22scroll\x22,actionArgs:{forward:!0,linewise:!0}},{keys:\x22\x3cC-y\x3e\x22,type:\x22action\x22,action:\x22scroll\x22,actionArgs:{forward:!1,linewise:!0}},{keys:\x22a\x22,type:\x22action\x22,action:\x22enterInsertMode\x22,isEdit:!0,actionArgs:{insertAt:\x22charAfter\x22},context:\x22normal\x22},{keys:\x22A\x22,type:\x22action\x22,action:\x22enterInsertMode\x22,isEdit:!0,actionArgs:{insertAt:\x22eol\x22},context:\x22normal\x22},{keys:\x22A\x22,type:\x22action\x22,action:\x22enterInsertMode\x22,isEdit:!0,actionArgs:{insertAt:\x22endOfSelectedArea\x22},context:\x22visual\x22},{keys:\x22i\x22,type:\x22action\x22,action:\x22enterInsertMode\x22,isEdit:!0,actionArgs:{insertAt:\x22inplace\x22},context:\x22normal\x22},{keys:\x22I\x22,type:\x22action\x22,action:\x22enterInsertMode\x22,isEdit:!0,actionArgs:{insertAt:\x22firstNonBlank\x22},context:\x22normal\x22},{keys:\x22I\x22,type:\x22action\x22,action:\x22enterInsertMode\x22,isEdit:!0,actionArgs:{insertAt:\x22startOfSelectedArea\x22},context:\x22visual\x22},{keys:\x22o\x22,type:\x22action\x22,action:\x22newLineAndEnterInsertMode\x22,isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:\x22normal\x22},{keys:\x22O\x22,type:\x22action\x22,action:\x22newLineAndEnterInsertMode\x22,isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:\x22normal\x22},{keys:\x22v\x22,type:\x22action\x22,action:\x22toggleVisualMode\x22},{keys:\x22V\x22,type:\x22action\x22,action:\x22toggleVisualMode\x22,actionArgs:{linewise:!0}},{keys:\x22\x3cC-v\x3e\x22,type:\x22action\x22,action:\x22toggleVisualMode\x22,actionArgs:{blockwise:!0}},{keys:\x22\x3cC-q\x3e\x22,type:\x22action\x22,action:\x22toggleVisualMode\x22,actionArgs:{blockwise:!0}},{keys:\x22gv\x22,type:\x22action\x22,action:\x22reselectLastSelection\x22},{keys:\x22J\x22,type:\x22action\x22,action:\x22joinLines\x22,isEdit:!0},{keys:\x22p\x22,type:\x22action\x22,action:\x22paste\x22,isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:\x22P\x22,type:\x22action\x22,action:\x22paste\x22,isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:\x22r\x3ccharacter\x3e\x22,type:\x22action\x22,action:\x22replace\x22,isEdit:!0},{keys:\x22@\x3ccharacter\x3e\x22,type:\x22action\x22,action:\x22replayMacro\x22},{keys:\x22q\x3ccharacter\x3e\x22,type:\x22action\x22,action:\x22enterMacroRecordMode\x22},{keys:\x22R\x22,type:\x22action\x22,action:\x22enterInsertMode\x22,isEdit:!0,actionArgs:{replace:!0}},{keys:\x22u\x22,type:\x22action\x22,action:\x22undo\x22,context:\x22normal\x22},{keys:\x22u\x22,type:\x22operator\x22,operator:\x22changeCase\x22,operatorArgs:{toLower:!0},context:\x22visual\x22,isEdit:!0},{keys:\x22U\x22,type:\x22operator\x22,operator:\x22changeCase\x22,operatorArgs:{toLower:!1},context:\x22visual\x22,isEdit:!0},{keys:\x22\x3cC-r\x3e\x22,type:\x22action\x22,action:\x22redo\x22},{keys:\x22m\x3ccharacter\x3e\x22,type:\x22action\x22,action:\x22setMark\x22},{keys:\x27\x22\x3ccharacter\x3e\x27,type:\x22action\x22,action:\x22setRegister\x22},{keys:\x22zz\x22,type:\x22action\x22,action:\x22scrollToCursor\x22,actionArgs:{position:\x22center\x22}},{keys:\x22z.\x22,type:\x22action\x22,action:\x22scrollToCursor\x22,actionArgs:{position:\x22center\x22},motion:\x22moveToFirstNonWhiteSpaceCharacter\x22},{keys:\x22zt\x22,type:\x22action\x22,action:\x22scrollToCursor\x22,actionArgs:{position:\x22top\x22}},{keys:\x22z\x3cCR\x3e\x22,type:\x22action\x22,action:\x22scrollToCursor\x22,actionArgs:{position:\x22top\x22},motion:\x22moveToFirstNonWhiteSpaceCharacter\x22},{keys:\x22z-\x22,type:\x22action\x22,action:\x22scrollToCursor\x22,actionArgs:{position:\x22bottom\x22}},{keys:\x22zb\x22,type:\x22action\x22,action:\x22scrollToCursor\x22,actionArgs:{position:\x22bottom\x22},motion:\x22moveToFirstNonWhiteSpaceCharacter\x22},{keys:\x22.\x22,type:\x22action\x22,action:\x22repeatLastEdit\x22},{keys:\x22\x3cC-a\x3e\x22,type:\x22action\x22,action:\x22incrementNumberToken\x22,isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:\x22\x3cC-x\x3e\x22,type:\x22action\x22,action:\x22incrementNumberToken\x22,isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:\x22\x3cC-t\x3e\x22,type:\x22action\x22,action:\x22indent\x22,actionArgs:{indentRight:!0},context:\x22insert\x22},{keys:\x22\x3cC-d\x3e\x22,type:\x22action\x22,action:\x22indent\x22,actionArgs:{indentRight:!1},context:\x22insert\x22},{keys:\x22a\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22textObjectManipulation\x22},{keys:\x22i\x3ccharacter\x3e\x22,type:\x22motion\x22,motion:\x22textObjectManipulation\x22,motionArgs:{textObjectInner:!0}},{keys:\x22/\x22,type:\x22search\x22,searchArgs:{forward:!0,querySrc:\x22prompt\x22,toJumplist:!0}},{keys:\x22?\x22,type:\x22search\x22,searchArgs:{forward:!1,querySrc:\x22prompt\x22,toJumplist:!0}},{keys:\x22*\x22,type:\x22search\x22,searchArgs:{forward:!0,querySrc:\x22wordUnderCursor\x22,wholeWordOnly:!0,toJumplist:!0}},{keys:\x22#\x22,type:\x22search\x22,searchArgs:{forward:!1,querySrc:\x22wordUnderCursor\x22,wholeWordOnly:!0,toJumplist:!0}},{keys:\x22g*\x22,type:\x22search\x22,searchArgs:{forward:!0,querySrc:\x22wordUnderCursor\x22,toJumplist:!0}},{keys:\x22g#\x22,type:\x22search\x22,searchArgs:{forward:!1,querySrc:\x22wordUnderCursor\x22,toJumplist:!0}},{keys:\x22:\x22,type:\x22ex\x22}],c=[{name:\x22colorscheme\x22,shortName:\x22colo\x22},{name:\x22map\x22},{name:\x22imap\x22,shortName:\x22im\x22},{name:\x22nmap\x22,shortName:\x22nm\x22},{name:\x22vmap\x22,shortName:\x22vm\x22},{name:\x22unmap\x22},{name:\x22write\x22,shortName:\x22w\x22},{name:\x22undo\x22,shortName:\x22u\x22},{name:\x22redo\x22,shortName:\x22red\x22},{name:\x22set\x22,shortName:\x22se\x22},{name:\x22set\x22,shortName:\x22se\x22},{name:\x22setlocal\x22,shortName:\x22setl\x22},{name:\x22setglobal\x22,shortName:\x22setg\x22},{name:\x22sort\x22,shortName:\x22sor\x22},{name:\x22substitute\x22,shortName:\x22s\x22,possiblyAsync:!0},{name:\x22nohlsearch\x22,shortName:\x22noh\x22},{name:\x22yank\x22,shortName:\x22y\x22},{name:\x22delmarks\x22,shortName:\x22delm\x22},{name:\x22registers\x22,shortName:\x22reg\x22,excludeFromCommandHistory:!0},{name:\x22global\x22,shortName:\x22g\x22}],d=a.Pos,e=function(){function e(b){b.setOption(\x22disableInput\x22,!0),b.setOption(\x22showCursorWhenSelecting\x22,!1),a.signal(b,\x22vim-mode-change\x22,{mode:\x22normal\x22}),b.on(\x22cursorActivity\x22,bb),x(b),a.on(b.getInputField(),\x22paste\x22,k(b))}function f(b){b.setOption(\x22disableInput\x22,!1),b.off(\x22cursorActivity\x22,bb),a.off(b.getInputField(),\x22paste\x22,k(b)),b.state.vim=null}function g(b,c){this==a.keyMap.vim&&a.rmClass(b.getWrapperElement(),\x22cm-fat-cursor\x22),c&&c.attach==h||f(b)}function h(b,c){this==a.keyMap.vim&&a.addClass(b.getWrapperElement(),\x22cm-fat-cursor\x22),c&&c.attach==h||e(b)}function i(b,c){if(c){if(this[b])return this[b];var d=j(b);if(!d)return!1;var e=a.Vim.findKey(c,d);return\x22function\x22==typeof e&&a.signal(c,\x22vim-keypress\x22,d),e}}function j(a){if(\x22\x27\x22==a.charAt(0))return a.charAt(1);var b=a.split(/-(?!$)/),c=b[b.length-1];if(1==b.length&&1==b[0].length)return!1;if(2==b.length&&\x22Shift\x22==b[0]&&1==c.length)return!1;for(var d=!1,e=0;e\x3cb.length;e++){var f=b[e];f in ib?b[e]=ib[f]:d=!0,f in jb&&(b[e]=jb[f])}return!!d&&(q(c)&&(b[b.length-1]=c.toLowerCase()),\x22\x3c\x22+b.join(\x22-\x22)+\x22\x3e\x22)}function k(a){var b=a.state.vim;return b.onPasteFn||(b.onPasteFn=function(){b.insertMode||(a.setCursor(L(a.getCursor(),0,1)),Bb.enterInsertMode(a,{},b))}),b.onPasteFn}function l(a,b){for(var c=[],d=a;d\x3ca+b;d++)c.push(String.fromCharCode(d));return c}function m(a,b){return b\x3e=a.firstLine()&&b\x3c=a.lastLine()}function n(a){return/^[a-z]$/.test(a)}function o(a){return\x22()[]{}\x22.indexOf(a)!=-1}function p(a){return kb.test(a)}function q(a){return/^[A-Z]$/.test(a)}function r(a){return/^\x5cs*$/.test(a)}function s(a,b){for(var c=0;c\x3cb.length;c++)if(b[c]==a)return!0;return!1}function t(a,b,c,d,e){if(void 0===b&&!e)throw Error(\x22defaultValue is required unless callback is provided\x22);if(c||(c=\x22string\x22),sb[a]={type:c,defaultValue:b,callback:e},d)for(var f=0;f\x3cd.length;f++)sb[d[f]]=sb[a];b&&u(a,b)}function u(a,b,c,d){var e=sb[a];d=d||{};var f=d.scope;if(!e)return new Error(\x22Unknown option: \x22+a);if(\x22boolean\x22==e.type){if(b&&b!==!0)return new Error(\x22Invalid argument: \x22+a+\x22=\x22+b);b!==!1&&(b=!0)}e.callback?(\x22local\x22!==f&&e.callback(b,void 0),\x22global\x22!==f&&c&&e.callback(b,c)):(\x22local\x22!==f&&(e.value=\x22boolean\x22==e.type?!!b:b),\x22global\x22!==f&&c&&(c.state.vim.options[a]={value:b}))}function v(a,b,c){var d=sb[a];c=c||{};var e=c.scope;if(!d)return new Error(\x22Unknown option: \x22+a);{if(!d.callback){var f=\x22global\x22!==e&&b&&b.state.vim.options[a];return(f||\x22local\x22!==e&&d||{}).value}var f=b&&d.callback(void 0,b);if(\x22global\x22!==e&&void 0!==f)return f;if(\x22local\x22!==e)return d.callback()}}function w(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=ub()}function x(a){return a.state.vim||(a.state.vim={inputState:new z,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),a.state.vim}function y(){vb={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:tb(),macroModeState:new w,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:\x22\x22},registerController:new D({}),searchHistoryController:new E,exCommandHistoryController:new E};for(var a in sb){var b=sb[a];b.value=b.defaultValue}}function z(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function A(b,c){b.state.vim.inputState=new z,a.signal(b,\x22vim-command-done\x22,c)}function B(a,b,c){this.clear(),this.keyBuffer=[a||\x22\x22],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!b,this.blockwise=!!c}function C(a,b){var c=vb.registerController.registers;if(!a||1!=a.length)throw Error(\x22Register name must be 1 character\x22);if(c[a])throw Error(\x22Register already defined \x22+a);c[a]=b,rb.push(a)}function D(a){this.registers=a,this.unnamedRegister=a[\x27\x22\x27]=new B,a[\x22.\x22]=new B,a[\x22:\x22]=new B,a[\x22/\x22]=new B}function E(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}function F(a,b){zb[a]=b}function G(a,b){for(var c=[],d=0;d\x3cb;d++)c.push(a);return c}function H(a,b){Ab[a]=b}function I(a,b){Bb[a]=b}function J(a,b,c){var e=Math.min(Math.max(a.firstLine(),b.line),a.lastLine()),f=X(a,e)-1;f=c?f+1:f;var g=Math.min(Math.max(0,b.ch),f);return d(e,g)}function K(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function L(a,b,c){return\x22object\x22==typeof b&&(c=b.ch,b=b.line),d(a.line+b,a.ch+c)}function M(a,b){return{line:b.line-a.line,ch:b.line-a.line}}function N(a,b,c,d){for(var e,f=[],g=[],h=0;h\x3cb.length;h++){var i=b[h];\x22insert\x22==c&&\x22insert\x22!=i.context||i.context&&i.context!=c||d.operator&&\x22action\x22==i.type||!(e=O(a,i.keys))||(\x22partial\x22==e&&f.push(i),\x22full\x22==e&&g.push(i))}return{partial:f.length&&f,full:g.length&&g}}function O(a,b){if(\x22\x3ccharacter\x3e\x22==b.slice(-11)){var c=b.length-11,d=a.slice(0,c),e=b.slice(0,c);return d==e&&a.length\x3ec?\x22full\x22:0==e.indexOf(d)&&\x22partial\x22}return a==b?\x22full\x22:0==b.indexOf(a)&&\x22partial\x22}function P(a){var b=/^.*(\x3c[^\x3e]+\x3e)$/.exec(a),c=b?b[1]:a.slice(-1);if(c.length\x3e1)switch(c){case\x22\x3cCR\x3e\x22:c=\x22\x5cn\x22;break;case\x22\x3cSpace\x3e\x22:c=\x22 \x22;break;default:c=\x22\x22}return c}function Q(a,b,c){return function(){for(var d=0;d\x3cc;d++)b(a)}}function R(a){return d(a.line,a.ch)}function S(a,b){return a.ch==b.ch&&a.line==b.line}function T(a,b){return a.line\x3cb.line||a.line==b.line&&a.ch\x3cb.ch}function U(a,b){return arguments.length\x3e2&&(b=U.apply(void 0,Array.prototype.slice.call(arguments,1))),T(a,b)?a:b}function V(a,b){return arguments.length\x3e2&&(b=V.apply(void 0,Array.prototype.slice.call(arguments,1))),T(a,b)?b:a}function W(a,b,c){var d=T(a,b),e=T(b,c);return d&&e}function X(a,b){return a.getLine(b).length}function Y(a){return a.trim?a.trim():a.replace(/^\x5cs+|\x5cs+$/g,\x22\x22)}function Z(a){return a.replace(/([.?*+$\x5c[\x5c]\x5c/\x5c\x5c(){}|\x5c-])/g,\x22\x5c\x5c$1\x22)}function $(a,b,c){var e=X(a,b),f=new Array(c-e+1).join(\x22 \x22);a.setCursor(d(b,e)),a.replaceRange(f,a.getCursor())}function _(a,b){var c=[],e=a.listSelections(),f=R(a.clipPos(b)),g=!S(b,f),h=a.getCursor(\x22head\x22),i=ba(e,h),j=S(e[i].head,e[i].anchor),k=e.length-1,l=k-i\x3ei?k:0,m=e[l].anchor,n=Math.min(m.line,f.line),o=Math.max(m.line,f.line),p=m.ch,q=f.ch,r=e[l].head.ch-p,s=q-p;r\x3e0&&s\x3c=0?(p++,g||q--):r\x3c0&&s\x3e=0?(p--,j||q++):r\x3c0&&s==-1&&(p--,q++);for(var t=n;t\x3c=o;t++){var u={anchor:new d(t,p),head:new d(t,q)};c.push(u)}return a.setSelections(c),b.ch=q,m.ch=p,m}function aa(a,b,c){for(var d=[],e=0;e\x3cc;e++){var f=L(b,e,0);d.push({anchor:f,head:f})}a.setSelections(d,0)}function ba(a,b,c){for(var d=0;d\x3ca.length;d++){var e=\x22head\x22!=c&&S(a[d].anchor,b),f=\x22anchor\x22!=c&&S(a[d].head,b);if(e||f)return d}return-1}function ca(a,b){var c=b.lastSelection,e=function(){var b=a.listSelections(),c=b[0],d=b[b.length-1],e=T(c.anchor,c.head)?c.anchor:c.head,f=T(d.anchor,d.head)?d.head:d.anchor;return[e,f]},f=function(){var b=a.getCursor(),e=a.getCursor(),f=c.visualBlock;if(f){var g=f.width,h=f.height;e=d(b.line+h,b.ch+g);for(var i=[],j=b.line;j\x3ce.line;j++){var k=d(j,b.ch),l=d(j,e.ch),m={anchor:k,head:l};i.push(m)}a.setSelections(i)}else{var n=c.anchorMark.find(),o=c.headMark.find(),p=o.line-n.line,q=o.ch-n.ch;e={line:e.line+p,ch:p?e.ch:q+e.ch},c.visualLine&&(b=d(b.line,0),e=d(e.line,X(a,e.line))),a.setSelection(b,e)}return[b,e]};return b.visualMode?e():f()}function da(a,b){var c=b.sel.anchor,d=b.sel.head;b.lastPastedText&&(d=a.posFromIndex(a.indexFromPos(c)+b.lastPastedText.length),b.lastPastedText=null),b.lastSelection={anchorMark:a.setBookmark(c),\x0aheadMark:a.setBookmark(d),anchor:R(c),head:R(d),visualMode:b.visualMode,visualLine:b.visualLine,visualBlock:b.visualBlock}}function ea(a,b,c){var e,f=a.state.vim.sel,g=f.head,h=f.anchor;return T(c,b)&&(e=c,c=b,b=e),T(g,h)?(g=U(b,g),h=V(h,c)):(h=U(b,h),g=V(g,c),g=L(g,0,-1),g.ch==-1&&g.line!=a.firstLine()&&(g=d(g.line-1,X(a,g.line-1)))),[h,g]}function fa(a,b,c){var d=a.state.vim;b=b||d.sel;var c=c||d.visualLine?\x22line\x22:d.visualBlock?\x22block\x22:\x22char\x22,e=ga(a,b,c);a.setSelections(e.ranges,e.primary),cb(a)}function ga(a,b,c,e){var f=R(b.head),g=R(b.anchor);if(\x22char\x22==c){var h=e||T(b.head,b.anchor)?0:1,i=T(b.head,b.anchor)?1:0;return f=L(b.head,0,h),g=L(b.anchor,0,i),{ranges:[{anchor:g,head:f}],primary:0}}if(\x22line\x22==c){if(T(b.head,b.anchor))f.ch=0,g.ch=X(a,g.line);else{g.ch=0;var j=a.lastLine();f.line\x3ej&&(f.line=j),f.ch=X(a,f.line)}return{ranges:[{anchor:g,head:f}],primary:0}}if(\x22block\x22==c){for(var k=Math.min(g.line,f.line),l=Math.min(g.ch,f.ch),m=Math.max(g.line,f.line),n=Math.max(g.ch,f.ch)+1,o=m-k+1,p=f.line==k?0:o-1,q=[],r=0;r\x3co;r++)q.push({anchor:d(k+r,l),head:d(k+r,n)});return{ranges:q,primary:p}}}function ha(a){var b=a.getCursor(\x22head\x22);return 1==a.getSelection().length&&(b=U(b,a.getCursor(\x22anchor\x22))),b}function ia(b,c){var d=b.state.vim;c!==!1&&b.setCursor(J(b,d.sel.head)),da(b,d),d.visualMode=!1,d.visualLine=!1,d.visualBlock=!1,a.signal(b,\x22vim-mode-change\x22,{mode:\x22normal\x22}),d.fakeCursor&&d.fakeCursor.clear()}function ja(a,b,c){var d=a.getRange(b,c);if(/\x5cn\x5cs*$/.test(d)){var e=d.split(\x22\x5cn\x22);e.pop();for(var f,f=e.pop();e.length\x3e0&&f&&r(f);f=e.pop())c.line--,c.ch=0;f?(c.line--,c.ch=X(a,c.line)):c.ch=0}}function ka(a,b,c){b.ch=0,c.ch=0,c.line++}function la(a){if(!a)return 0;var b=a.search(/\x5cS/);return b==-1?a.length:b}function ma(a,b,c,e,f){for(var g=ha(a),h=a.getLine(g.line),i=g.ch,j=f?lb[0]:mb[0];!j(h.charAt(i));)if(i++,i\x3e=h.length)return null;e?j=mb[0]:(j=lb[0],j(h.charAt(i))||(j=lb[1]));for(var k=i,l=i;j(h.charAt(k))&&k\x3ch.length;)k++;for(;j(h.charAt(l))&&l\x3e=0;)l--;if(l++,b){for(var m=k;/\x5cs/.test(h.charAt(k))&&k\x3ch.length;)k++;if(m==k){for(var n=l;/\x5cs/.test(h.charAt(l-1))&&l\x3e0;)l--;l||(l=n)}}return{start:d(g.line,l),end:d(g.line,k)}}function na(a,b,c){S(b,c)||vb.jumpList.add(a,b,c)}function oa(a,b){vb.lastCharacterSearch.increment=a,vb.lastCharacterSearch.forward=b.forward,vb.lastCharacterSearch.selectedCharacter=b.selectedCharacter}function pa(a,b,c,e){var f=R(a.getCursor()),g=c?1:-1,h=c?a.lineCount():-1,i=f.ch,j=f.line,k=a.getLine(j),l={lineText:k,nextCh:k.charAt(i),lastCh:null,index:i,symb:e,reverseSymb:(c?{\x22)\x22:\x22(\x22,\x22}\x22:\x22{\x22}:{\x22(\x22:\x22)\x22,\x22{\x22:\x22}\x22})[e],forward:c,depth:0,curMoveThrough:!1},m=Cb[e];if(!m)return f;var n=Db[m].init,o=Db[m].isComplete;for(n&&n(l);j!==h&&b;){if(l.index+=g,l.nextCh=l.lineText.charAt(l.index),!l.nextCh){if(j+=g,l.lineText=a.getLine(j)||\x22\x22,g\x3e0)l.index=0;else{var p=l.lineText.length;l.index=p\x3e0?p-1:0}l.nextCh=l.lineText.charAt(l.index)}o(l)&&(f.line=j,f.ch=l.index,b--)}return l.nextCh||l.curMoveThrough?d(j,l.index):f}function qa(a,b,c,d,e){var f=b.line,g=b.ch,h=a.getLine(f),i=c?1:-1,j=d?mb:lb;if(e&&\x22\x22==h){if(f+=i,h=a.getLine(f),!m(a,f))return null;g=c?0:h.length}for(;;){if(e&&\x22\x22==h)return{from:0,to:0,line:f};for(var k=i\x3e0?h.length:-1,l=k,n=k;g!=k;){for(var o=!1,p=0;p\x3cj.length&&!o;++p)if(j[p](h.charAt(g))){for(l=g;g!=k&&j[p](h.charAt(g));)g+=i;if(n=g,o=l!=n,l==b.ch&&f==b.line&&n==l+i)continue;return{from:Math.min(l,n+1),to:Math.max(l,n),line:f}}o||(g+=i)}if(f+=i,!m(a,f))return null;h=a.getLine(f),g=i\x3e0?0:h.length}}function ra(a,b,c,e,f,g){var h=R(b),i=[];(e&&!f||!e&&f)&&c++;for(var j=!(e&&f),k=0;k\x3cc;k++){var l=qa(a,b,e,g,j);if(!l){var m=X(a,a.lastLine());i.push(e?{line:a.lastLine(),from:m,to:m}:{line:0,from:0,to:0});break}i.push(l),b=d(l.line,e?l.to-1:l.from)}var n=i.length!=c,o=i[0],p=i.pop();return e&&!f?(n||o.from==h.ch&&o.line==h.line||(p=i.pop()),d(p.line,p.from)):e&&f?d(p.line,p.to-1):!e&&f?(n||o.to==h.ch&&o.line==h.line||(p=i.pop()),d(p.line,p.to)):d(p.line,p.from)}function sa(a,b,c,e){for(var f,g=a.getCursor(),h=g.ch,i=0;i\x3cb;i++){var j=a.getLine(g.line);if(f=va(h,j,e,c,!0),f==-1)return null;h=f}return d(a.getCursor().line,f)}function ta(a,b){var c=a.getCursor().line;return J(a,d(c,b-1))}function ua(a,b,c,d){s(c,qb)&&(b.marks[c]&&b.marks[c].clear(),b.marks[c]=a.setBookmark(d))}function va(a,b,c,d,e){var f;return d?(f=b.indexOf(c,a+1),f==-1||e||(f-=1)):(f=b.lastIndexOf(c,a-1),f==-1||e||(f+=1)),f}function wa(a,b,c,e,f){function g(b){return!a.getLine(b)}function h(a,b,c){return c?g(a)!=g(a+b):!g(a)&&g(a+b)}var i,j,k=b.line,l=a.firstLine(),m=a.lastLine(),n=k;if(e){for(;l\x3c=n&&n\x3c=m&&c\x3e0;)h(n,e)&&c--,n+=e;return new d(n,0)}var o=a.state.vim;if(o.visualLine&&h(k,1,!0)){var p=o.sel.anchor;h(p.line,-1,!0)&&(f&&p.line==k||(k+=1))}var q=g(k);for(n=k;n\x3c=m&&c;n++)h(n,1,!0)&&(f&&g(n)==q||c--);for(j=new d(n,0),n\x3em&&!q?q=!0:f=!1,n=k;n\x3el&&(f&&g(n)!=q&&n!=k||!h(n,-1,!0));n--);return i=new d(n,0),{start:i,end:j}}function xa(a,b,c,e){var f,g,h=b,i={\x22(\x22:/[()]/,\x22)\x22:/[()]/,\x22[\x22:/[[\x5c]]/,\x22]\x22:/[[\x5c]]/,\x22{\x22:/[{}]/,\x22}\x22:/[{}]/}[c],j={\x22(\x22:\x22(\x22,\x22)\x22:\x22(\x22,\x22[\x22:\x22[\x22,\x22]\x22:\x22[\x22,\x22{\x22:\x22{\x22,\x22}\x22:\x22{\x22}[c],k=a.getLine(h.line).charAt(h.ch),l=k===j?1:0;if(f=a.scanForBracket(d(h.line,h.ch+l),-1,null,{bracketRegex:i}),g=a.scanForBracket(d(h.line,h.ch+l),1,null,{bracketRegex:i}),!f||!g)return{start:h,end:h};if(f=f.pos,g=g.pos,f.line==g.line&&f.ch\x3eg.ch||f.line\x3eg.line){var m=f;f=g,g=m}return e?g.ch+=1:f.ch+=1,{start:f,end:g}}function ya(a,b,c,e){var f,g,h,i,j=R(b),k=a.getLine(j.line),l=k.split(\x22\x22),m=l.indexOf(c);if(j.ch\x3cm?j.ch=m:m\x3cj.ch&&l[j.ch]==c&&(g=j.ch,--j.ch),l[j.ch]!=c||g)for(h=j.ch;h\x3e-1&&!f;h--)l[h]==c&&(f=h+1);else f=j.ch+1;if(f&&!g)for(h=f,i=l.length;h\x3ci&&!g;h++)l[h]==c&&(g=h);return f&&g?(e&&(--f,++g),{start:d(j.line,f),end:d(j.line,g)}):{start:j,end:j}}function za(){}function Aa(a){var b=a.state.vim;return b.searchState_||(b.searchState_=new za)}function Ba(a,b,c,d,e){a.openDialog?a.openDialog(b,d,{bottom:!0,value:e.value,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,selectValueOnOpen:!1}):d(prompt(c,\x22\x22))}function Ca(a){var b=Da(a)||[];if(!b.length)return[];var c=[];if(0===b[0]){for(var d=0;d\x3cb.length;d++)\x22number\x22==typeof b[d]&&c.push(a.substring(b[d]+1,b[d+1]));return c}}function Da(a){for(var b=!1,c=[],d=0;d\x3ca.length;d++){var e=a.charAt(d);b||\x22/\x22!=e||c.push(d),b=!b&&\x22\x5c\x5c\x22==e}return c}function Ea(a){for(var b=\x22|(){\x22,c=\x22}\x22,d=!1,e=[],f=-1;f\x3ca.length;f++){var g=a.charAt(f)||\x22\x22,h=a.charAt(f+1)||\x22\x22,i=h&&b.indexOf(h)!=-1;d?(\x22\x5c\x5c\x22===g&&i||e.push(g),d=!1):\x22\x5c\x5c\x22===g?(d=!0,h&&c.indexOf(h)!=-1&&(i=!0),i&&\x22\x5c\x5c\x22!==h||e.push(g)):(e.push(g),i&&\x22\x5c\x5c\x22!==h&&e.push(\x22\x5c\x5c\x22))}return e.join(\x22\x22)}function Fa(a){for(var b=!1,c=[],d=-1;d\x3ca.length;d++){var e=a.charAt(d)||\x22\x22,f=a.charAt(d+1)||\x22\x22;Eb[e+f]?(c.push(Eb[e+f]),d++):b?(c.push(e),b=!1):\x22\x5c\x5c\x22===e?(b=!0,p(f)||\x22$\x22===f?c.push(\x22$\x22):\x22/\x22!==f&&\x22\x5c\x5c\x22!==f&&c.push(\x22\x5c\x5c\x22)):(\x22$\x22===e&&c.push(\x22$\x22),c.push(e),\x22/\x22===f&&c.push(\x22\x5c\x5c\x22))}return c.join(\x22\x22)}function Ga(b){for(var c=new a.StringStream(b),d=[];!c.eol();){for(;c.peek()&&\x22\x5c\x5c\x22!=c.peek();)d.push(c.next());var e=!1;for(var f in Fb)if(c.match(f,!0)){e=!0,d.push(Fb[f]);break}e||d.push(c.next())}return d.join(\x22\x22)}function Ha(a,b,c){var d=vb.registerController.getRegister(\x22/\x22);if(d.setText(a),a instanceof RegExp)return a;var e,f,g=Da(a);if(g.length){e=a.substring(0,g[0]);var h=a.substring(g[0]);f=h.indexOf(\x22i\x22)!=-1}else e=a;if(!e)return null;v(\x22pcre\x22)||(e=Ea(e)),c&&(b=/^[^A-Z]*$/.test(e));var i=new RegExp(e,b||f?\x22i\x22:void 0);return i}function Ia(a,b){a.openNotification?a.openNotification(\x27\x3cspan style=\x22color: red\x22\x3e\x27+b+\x22\x3c/span\x3e\x22,{bottom:!0,duration:5e3}):alert(b)}function Ja(a,b){var c=\x27\x3cspan style=\x22font-family: monospace; white-space: pre\x22\x3e\x27+(a||\x22\x22)+\x27\x3cinput type=\x22text\x22\x3e\x3c/span\x3e\x27;return b&&(c+=\x27 \x3cspan style=\x22color: #888\x22\x3e\x27+b+\x22\x3c/span\x3e\x22),c}function Ka(a,b){var c=(b.prefix||\x22\x22)+\x22 \x22+(b.desc||\x22\x22),d=Ja(b.prefix,b.desc);Ba(a,d,c,b.onClose,b)}function La(a,b){if(a instanceof RegExp&&b instanceof RegExp){for(var c=[\x22global\x22,\x22multiline\x22,\x22ignoreCase\x22,\x22source\x22],d=0;d\x3cc.length;d++){var e=c[d];if(a[e]!==b[e])return!1}return!0}return!1}function Ma(a,b,c,d){if(b){var e=Aa(a),f=Ha(b,!!c,!!d);if(f)return Oa(a,f),La(f,e.getQuery())?f:(e.setQuery(f),f)}}function Na(a){if(\x22^\x22==a.source.charAt(0))var b=!0;return{token:function(c){if(b&&!c.sol())return void c.skipToEnd();var d=c.match(a,!1);if(d)return 0==d[0].length?(c.next(),\x22searching\x22):c.sol()||(c.backUp(1),a.exec(c.next()+d[0]))?(c.match(a),\x22searching\x22):(c.next(),null);for(;!c.eol()&&(c.next(),!c.match(a,!1)););},query:a}}function Oa(a,b){var c=Aa(a),d=c.getOverlay();d&&b==d.query||(d&&a.removeOverlay(d),d=Na(b),a.addOverlay(d),a.showMatchesOnScrollbar&&(c.getScrollbarAnnotate()&&c.getScrollbarAnnotate().clear(),c.setScrollbarAnnotate(a.showMatchesOnScrollbar(b))),c.setOverlay(d))}function Pa(a,b,c,e){return void 0===e&&(e=1),a.operation(function(){for(var f=a.getCursor(),g=a.getSearchCursor(c,f),h=0;h\x3ce;h++){var i=g.find(b);if(0==h&&i&&S(g.from(),f)&&(i=g.find(b)),!i&&(g=a.getSearchCursor(c,b?d(a.lastLine()):d(a.firstLine(),0)),!g.find(b)))return}return g.from()})}function Qa(a){var b=Aa(a);a.removeOverlay(Aa(a).getOverlay()),b.setOverlay(null),b.getScrollbarAnnotate()&&(b.getScrollbarAnnotate().clear(),b.setScrollbarAnnotate(null))}function Ra(a,b,c){return\x22number\x22!=typeof a&&(a=a.line),b instanceof Array?s(a,b):c?a\x3e=b&&a\x3c=c:a==b}function Sa(a){var b=a.getScrollInfo(),c=6,d=10,e=a.coordsChar({left:0,top:c+b.top},\x22local\x22),f=b.clientHeight-d+b.top,g=a.coordsChar({left:0,top:f},\x22local\x22);return{top:e.line,bottom:g.line}}function Ta(a,b,c){if(\x22\x27\x22==c){var d=a.doc.history.done,e=d[d.length-2];return e&&e.ranges&&e.ranges[0].head}var f=b.marks[c];return f&&f.find()}function Ua(b,c,d,e,f,g,h,i,j){function k(){b.operation(function(){for(;!p;)l(),m();n()})}function l(){var a=b.getRange(g.from(),g.to()),c=a.replace(h,i);g.replace(c)}function m(){for(;g.findNext()&&Ra(g.from(),e,f);)if(d||!q||g.from().line!=q.line)return b.scrollIntoView(g.from(),30),b.setSelection(g.from(),g.to()),q=g.from(),void(p=!1);p=!0}function n(a){if(a&&a(),b.focus(),q){b.setCursor(q);var c=b.state.vim;c.exMode=!1,c.lastHPos=c.lastHSPos=q.ch}j&&j()}function o(c,d,e){a.e_stop(c);var f=a.keyName(c);switch(f){case\x22Y\x22:l(),m();break;case\x22N\x22:m();break;case\x22A\x22:var g=j;j=void 0,b.operation(k),j=g;break;case\x22L\x22:l();case\x22Q\x22:case\x22Esc\x22:case\x22Ctrl-C\x22:case\x22Ctrl-[\x22:n(e)}return p&&n(e),!0}b.state.vim.exMode=!0;var p=!1,q=g.from();return m(),p?void Ia(b,\x22No matches for \x22+h.source):c?void Ka(b,{prefix:\x22replace with \x3cstrong\x3e\x22+i+\x22\x3c/strong\x3e (y/n/a/q/l)\x22,onKeyDown:o}):(k(),void(j&&j()))}function Va(b){var c=b.state.vim,d=vb.macroModeState,e=vb.registerController.getRegister(\x22.\x22),f=d.isPlaying,g=d.lastInsertModeChanges,h=[];if(!f){for(var i=g.inVisualBlock?c.lastSelection.visualBlock.height:1,j=g.changes,h=[],k=0;k\x3cj.length;)h.push(j[k]),j[k]instanceof eb?k++:k+=i;g.changes=h,b.off(\x22change\x22,ab),a.off(b.getInputField(),\x22keydown\x22,fb)}!f&&c.insertModeRepeat\x3e1&&(gb(b,c,c.insertModeRepeat-1,!0),c.lastEditInputState.repeatOverride=c.insertModeRepeat),delete c.insertModeRepeat,c.insertMode=!1,b.setCursor(b.getCursor().line,b.getCursor().ch-1),b.setOption(\x22keyMap\x22,\x22vim\x22),b.setOption(\x22disableInput\x22,!0),b.toggleOverwrite(!1),e.setText(g.changes.join(\x22\x22)),a.signal(b,\x22vim-mode-change\x22,{mode:\x22normal\x22}),d.isRecording&&$a(d)}function Wa(a){b.unshift(a)}function Xa(a,b,c,d,e){var f={keys:a,type:b};f[b]=c,f[b+\x22Args\x22]=d;for(var g in e)f[g]=e[g];Wa(f)}function Ya(b,c,d,e){var f=vb.registerController.getRegister(e);if(\x22:\x22==e)return f.keyBuffer[0]&&Jb.processCommand(b,f.keyBuffer[0]),void(d.isPlaying=!1);var g=f.keyBuffer,h=0;d.isPlaying=!0,d.replaySearchQueries=f.searchQueries.slice(0);for(var i=0;i\x3cg.length;i++)for(var j,k,l=g[i];l;)if(j=/\x3c\x5cw+-.+?\x3e|\x3c\x5cw+\x3e|./.exec(l),k=j[0],l=l.substring(j.index+k.length),a.Vim.handleKey(b,k,\x22macro\x22),c.insertMode){var m=f.insertModeChanges[h++].changes;vb.macroModeState.lastInsertModeChanges.changes=m,hb(b,m,1),Va(b)}d.isPlaying=!1}function Za(a,b){if(!a.isPlaying){var c=a.latestRegister,d=vb.registerController.getRegister(c);d&&d.pushText(b)}}function $a(a){if(!a.isPlaying){var b=a.latestRegister,c=vb.registerController.getRegister(b);c&&c.pushInsertModeChanges&&c.pushInsertModeChanges(a.lastInsertModeChanges)}}function _a(a,b){if(!a.isPlaying){var c=a.latestRegister,d=vb.registerController.getRegister(c);d&&d.pushSearchQuery&&d.pushSearchQuery(b)}}function ab(a,b){var c=vb.macroModeState,d=c.lastInsertModeChanges;if(!c.isPlaying)for(;b;){if(d.expectCursorActivityForChange=!0,\x22+input\x22==b.origin||\x22paste\x22==b.origin||void 0===b.origin){var e=b.text.join(\x22\x5cn\x22);d.maybeReset&&(d.changes=[],d.maybeReset=!1),a.state.overwrite&&!/\x5cn/.test(e)?d.changes.push([e]):d.changes.push(e)}b=b.next}}function bb(a){var b=a.state.vim;if(b.insertMode){var c=vb.macroModeState;if(c.isPlaying)return;var d=c.lastInsertModeChanges;d.expectCursorActivityForChange?d.expectCursorActivityForChange=!1:d.maybeReset=!0}else a.curOp.isVimOp||db(a,b);b.visualMode&&cb(a)}function cb(a){var b=a.state.vim,c=J(a,R(b.sel.head)),d=L(c,0,1);b.fakeCursor&&b.fakeCursor.clear(),b.fakeCursor=a.markText(c,d,{className:\x22cm-animate-fat-cursor\x22})}function db(b,c){var d=b.getCursor(\x22anchor\x22),e=b.getCursor(\x22head\x22);if(c.visualMode&&!b.somethingSelected()?ia(b,!1):c.visualMode||c.insertMode||!b.somethingSelected()||(c.visualMode=!0,c.visualLine=!1,a.signal(b,\x22vim-mode-change\x22,{mode:\x22visual\x22})),c.visualMode){var f=T(e,d)?0:-1,g=T(e,d)?-1:0;e=L(e,0,f),d=L(d,0,g),c.sel={anchor:d,head:e},ua(b,c,\x22\x3c\x22,U(e,d)),ua(b,c,\x22\x3e\x22,V(e,d))}else c.insertMode||(c.lastHPos=b.getCursor().ch)}function eb(a){this.keyName=a}function fb(b){function c(){return e.maybeReset&&(e.changes=[],e.maybeReset=!1),e.changes.push(new eb(f)),!0}var d=vb.macroModeState,e=d.lastInsertModeChanges,f=a.keyName(b);f&&(f.indexOf(\x22Delete\x22)==-1&&f.indexOf(\x22Backspace\x22)==-1||a.lookupKey(f,\x22vim-insert\x22,c))}function gb(a,b,c,d){function e(){h?yb.processAction(a,b,b.lastEditActionCommand):yb.evalInput(a,b)}function f(c){if(g.lastInsertModeChanges.changes.length\x3e0){c=b.lastEditActionCommand?c:1;var d=g.lastInsertModeChanges;hb(a,d.changes,c)}}var g=vb.macroModeState;g.isPlaying=!0;var h=!!b.lastEditActionCommand,i=b.inputState;if(b.inputState=b.lastEditInputState,h&&b.lastEditActionCommand.interlaceInsertRepeat)for(var j=0;j\x3cc;j++)e(),f(1);else d||e(),f(c);b.inputState=i,b.insertMode&&!d&&Va(a),g.isPlaying=!1}function hb(b,c,d){function e(c){return\x22string\x22==typeof c?a.commands[c](b):c(b),!0}var f=b.getCursor(\x22head\x22),g=vb.macroModeState.lastInsertModeChanges.inVisualBlock;if(g){var h=b.state.vim,i=h.lastSelection,j=M(i.anchor,i.head);aa(b,f,j.line+1),d=b.listSelections().length,b.setCursor(f)}for(var k=0;k\x3cd;k++){g&&b.setCursor(L(f,k,0));for(var l=0;l\x3cc.length;l++){var m=c[l];if(m instanceof eb)a.lookupKey(m.keyName,\x22vim-insert\x22,e);else if(\x22string\x22==typeof m){var n=b.getCursor();b.replaceRange(m,n,n)}else{var o=b.getCursor(),p=L(o,0,m[0].length);b.replaceRange(m[0],o,p)}}}g&&b.setCursor(L(f,0,1))}a.defineOption(\x22vimMode\x22,!1,function(b,c,d){c&&\x22vim\x22!=b.getOption(\x22keyMap\x22)?b.setOption(\x22keyMap\x22,\x22vim\x22):!c&&d!=a.Init&&/^vim/.test(b.getOption(\x22keyMap\x22))&&b.setOption(\x22keyMap\x22,\x22default\x22)});var ib={Shift:\x22S\x22,Ctrl:\x22C\x22,Alt:\x22A\x22,Cmd:\x22D\x22,Mod:\x22A\x22},jb={Enter:\x22CR\x22,Backspace:\x22BS\x22,Delete:\x22Del\x22,Insert:\x22Ins\x22},kb=/[\x5cd]/,lb=[a.isWordChar,function(b){return b&&!a.isWordChar(b)&&!/\x5cs/.test(b)}],mb=[function(a){return/\x5cS/.test(a)}],nb=l(65,26),ob=l(97,26),pb=l(48,10),qb=[].concat(nb,ob,pb,[\x22\x3c\x22,\x22\x3e\x22]),rb=[].concat(nb,ob,pb,[\x22-\x22,\x27\x22\x27,\x22.\x22,\x22:\x22,\x22/\x22]),sb={};t(\x22filetype\x22,void 0,\x22string\x22,[\x22ft\x22],function(a,b){if(void 0!==b){if(void 0===a){var c=b.getOption(\x22mode\x22);return\x22null\x22==c?\x22\x22:c}var c=\x22\x22==a?\x22null\x22:a;b.setOption(\x22mode\x22,c)}});var tb=function(){function a(a,b,h){function i(b){var e=++d%c,f=g[e];f&&f.clear(),g[e]=a.setBookmark(b)}var j=d%c,k=g[j];if(k){var l=k.find();l&&!S(l,b)&&i(b)}else i(b);i(h),e=d,f=d-c+1,f\x3c0&&(f=0)}function b(a,b){d+=b,d\x3ee?d=e:d\x3cf&&(d=f);var h=g[(c+d)%c];if(h&&!h.find()){var i,j=b\x3e0?1:-1,k=a.getCursor();do if(d+=j,h=g[(c+d)%c],h&&(i=h.find())&&!S(k,i))break;while(d\x3ce&&d\x3ef)}return h}var c=100,d=-1,e=0,f=0,g=new Array(c);return{cachedCursor:void 0,add:a,move:b}},ub=function(a){return a?{changes:a.changes,expectCursorActivityForChange:a.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};w.prototype={exitMacroRecordMode:function(){var a=vb.macroModeState;a.onRecordingDone&&a.onRecordingDone(),a.onRecordingDone=void 0,a.isRecording=!1},enterMacroRecordMode:function(a,b){var c=vb.registerController.getRegister(b);c&&(c.clear(),this.latestRegister=b,a.openDialog&&(this.onRecordingDone=a.openDialog(\x22(recording)[\x22+b+\x22]\x22,null,{bottom:!0})),this.isRecording=!0)}};var vb,wb,xb={buildKeyMap:function(){},getRegisterController:function(){return vb.registerController},resetVimGlobalState_:y,getVimGlobalState_:function(){return vb},maybeInitVimState_:x,suppressErrorLogging:!1,InsertModeKey:eb,map:function(a,b,c){Jb.map(a,b,c)},unmap:function(a,b){Jb.unmap(a,b)},setOption:u,getOption:v,defineOption:t,defineEx:function(a,b,c){if(b){if(0!==a.indexOf(b))throw new Error(\x27(Vim.defineEx) \x22\x27+b+\x27\x22 is not a prefix of \x22\x27+a+\x27\x22, command not registered\x27)}else b=a;Ib[a]=c,Jb.commandMap_[b]={name:a,shortName:b,type:\x22api\x22}},handleKey:function(a,b,c){var d=this.findKey(a,b,c);if(\x22function\x22==typeof d)return d()},findKey:function(c,d,e){function f(){var a=vb.macroModeState;if(a.isRecording){if(\x22q\x22==d)return a.exitMacroRecordMode(),A(c),!0;\x22mapping\x22!=e&&Za(a,d)}}function g(){if(\x22\x3cEsc\x3e\x22==d)return A(c),l.visualMode?ia(c):l.insertMode&&Va(c),!0}function h(b){for(var e;b;)e=/\x3c\x5cw+-.+?\x3e|\x3c\x5cw+\x3e|./.exec(b),d=e[0],b=b.substring(e.index+d.length),a.Vim.handleKey(c,d,\x22mapping\x22)}function i(){if(g())return!0;for(var a=l.inputState.keyBuffer=l.inputState.keyBuffer+d,e=1==d.length,f=yb.matchCommand(a,b,l.inputState,\x22insert\x22);a.length\x3e1&&\x22full\x22!=f.type;){var a=l.inputState.keyBuffer=a.slice(1),h=yb.matchCommand(a,b,l.inputState,\x22insert\x22);\x22none\x22!=h.type&&(f=h)}if(\x22none\x22==f.type)return A(c),!1;if(\x22partial\x22==f.type)return wb&&window.clearTimeout(wb),wb=window.setTimeout(function(){l.insertMode&&l.inputState.keyBuffer&&A(c)},v(\x22insertModeEscKeysTimeout\x22)),!e;if(wb&&window.clearTimeout(wb),e){for(var i=c.listSelections(),j=0;j\x3ci.length;j++){var k=i[j].head;c.replaceRange(\x22\x22,L(k,0,-(a.length-1)),k,\x22+input\x22)}vb.macroModeState.lastInsertModeChanges.changes.pop()}return A(c),f.command}function j(){if(f()||g())return!0;var a=l.inputState.keyBuffer=l.inputState.keyBuffer+d;if(/^[1-9]\x5cd*$/.test(a))return!0;var e=/^(\x5cd*)(.*)$/.exec(a);if(!e)return A(c),!1;var h=l.visualMode?\x22visual\x22:\x22normal\x22,i=yb.matchCommand(e[2]||e[1],b,l.inputState,h);if(\x22none\x22==i.type)return A(c),!1;if(\x22partial\x22==i.type)return!0;l.inputState.keyBuffer=\x22\x22;var e=/^(\x5cd*)(.*)$/.exec(a);return e[1]&&\x220\x22!=e[1]&&l.inputState.pushRepeatDigit(e[1]),i.command}var k,l=x(c);return k=l.insertMode?i():j(),k===!1?void 0:k===!0?function(){return!0}:function(){return c.operation(function(){c.curOp.isVimOp=!0;try{\x22keyToKey\x22==k.type?h(k.toKeys):yb.processCommand(c,l,k)}catch(b){throw c.state.vim=void 0,x(c),a.Vim.suppressErrorLogging||console.log(b),b}return!0})}},handleEx:function(a,b){Jb.processCommand(a,b)},defineMotion:F,defineAction:I,defineOperator:H,mapCommand:Xa,_mapCommand:Wa,defineRegister:C,exitVisualMode:ia,exitInsertMode:Va};z.prototype.pushRepeatDigit=function(a){this.operator?this.motionRepeat=this.motionRepeat.concat(a):this.prefixRepeat=this.prefixRepeat.concat(a)},z.prototype.getRepeat=function(){var a=0;return(this.prefixRepeat.length\x3e0||this.motionRepeat.length\x3e0)&&(a=1,this.prefixRepeat.length\x3e0&&(a*=parseInt(this.prefixRepeat.join(\x22\x22),10)),this.motionRepeat.length\x3e0&&(a*=parseInt(this.motionRepeat.join(\x22\x22),10))),a},B.prototype={setText:function(a,b,c){this.keyBuffer=[a||\x22\x22],this.linewise=!!b,this.blockwise=!!c},pushText:function(a,b){b&&(this.linewise||this.keyBuffer.push(\x22\x5cn\x22),this.linewise=!0),this.keyBuffer.push(a)},pushInsertModeChanges:function(a){this.insertModeChanges.push(ub(a))},pushSearchQuery:function(a){this.searchQueries.push(a)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join(\x22\x22)}},D.prototype={pushText:function(a,b,c,d,e){d&&\x22\x5cn\x22!==c.charAt(c.length-1)&&(c+=\x22\x5cn\x22);var f=this.isValidRegister(a)?this.getRegister(a):null;if(!f){switch(b){case\x22yank\x22:this.registers[0]=new B(c,d,e);break;case\x22delete\x22:case\x22change\x22:c.indexOf(\x22\x5cn\x22)==-1?this.registers[\x22-\x22]=new B(c,d):(this.shiftNumericRegisters_(),this.registers[1]=new B(c,d))}return void this.unnamedRegister.setText(c,d,e)}var g=q(a);g?f.pushText(c,d):f.setText(c,d,e),this.unnamedRegister.setText(f.toString(),d)},getRegister:function(a){return this.isValidRegister(a)?(a=a.toLowerCase(),this.registers[a]||(this.registers[a]=new B),this.registers[a]):this.unnamedRegister},isValidRegister:function(a){return a&&s(a,rb)},shiftNumericRegisters_:function(){for(var a=9;a\x3e=2;a--)this.registers[a]=this.getRegister(\x22\x22+(a-1))}},E.prototype={nextMatch:function(a,b){var c=this.historyBuffer,d=b?-1:1;null===this.initialPrefix&&(this.initialPrefix=a);for(var e=this.iterator+d;b?e\x3e=0:e\x3cc.length;e+=d)for(var f=c[e],g=0;g\x3c=f.length;g++)if(this.initialPrefix==f.substring(0,g))return this.iterator=e,f;return e\x3e=c.length?(this.iterator=c.length,this.initialPrefix):e\x3c0?a:void 0},pushInput:function(a){var b=this.historyBuffer.indexOf(a);b\x3e-1&&this.historyBuffer.splice(b,1),a.length&&this.historyBuffer.push(a)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var yb={matchCommand:function(a,b,c,d){var e=N(a,b,d,c);if(!e.full&&!e.partial)return{type:\x22none\x22};if(!e.full&&e.partial)return{type:\x22partial\x22};for(var f,g=0;g\x3ce.full.length;g++){var h=e.full[g];f||(f=h)}if(\x22\x3ccharacter\x3e\x22==f.keys.slice(-11)){var i=P(a);if(!i)return{type:\x22none\x22};c.selectedCharacter=i}return{type:\x22full\x22,command:f}},processCommand:function(a,b,c){switch(b.inputState.repeatOverride=c.repeatOverride,c.type){case\x22motion\x22:this.processMotion(a,b,c);break;case\x22operator\x22:this.processOperator(a,b,c);break;case\x22operatorMotion\x22:this.processOperatorMotion(a,b,c);break;case\x22action\x22:this.processAction(a,b,c);break;case\x22search\x22:this.processSearch(a,b,c);break;case\x22ex\x22:case\x22keyToEx\x22:this.processEx(a,b,c)}},processMotion:function(a,b,c){b.inputState.motion=c.motion,b.inputState.motionArgs=K(c.motionArgs),this.evalInput(a,b)},processOperator:function(a,b,c){var d=b.inputState;if(d.operator){if(d.operator==c.operator)return d.motion=\x22expandToLine\x22,d.motionArgs={linewise:!0},void this.evalInput(a,b);A(a)}d.operator=c.operator,d.operatorArgs=K(c.operatorArgs),b.visualMode&&this.evalInput(a,b)},processOperatorMotion:function(a,b,c){var d=b.visualMode,e=K(c.operatorMotionArgs);e&&d&&e.visualLine&&(b.visualLine=!0),this.processOperator(a,b,c),d||this.processMotion(a,b,c)},processAction:function(a,b,c){var d=b.inputState,e=d.getRepeat(),f=!!e,g=K(c.actionArgs)||{};d.selectedCharacter&&(g.selectedCharacter=d.selectedCharacter),c.operator&&this.processOperator(a,b,c),c.motion&&this.processMotion(a,b,c),(c.motion||c.operator)&&this.evalInput(a,b),g.repeat=e||1,g.repeatIsExplicit=f,g.registerName=d.registerName,A(a),b.lastMotion=null,c.isEdit&&this.recordLastEdit(b,d,c),Bb[c.action](a,g,b)},processSearch:function(b,c,d){function e(a,e,f){vb.searchHistoryController.pushInput(a),vb.searchHistoryController.reset();try{Ma(b,a,e,f)}catch(g){return Ia(b,\x22Invalid regex: \x22+a),void A(b)}yb.processMotion(b,c,{type:\x22motion\x22,motion:\x22findNext\x22,motionArgs:{forward:!0,toJumplist:d.searchArgs.toJumplist}})}function f(a){b.scrollTo(m.left,m.top),e(a,!0,!0);var c=vb.macroModeState;c.isRecording&&_a(c,a)}function g(c,d,e){var f,g,h=a.keyName(c);\x22Up\x22==h||\x22Down\x22==h?(f=\x22Up\x22==h,g=c.target?c.target.selectionEnd:0,d=vb.searchHistoryController.nextMatch(d,f)||\x22\x22,e(d),g&&c.target&&(c.target.selectionEnd=c.target.selectionStart=Math.min(g,c.target.value.length))):\x22Left\x22!=h&&\x22Right\x22!=h&&\x22Ctrl\x22!=h&&\x22Alt\x22!=h&&\x22Shift\x22!=h&&vb.searchHistoryController.reset();var j;try{j=Ma(b,d,!0,!0)}catch(c){}j?b.scrollIntoView(Pa(b,!i,j),30):(Qa(b),b.scrollTo(m.left,m.top))}function h(c,d,e){var f=a.keyName(c);\x22Esc\x22==f||\x22Ctrl-C\x22==f||\x22Ctrl-[\x22==f||\x22Backspace\x22==f&&\x22\x22==d?(vb.searchHistoryController.pushInput(d),vb.searchHistoryController.reset(),Ma(b,l),Qa(b),b.scrollTo(m.left,m.top),a.e_stop(c),A(b),e(),b.focus()):\x22Up\x22==f||\x22Down\x22==f?a.e_stop(c):\x22Ctrl-U\x22==f&&(a.e_stop(c),e(\x22\x22))}if(b.getSearchCursor){var i=d.searchArgs.forward,j=d.searchArgs.wholeWordOnly;Aa(b).setReversed(!i);var k=i?\x22/\x22:\x22?\x22,l=Aa(b).getQuery(),m=b.getScrollInfo();switch(d.searchArgs.querySrc){case\x22prompt\x22:var n=vb.macroModeState;if(n.isPlaying){var o=n.replaySearchQueries.shift();e(o,!0,!1)}else Ka(b,{onClose:f,prefix:k,desc:Gb,onKeyUp:g,onKeyDown:h});break;case\x22wordUnderCursor\x22:var p=ma(b,!1,!0,!1,!0),q=!0;if(p||(p=ma(b,!1,!0,!1,!1),q=!1),!p)return;var o=b.getLine(p.start.line).substring(p.start.ch,p.end.ch);o=q&&j?\x22\x5c\x5cb\x22+o+\x22\x5c\x5cb\x22:Z(o),vb.jumpList.cachedCursor=b.getCursor(),b.setCursor(p.start),e(o,!0,!1)}}},processEx:function(b,c,d){function e(a){vb.exCommandHistoryController.pushInput(a),vb.exCommandHistoryController.reset(),Jb.processCommand(b,a)}function f(c,d,e){var f,g,h=a.keyName(c);(\x22Esc\x22==h||\x22Ctrl-C\x22==h||\x22Ctrl-[\x22==h||\x22Backspace\x22==h&&\x22\x22==d)&&(vb.exCommandHistoryController.pushInput(d),vb.exCommandHistoryController.reset(),a.e_stop(c),A(b),e(),b.focus()),\x22Up\x22==h||\x22Down\x22==h?(a.e_stop(c),f=\x22Up\x22==h,g=c.target?c.target.selectionEnd:0,d=vb.exCommandHistoryController.nextMatch(d,f)||\x22\x22,e(d),g&&c.target&&(c.target.selectionEnd=c.target.selectionStart=Math.min(g,c.target.value.length))):\x22Ctrl-U\x22==h?(a.e_stop(c),e(\x22\x22)):\x22Left\x22!=h&&\x22Right\x22!=h&&\x22Ctrl\x22!=h&&\x22Alt\x22!=h&&\x22Shift\x22!=h&&vb.exCommandHistoryController.reset()}\x22keyToEx\x22==d.type?Jb.processCommand(b,d.exArgs.input):c.visualMode?Ka(b,{onClose:e,prefix:\x22:\x22,value:\x22\x27\x3c,\x27\x3e\x22,onKeyDown:f}):Ka(b,{onClose:e,prefix:\x22:\x22,onKeyDown:f})},evalInput:function(a,b){var c,e,f,g=b.inputState,h=g.motion,i=g.motionArgs||{},j=g.operator,k=g.operatorArgs||{},l=g.registerName,m=b.sel,n=R(b.visualMode?J(a,m.head):a.getCursor(\x22head\x22)),o=R(b.visualMode?J(a,m.anchor):a.getCursor(\x22anchor\x22)),p=R(n),q=R(o);if(j&&this.recordLastEdit(b,g),f=void 0!==g.repeatOverride?g.repeatOverride:g.getRepeat(),f\x3e0&&i.explicitRepeat?i.repeatIsExplicit=!0:(i.noRepeat||!i.explicitRepeat&&0===f)&&(f=1,i.repeatIsExplicit=!1),g.selectedCharacter&&(i.selectedCharacter=k.selectedCharacter=g.selectedCharacter),i.repeat=f,A(a),h){var r=zb[h](a,n,i,b);if(b.lastMotion=zb[h],!r)return;if(i.toJumplist){var s=vb.jumpList,t=s.cachedCursor;t?(na(a,t,r),delete s.cachedCursor):na(a,n,r)}r instanceof Array?(e=r[0],c=r[1]):c=r,c||(c=R(n)),b.visualMode?(b.visualBlock&&c.ch===1/0||(c=J(a,c,b.visualBlock)),e&&(e=J(a,e,!0)),e=e||q,m.anchor=e,m.head=c,fa(a),ua(a,b,\x22\x3c\x22,T(e,c)?e:c),ua(a,b,\x22\x3e\x22,T(e,c)?c:e)):j||(c=J(a,c),a.setCursor(c.line,c.ch))}if(j){if(k.lastSel){e=q;var u=k.lastSel,v=Math.abs(u.head.line-u.anchor.line),w=Math.abs(u.head.ch-u.anchor.ch);c=u.visualLine?d(q.line+v,q.ch):u.visualBlock?d(q.line+v,q.ch+w):u.head.line==u.anchor.line?d(q.line,q.ch+w):d(q.line+v,q.ch),b.visualMode=!0,b.visualLine=u.visualLine,b.visualBlock=u.visualBlock,m=b.sel={anchor:e,head:c},fa(a)}else b.visualMode&&(k.lastSel={anchor:R(m.anchor),head:R(m.head),visualBlock:b.visualBlock,visualLine:b.visualLine});var x,y,z,B,C;if(b.visualMode){if(x=U(m.head,m.anchor),y=V(m.head,m.anchor),z=b.visualLine||k.linewise,B=b.visualBlock?\x22block\x22:z?\x22line\x22:\x22char\x22,C=ga(a,{anchor:x,head:y},B),z){var D=C.ranges;if(\x22block\x22==B)for(var E=0;E\x3cD.length;E++)D[E].head.ch=X(a,D[E].head.line);else\x22line\x22==B&&(D[0].head=d(D[0].head.line+1,0))}}else{if(x=R(e||q),y=R(c||p),T(y,x)){var F=x;x=y,y=F}z=i.linewise||k.linewise,z?ka(a,x,y):i.forward&&ja(a,x,y),B=\x22char\x22;var G=!i.inclusive||z;C=ga(a,{anchor:x,head:y},B,G)}a.setSelections(C.ranges,C.primary),b.lastMotion=null,k.repeat=f,k.registerName=l,k.linewise=z;var H=Ab[j](a,k,C.ranges,q,c);b.visualMode&&ia(a,null!=H),H&&a.setCursor(H)}},recordLastEdit:function(a,b,c){var d=vb.macroModeState;d.isPlaying||(a.lastEditInputState=b,a.lastEditActionCommand=c,d.lastInsertModeChanges.changes=[],d.lastInsertModeChanges.expectCursorActivityForChange=!1)}},zb={moveToTopLine:function(a,b,c){var e=Sa(a).top+c.repeat-1;return d(e,la(a.getLine(e)))},moveToMiddleLine:function(a){var b=Sa(a),c=Math.floor(.5*(b.top+b.bottom));return d(c,la(a.getLine(c)))},moveToBottomLine:function(a,b,c){var e=Sa(a).bottom-c.repeat+1;return d(e,la(a.getLine(e)))},expandToLine:function(a,b,c){var e=b;return d(e.line+c.repeat-1,1/0)},findNext:function(a,b,c){var d=Aa(a),e=d.getQuery();if(e){var f=!c.forward;return f=d.isReversed()?!f:f,Oa(a,e),Pa(a,f,e,c.repeat)}},goToMark:function(a,b,c,d){var e=Ta(a,d,c.selectedCharacter);return e?c.linewise?{line:e.line,ch:la(a.getLine(e.line))}:e:null},moveToOtherHighlightedEnd:function(a,b,c,e){if(e.visualBlock&&c.sameLine){var f=e.sel;return[J(a,d(f.anchor.line,f.head.ch)),J(a,d(f.head.line,f.anchor.ch))]}return[e.sel.head,e.sel.anchor]},jumpToMark:function(a,b,c,e){for(var f=b,g=0;g\x3cc.repeat;g++){var h=f;for(var i in e.marks)if(n(i)){var j=e.marks[i].find(),k=c.forward?T(j,h):T(h,j);if(!(k||c.linewise&&j.line==h.line)){var l=S(h,f),m=c.forward?W(h,j,f):W(f,j,h);(l||m)&&(f=j)}}}return c.linewise&&(f=d(f.line,la(a.getLine(f.line)))),f},moveByCharacters:function(a,b,c){var e=b,f=c.repeat,g=c.forward?e.ch+f:e.ch-f;return d(e.line,g)},moveByLines:function(a,b,c,e){var f=b,g=f.ch;switch(e.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:g=e.lastHPos;break;default:e.lastHPos=g}var h=c.repeat+(c.repeatOffset||0),i=c.forward?f.line+h:f.line-h,j=a.firstLine(),k=a.lastLine();return i\x3cj&&f.line==j?this.moveToStartOfLine(a,b,c,e):i\x3ek&&f.line==k?this.moveToEol(a,b,c,e):(c.toFirstChar&&(g=la(a.getLine(i)),e.lastHPos=g),e.lastHSPos=a.charCoords(d(i,g),\x22div\x22).left,d(i,g))},moveByDisplayLines:function(a,b,c,e){var f=b;switch(e.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:e.lastHSPos=a.charCoords(f,\x22div\x22).left}var g=c.repeat,h=a.findPosV(f,c.forward?g:-g,\x22line\x22,e.lastHSPos);if(h.hitSide)if(c.forward)var i=a.charCoords(h,\x22div\x22),j={top:i.top+8,left:e.lastHSPos},h=a.coordsChar(j,\x22div\x22);else{var k=a.charCoords(d(a.firstLine(),0),\x22div\x22);k.left=e.lastHSPos,h=a.coordsChar(k,\x22div\x22)}return e.lastHPos=h.ch,h},moveByPage:function(a,b,c){var d=b,e=c.repeat;return a.findPosV(d,c.forward?e:-e,\x22page\x22)},moveByParagraph:function(a,b,c){var d=c.forward?1:-1;return wa(a,b,c.repeat,d)},moveByScroll:function(a,b,c,d){var e=a.getScrollInfo(),f=null,g=c.repeat;g||(g=e.clientHeight/(2*a.defaultTextHeight()));var h=a.charCoords(b,\x22local\x22);c.repeat=g;var f=zb.moveByDisplayLines(a,b,c,d);if(!f)return null;var i=a.charCoords(f,\x22local\x22);return a.scrollTo(null,e.top+i.top-h.top),f},moveByWords:function(a,b,c){return ra(a,b,c.repeat,!!c.forward,!!c.wordEnd,!!c.bigWord)},moveTillCharacter:function(a,b,c){var d=c.repeat,e=sa(a,d,c.forward,c.selectedCharacter),f=c.forward?-1:1;return oa(f,c),e?(e.ch+=f,e):null},moveToCharacter:function(a,b,c){var d=c.repeat;return oa(0,c),sa(a,d,c.forward,c.selectedCharacter)||b},moveToSymbol:function(a,b,c){var d=c.repeat;return pa(a,d,c.forward,c.selectedCharacter)||b},moveToColumn:function(a,b,c,d){var e=c.repeat;return d.lastHPos=e-1,d.lastHSPos=a.charCoords(b,\x22div\x22).left,ta(a,e)},moveToEol:function(a,b,c,e){var f=b;e.lastHPos=1/0;var g=d(f.line+c.repeat-1,1/0),h=a.clipPos(g);return h.ch--,e.lastHSPos=a.charCoords(h,\x22div\x22).left,g},moveToFirstNonWhiteSpaceCharacter:function(a,b){var c=b;return d(c.line,la(a.getLine(c.line)))},moveToMatchedSymbol:function(a,b){for(var c,e=b,f=e.line,g=e.ch,h=a.getLine(f);g\x3ch.length;g++)if(c=h.charAt(g),c&&o(c)){var i=a.getTokenTypeAt(d(f,g+1));if(\x22string\x22!==i&&\x22comment\x22!==i)break}if(g\x3ch.length){var j=a.findMatchingBracket(d(f,g));return j.to}return e},moveToStartOfLine:function(a,b){return d(b.line,0)},moveToLineOrEdgeOfDocument:function(a,b,c){var e=c.forward?a.lastLine():a.firstLine();\x0areturn c.repeatIsExplicit&&(e=c.repeat-a.getOption(\x22firstLineNumber\x22)),d(e,la(a.getLine(e)))},textObjectManipulation:function(a,b,c,d){var e={\x22(\x22:\x22)\x22,\x22)\x22:\x22(\x22,\x22{\x22:\x22}\x22,\x22}\x22:\x22{\x22,\x22[\x22:\x22]\x22,\x22]\x22:\x22[\x22},f={\x22\x27\x22:!0,\x27\x22\x27:!0},g=c.selectedCharacter;\x22b\x22==g?g=\x22(\x22:\x22B\x22==g&&(g=\x22{\x22);var h,i=!c.textObjectInner;if(e[g])h=xa(a,b,g,i);else if(f[g])h=ya(a,b,g,i);else if(\x22W\x22===g)h=ma(a,i,!0,!0);else if(\x22w\x22===g)h=ma(a,i,!0,!1);else{if(\x22p\x22!==g)return null;if(h=wa(a,b,c.repeat,0,i),c.linewise=!0,d.visualMode)d.visualLine||(d.visualLine=!0);else{var j=d.inputState.operatorArgs;j&&(j.linewise=!0),h.end.line--}}return a.state.vim.visualMode?ea(a,h.start,h.end):[h.start,h.end]},repeatLastCharacterSearch:function(a,b,c){var d=vb.lastCharacterSearch,e=c.repeat,f=c.forward===d.forward,g=(d.increment?1:0)*(f?-1:1);a.moveH(-g,\x22char\x22),c.inclusive=!!f;var h=sa(a,e,f,d.selectedCharacter);return h?(h.ch+=g,h):(a.moveH(g,\x22char\x22),b)}},Ab={change:function(b,c,e){var f,g,h=b.state.vim;if(vb.macroModeState.lastInsertModeChanges.inVisualBlock=h.visualBlock,h.visualMode){g=b.getSelection();var i=G(\x22\x22,e.length);b.replaceSelections(i),f=U(e[0].head,e[0].anchor)}else{var j=e[0].anchor,k=e[0].head;g=b.getRange(j,k);var l=h.lastEditInputState||{};if(\x22moveByWords\x22==l.motion&&!r(g)){var m=/\x5cs+$/.exec(g);m&&l.motionArgs&&l.motionArgs.forward&&(k=L(k,0,-m[0].length),g=g.slice(0,-m[0].length))}var n=new d(j.line-1,Number.MAX_VALUE),o=b.firstLine()==b.lastLine();k.line\x3eb.lastLine()&&c.linewise&&!o?b.replaceRange(\x22\x22,n,k):b.replaceRange(\x22\x22,j,k),c.linewise&&(o||(b.setCursor(n),a.commands.newlineAndIndent(b)),j.ch=Number.MAX_VALUE),f=j}vb.registerController.pushText(c.registerName,\x22change\x22,g,c.linewise,e.length\x3e1),Bb.enterInsertMode(b,{head:f},b.state.vim)},\x22delete\x22:function(a,b,c){var e,f,g=a.state.vim;if(g.visualBlock){f=a.getSelection();var h=G(\x22\x22,c.length);a.replaceSelections(h),e=c[0].anchor}else{var i=c[0].anchor,j=c[0].head;b.linewise&&j.line!=a.firstLine()&&i.line==a.lastLine()&&i.line==j.line-1&&(i.line==a.firstLine()?i.ch=0:i=d(i.line-1,X(a,i.line-1))),f=a.getRange(i,j),a.replaceRange(\x22\x22,i,j),e=i,b.linewise&&(e=zb.moveToFirstNonWhiteSpaceCharacter(a,i))}return vb.registerController.pushText(b.registerName,\x22delete\x22,f,b.linewise,g.visualBlock),J(a,e)},indent:function(a,b,c){var d=a.state.vim,e=c[0].anchor.line,f=d.visualBlock?c[c.length-1].anchor.line:c[0].head.line,g=d.visualMode?b.repeat:1;b.linewise&&f--;for(var h=e;h\x3c=f;h++)for(var i=0;i\x3cg;i++)a.indentLine(h,b.indentRight);return zb.moveToFirstNonWhiteSpaceCharacter(a,c[0].anchor)},changeCase:function(a,b,c,d,e){for(var f=a.getSelections(),g=[],h=b.toLower,i=0;i\x3cf.length;i++){var j=f[i],k=\x22\x22;if(h===!0)k=j.toLowerCase();else if(h===!1)k=j.toUpperCase();else for(var l=0;l\x3cj.length;l++){var m=j.charAt(l);k+=q(m)?m.toLowerCase():m.toUpperCase()}g.push(k)}return a.replaceSelections(g),b.shouldMoveCursor?e:!a.state.vim.visualMode&&b.linewise&&c[0].anchor.line+1==c[0].head.line?zb.moveToFirstNonWhiteSpaceCharacter(a,d):b.linewise?d:U(c[0].anchor,c[0].head)},yank:function(a,b,c,d){var e=a.state.vim,f=a.getSelection(),g=e.visualMode?U(e.sel.anchor,e.sel.head,c[0].head,c[0].anchor):d;return vb.registerController.pushText(b.registerName,\x22yank\x22,f,b.linewise,e.visualBlock),g}},Bb={jumpListWalk:function(a,b,c){if(!c.visualMode){var d=b.repeat,e=b.forward,f=vb.jumpList,g=f.move(a,e?d:-d),h=g?g.find():void 0;h=h?h:a.getCursor(),a.setCursor(h)}},scroll:function(a,b,c){if(!c.visualMode){var d=b.repeat||1,e=a.defaultTextHeight(),f=a.getScrollInfo().top,g=e*d,h=b.forward?f+g:f-g,i=R(a.getCursor()),j=a.charCoords(i,\x22local\x22);if(b.forward)h\x3ej.top?(i.line+=(h-j.top)/e,i.line=Math.ceil(i.line),a.setCursor(i),j=a.charCoords(i,\x22local\x22),a.scrollTo(null,j.top)):a.scrollTo(null,h);else{var k=h+a.getScrollInfo().clientHeight;k\x3cj.bottom?(i.line-=(j.bottom-k)/e,i.line=Math.floor(i.line),a.setCursor(i),j=a.charCoords(i,\x22local\x22),a.scrollTo(null,j.bottom-a.getScrollInfo().clientHeight)):a.scrollTo(null,h)}}},scrollToCursor:function(a,b){var c=a.getCursor().line,e=a.charCoords(d(c,0),\x22local\x22),f=a.getScrollInfo().clientHeight,g=e.top,h=e.bottom-g;switch(b.position){case\x22center\x22:g=g-f/2+h;break;case\x22bottom\x22:g=g-f+h}a.scrollTo(null,g)},replayMacro:function(a,b,c){var d=b.selectedCharacter,e=b.repeat,f=vb.macroModeState;for(\x22@\x22==d&&(d=f.latestRegister);e--;)Ya(a,c,f,d)},enterMacroRecordMode:function(a,b){var c=vb.macroModeState,d=b.selectedCharacter;vb.registerController.isValidRegister(d)&&c.enterMacroRecordMode(a,d)},toggleOverwrite:function(b){b.state.overwrite?(b.toggleOverwrite(!1),b.setOption(\x22keyMap\x22,\x22vim-insert\x22),a.signal(b,\x22vim-mode-change\x22,{mode:\x22insert\x22})):(b.toggleOverwrite(!0),b.setOption(\x22keyMap\x22,\x22vim-replace\x22),a.signal(b,\x22vim-mode-change\x22,{mode:\x22replace\x22}))},enterInsertMode:function(b,c,e){if(!b.getOption(\x22readOnly\x22)){e.insertMode=!0,e.insertModeRepeat=c&&c.repeat||1;var f=c?c.insertAt:null,g=e.sel,h=c.head||b.getCursor(\x22head\x22),i=b.listSelections().length;if(\x22eol\x22==f)h=d(h.line,X(b,h.line));else if(\x22charAfter\x22==f)h=L(h,0,1);else if(\x22firstNonBlank\x22==f)h=zb.moveToFirstNonWhiteSpaceCharacter(b,h);else if(\x22startOfSelectedArea\x22==f)e.visualBlock?(h=d(Math.min(g.head.line,g.anchor.line),Math.min(g.head.ch,g.anchor.ch)),i=Math.abs(g.head.line-g.anchor.line)+1):h=g.head.line\x3cg.anchor.line?g.head:d(g.anchor.line,0);else if(\x22endOfSelectedArea\x22==f)e.visualBlock?(h=d(Math.min(g.head.line,g.anchor.line),Math.max(g.head.ch+1,g.anchor.ch)),i=Math.abs(g.head.line-g.anchor.line)+1):h=g.head.line\x3e=g.anchor.line?L(g.head,0,1):d(g.anchor.line,0);else if(\x22inplace\x22==f&&e.visualMode)return;b.setOption(\x22disableInput\x22,!1),c&&c.replace?(b.toggleOverwrite(!0),b.setOption(\x22keyMap\x22,\x22vim-replace\x22),a.signal(b,\x22vim-mode-change\x22,{mode:\x22replace\x22})):(b.toggleOverwrite(!1),b.setOption(\x22keyMap\x22,\x22vim-insert\x22),a.signal(b,\x22vim-mode-change\x22,{mode:\x22insert\x22})),vb.macroModeState.isPlaying||(b.on(\x22change\x22,ab),a.on(b.getInputField(),\x22keydown\x22,fb)),e.visualMode&&ia(b),aa(b,h,i)}},toggleVisualMode:function(b,c,e){var f,g=c.repeat,h=b.getCursor();e.visualMode?e.visualLine^c.linewise||e.visualBlock^c.blockwise?(e.visualLine=!!c.linewise,e.visualBlock=!!c.blockwise,a.signal(b,\x22vim-mode-change\x22,{mode:\x22visual\x22,subMode:e.visualLine?\x22linewise\x22:e.visualBlock?\x22blockwise\x22:\x22\x22}),fa(b)):ia(b):(e.visualMode=!0,e.visualLine=!!c.linewise,e.visualBlock=!!c.blockwise,f=J(b,d(h.line,h.ch+g-1),!0),e.sel={anchor:h,head:f},a.signal(b,\x22vim-mode-change\x22,{mode:\x22visual\x22,subMode:e.visualLine?\x22linewise\x22:e.visualBlock?\x22blockwise\x22:\x22\x22}),fa(b),ua(b,e,\x22\x3c\x22,U(h,f)),ua(b,e,\x22\x3e\x22,V(h,f)))},reselectLastSelection:function(b,c,d){var e=d.lastSelection;if(d.visualMode&&da(b,d),e){var f=e.anchorMark.find(),g=e.headMark.find();if(!f||!g)return;d.sel={anchor:f,head:g},d.visualMode=!0,d.visualLine=e.visualLine,d.visualBlock=e.visualBlock,fa(b),ua(b,d,\x22\x3c\x22,U(f,g)),ua(b,d,\x22\x3e\x22,V(f,g)),a.signal(b,\x22vim-mode-change\x22,{mode:\x22visual\x22,subMode:d.visualLine?\x22linewise\x22:d.visualBlock?\x22blockwise\x22:\x22\x22})}},joinLines:function(a,b,c){var e,f;if(c.visualMode){if(e=a.getCursor(\x22anchor\x22),f=a.getCursor(\x22head\x22),T(f,e)){var g=f;f=e,e=g}f.ch=X(a,f.line)-1}else{var h=Math.max(b.repeat,2);e=a.getCursor(),f=J(a,d(e.line+h-1,1/0))}for(var i=0,j=e.line;j\x3cf.line;j++){i=X(a,e.line);var g=d(e.line+1,X(a,e.line+1)),k=a.getRange(e,g);k=k.replace(/\x5cn\x5cs*/g,\x22 \x22),a.replaceRange(k,e,g)}var l=d(e.line,i);c.visualMode&&ia(a,!1),a.setCursor(l)},newLineAndEnterInsertMode:function(b,c,e){e.insertMode=!0;var f=R(b.getCursor());if(f.line!==b.firstLine()||c.after){f.line=c.after?f.line:f.line-1,f.ch=X(b,f.line),b.setCursor(f);var g=a.commands.newlineAndIndentContinueComment||a.commands.newlineAndIndent;g(b)}else b.replaceRange(\x22\x5cn\x22,d(b.firstLine(),0)),b.setCursor(b.firstLine(),0);this.enterInsertMode(b,{repeat:c.repeat},e)},paste:function(a,b,c){var e=R(a.getCursor()),f=vb.registerController.getRegister(b.registerName),g=f.toString();if(g){if(b.matchIndent){var h=a.getOption(\x22tabSize\x22),i=function(a){var b=a.split(\x22\x5ct\x22).length-1,c=a.split(\x22 \x22).length-1;return b*h+1*c},j=a.getLine(a.getCursor().line),k=i(j.match(/^\x5cs*/)[0]),l=g.replace(/\x5cn$/,\x22\x22),m=g!==l,n=i(g.match(/^\x5cs*/)[0]),g=l.replace(/^\x5cs*/gm,function(b){var c=k+(i(b)-n);if(c\x3c0)return\x22\x22;if(a.getOption(\x22indentWithTabs\x22)){var d=Math.floor(c/h);return Array(d+1).join(\x22\x5ct\x22)}return Array(c+1).join(\x22 \x22)});g+=m?\x22\x5cn\x22:\x22\x22}if(b.repeat\x3e1)var g=Array(b.repeat+1).join(g);var o=f.linewise,p=f.blockwise;if(o)c.visualMode?g=c.visualLine?g.slice(0,-1):\x22\x5cn\x22+g.slice(0,g.length-1)+\x22\x5cn\x22:b.after?(g=\x22\x5cn\x22+g.slice(0,g.length-1),e.ch=X(a,e.line)):e.ch=0;else{if(p){g=g.split(\x22\x5cn\x22);for(var q=0;q\x3cg.length;q++)g[q]=\x22\x22==g[q]?\x22 \x22:g[q]}e.ch+=b.after?1:0}var r,s;if(c.visualMode){c.lastPastedText=g;var t,u=ca(a,c),v=u[0],w=u[1],x=a.getSelection(),y=a.listSelections(),z=new Array(y.length).join(\x221\x22).split(\x221\x22);c.lastSelection&&(t=c.lastSelection.headMark.find()),vb.registerController.unnamedRegister.setText(x),p?(a.replaceSelections(z),w=d(v.line+g.length-1,v.ch),a.setCursor(v),_(a,w),a.replaceSelections(g),r=v):c.visualBlock?(a.replaceSelections(z),a.setCursor(v),a.replaceRange(g,v,v),r=v):(a.replaceRange(g,v,w),r=a.posFromIndex(a.indexFromPos(v)+g.length-1)),t&&(c.lastSelection.headMark=a.setBookmark(t)),o&&(r.ch=0)}else if(p){a.setCursor(e);for(var q=0;q\x3cg.length;q++){var A=e.line+q;A\x3ea.lastLine()&&a.replaceRange(\x22\x5cn\x22,d(A,0));var B=X(a,A);B\x3ce.ch&&$(a,A,e.ch)}a.setCursor(e),_(a,d(e.line+g.length-1,e.ch)),a.replaceSelections(g),r=e}else a.replaceRange(g,e),o&&b.after?r=d(e.line+1,la(a.getLine(e.line+1))):o&&!b.after?r=d(e.line,la(a.getLine(e.line))):!o&&b.after?(s=a.indexFromPos(e),r=a.posFromIndex(s+g.length-1)):(s=a.indexFromPos(e),r=a.posFromIndex(s+g.length));c.visualMode&&ia(a,!1),a.setCursor(r)}},undo:function(b,c){b.operation(function(){Q(b,a.commands.undo,c.repeat)(),b.setCursor(b.getCursor(\x22anchor\x22))})},redo:function(b,c){Q(b,a.commands.redo,c.repeat)()},setRegister:function(a,b,c){c.inputState.registerName=b.selectedCharacter},setMark:function(a,b,c){var d=b.selectedCharacter;ua(a,c,d,a.getCursor())},replace:function(b,c,e){var f,g,h=c.selectedCharacter,i=b.getCursor(),j=b.listSelections();if(e.visualMode)i=b.getCursor(\x22start\x22),g=b.getCursor(\x22end\x22);else{var k=b.getLine(i.line);f=i.ch+c.repeat,f\x3ek.length&&(f=k.length),g=d(i.line,f)}if(\x22\x5cn\x22==h)e.visualMode||b.replaceRange(\x22\x22,i,g),(a.commands.newlineAndIndentContinueComment||a.commands.newlineAndIndent)(b);else{var l=b.getRange(i,g);if(l=l.replace(/[^\x5cn]/g,h),e.visualBlock){var m=new Array(b.getOption(\x22tabSize\x22)+1).join(\x22 \x22);l=b.getSelection(),l=l.replace(/\x5ct/g,m).replace(/[^\x5cn]/g,h).split(\x22\x5cn\x22),b.replaceSelections(l)}else b.replaceRange(l,i,g);e.visualMode?(i=T(j[0].anchor,j[0].head)?j[0].anchor:j[0].head,b.setCursor(i),ia(b,!1)):b.setCursor(L(g,0,-1))}},incrementNumberToken:function(a,b){for(var c,e,f,g,h,i=a.getCursor(),j=a.getLine(i.line),k=/-?\x5cd+/g;null!==(c=k.exec(j))&&(h=c[0],e=c.index,f=e+h.length,!(i.ch\x3cf)););if((b.backtrack||!(f\x3c=i.ch))&&h){var l=b.increase?1:-1,m=parseInt(h)+l*b.repeat,n=d(i.line,e),o=d(i.line,f);g=m.toString(),a.replaceRange(g,n,o),a.setCursor(d(i.line,e+g.length-1))}},repeatLastEdit:function(a,b,c){var d=c.lastEditInputState;if(d){var e=b.repeat;e&&b.repeatIsExplicit?c.lastEditInputState.repeatOverride=e:e=c.lastEditInputState.repeatOverride||e,gb(a,c,e,!1)}},indent:function(a,b){a.indentLine(a.getCursor().line,b.indentRight)},exitInsertMode:Va},Cb={\x22(\x22:\x22bracket\x22,\x22)\x22:\x22bracket\x22,\x22{\x22:\x22bracket\x22,\x22}\x22:\x22bracket\x22,\x22[\x22:\x22section\x22,\x22]\x22:\x22section\x22,\x22*\x22:\x22comment\x22,\x22/\x22:\x22comment\x22,m:\x22method\x22,M:\x22method\x22,\x22#\x22:\x22preprocess\x22},Db={bracket:{isComplete:function(a){if(a.nextCh===a.symb){if(a.depth++,a.depth\x3e=1)return!0}else a.nextCh===a.reverseSymb&&a.depth--;return!1}},section:{init:function(a){a.curMoveThrough=!0,a.symb=(a.forward?\x22]\x22:\x22[\x22)===a.symb?\x22{\x22:\x22}\x22},isComplete:function(a){return 0===a.index&&a.nextCh===a.symb}},comment:{isComplete:function(a){var b=\x22*\x22===a.lastCh&&\x22/\x22===a.nextCh;return a.lastCh=a.nextCh,b}},method:{init:function(a){a.symb=\x22m\x22===a.symb?\x22{\x22:\x22}\x22,a.reverseSymb=\x22{\x22===a.symb?\x22}\x22:\x22{\x22},isComplete:function(a){return a.nextCh===a.symb}},preprocess:{init:function(a){a.index=0},isComplete:function(a){if(\x22#\x22===a.nextCh){var b=a.lineText.match(/#(\x5cw+)/)[1];if(\x22endif\x22===b){if(a.forward&&0===a.depth)return!0;a.depth++}else if(\x22if\x22===b){if(!a.forward&&0===a.depth)return!0;a.depth--}if(\x22else\x22===b&&0===a.depth)return!0}return!1}}};t(\x22pcre\x22,!0,\x22boolean\x22),za.prototype={getQuery:function(){return vb.query},setQuery:function(a){vb.query=a},getOverlay:function(){return this.searchOverlay},setOverlay:function(a){this.searchOverlay=a},isReversed:function(){return vb.isReversed},setReversed:function(a){vb.isReversed=a},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(a){this.annotate=a}};var Eb={\x22\x5c\x5cn\x22:\x22\x5cn\x22,\x22\x5c\x5cr\x22:\x22\x5cr\x22,\x22\x5c\x5ct\x22:\x22\x5ct\x22},Fb={\x22\x5c\x5c/\x22:\x22/\x22,\x22\x5c\x5c\x5c\x5c\x22:\x22\x5c\x5c\x22,\x22\x5c\x5cn\x22:\x22\x5cn\x22,\x22\x5c\x5cr\x22:\x22\x5cr\x22,\x22\x5c\x5ct\x22:\x22\x5ct\x22},Gb=\x22(Javascript regexp)\x22,Hb=function(){this.buildCommandMap_()};Hb.prototype={processCommand:function(a,b,c){var d=this;a.operation(function(){a.curOp.isVimOp=!0,d._processCommand(a,b,c)})},_processCommand:function(b,c,d){var e=b.state.vim,f=vb.registerController.getRegister(\x22:\x22),g=f.toString();e.visualMode&&ia(b);var h=new a.StringStream(c);f.setText(c);var i=d||{};i.input=c;try{this.parseInput_(b,h,i)}catch(j){throw Ia(b,j),j}var k,l;if(i.commandName){if(k=this.matchCommand_(i.commandName)){if(l=k.name,k.excludeFromCommandHistory&&f.setText(g),this.parseCommandArgs_(h,i,k),\x22exToKey\x22==k.type){for(var m=0;m\x3ck.toKeys.length;m++)a.Vim.handleKey(b,k.toKeys[m],\x22mapping\x22);return}if(\x22exToEx\x22==k.type)return void this.processCommand(b,k.toInput)}}else void 0!==i.line&&(l=\x22move\x22);if(!l)return void Ia(b,\x27Not an editor command \x22:\x27+c+\x27\x22\x27);try{Ib[l](b,i),k&&k.possiblyAsync||!i.callback||i.callback()}catch(j){throw Ia(b,j),j}},parseInput_:function(a,b,c){b.eatWhile(\x22:\x22),b.eat(\x22%\x22)?(c.line=a.firstLine(),c.lineEnd=a.lastLine()):(c.line=this.parseLineSpec_(a,b),void 0!==c.line&&b.eat(\x22,\x22)&&(c.lineEnd=this.parseLineSpec_(a,b)));var d=b.match(/^(\x5cw+)/);return d?c.commandName=d[1]:c.commandName=b.match(/.*/)[0],c},parseLineSpec_:function(a,b){var c=b.match(/^(\x5cd+)/);if(c)return parseInt(c[1],10)-1;switch(b.next()){case\x22.\x22:return this.parseLineSpecOffset_(b,a.getCursor().line);case\x22$\x22:return this.parseLineSpecOffset_(b,a.lastLine());case\x22\x27\x22:var d=b.next(),e=Ta(a,a.state.vim,d);if(!e)throw new Error(\x22Mark not set\x22);return this.parseLineSpecOffset_(b,e.line);case\x22-\x22:case\x22+\x22:return b.backUp(1),this.parseLineSpecOffset_(b,a.getCursor().line);default:return void b.backUp(1)}},parseLineSpecOffset_:function(a,b){var c=a.match(/^([+-])?(\x5cd+)/);if(c){var d=parseInt(c[2],10);\x22-\x22==c[1]?b-=d:b+=d}return b},parseCommandArgs_:function(a,b,c){if(!a.eol()){b.argString=a.match(/.*/)[0];var d=c.argDelimiter||/\x5cs+/,e=Y(b.argString).split(d);e.length&&e[0]&&(b.args=e)}},matchCommand_:function(a){for(var b=a.length;b\x3e0;b--){var c=a.substring(0,b);if(this.commandMap_[c]){var d=this.commandMap_[c];if(0===d.name.indexOf(a))return d}}return null},buildCommandMap_:function(){this.commandMap_={};for(var a=0;a\x3cc.length;a++){var b=c[a],d=b.shortName||b.name;this.commandMap_[d]=b}},map:function(a,c,d){if(\x22:\x22!=a&&\x22:\x22==a.charAt(0)){if(d)throw Error(\x22Mode not supported for ex mappings\x22);var e=a.substring(1);\x22:\x22!=c&&\x22:\x22==c.charAt(0)?this.commandMap_[e]={name:e,type:\x22exToEx\x22,toInput:c.substring(1),user:!0}:this.commandMap_[e]={name:e,type:\x22exToKey\x22,toKeys:c,user:!0}}else if(\x22:\x22!=c&&\x22:\x22==c.charAt(0)){var f={keys:a,type:\x22keyToEx\x22,exArgs:{input:c.substring(1)}};d&&(f.context=d),b.unshift(f)}else{var f={keys:a,type:\x22keyToKey\x22,toKeys:c};d&&(f.context=d),b.unshift(f)}},unmap:function(a,c){if(\x22:\x22!=a&&\x22:\x22==a.charAt(0)){if(c)throw Error(\x22Mode not supported for ex mappings\x22);var d=a.substring(1);if(this.commandMap_[d]&&this.commandMap_[d].user)return void delete this.commandMap_[d]}else for(var e=a,f=0;f\x3cb.length;f++)if(e==b[f].keys&&b[f].context===c)return void b.splice(f,1);throw Error(\x22No such mapping.\x22)}};var Ib={colorscheme:function(a,b){return!b.args||b.args.length\x3c1?void Ia(a,a.getOption(\x22theme\x22)):void a.setOption(\x22theme\x22,b.args[0])},map:function(a,b,c){var d=b.args;return!d||d.length\x3c2?void(a&&Ia(a,\x22Invalid mapping: \x22+b.input)):void Jb.map(d[0],d[1],c)},imap:function(a,b){this.map(a,b,\x22insert\x22)},nmap:function(a,b){this.map(a,b,\x22normal\x22)},vmap:function(a,b){this.map(a,b,\x22visual\x22)},unmap:function(a,b,c){var d=b.args;return!d||d.length\x3c1?void(a&&Ia(a,\x22No such mapping: \x22+b.input)):void Jb.unmap(d[0],c)},move:function(a,b){yb.processCommand(a,a.state.vim,{type:\x22motion\x22,motion:\x22moveToLineOrEdgeOfDocument\x22,motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:b.line+1})},set:function(a,b){var c=b.args,d=b.setCfg||{};if(!c||c.length\x3c1)return void(a&&Ia(a,\x22Invalid mapping: \x22+b.input));var e=c[0].split(\x22=\x22),f=e[0],g=e[1],h=!1;if(\x22?\x22==f.charAt(f.length-1)){if(g)throw Error(\x22Trailing characters: \x22+b.argString);f=f.substring(0,f.length-1),h=!0}void 0===g&&\x22no\x22==f.substring(0,2)&&(f=f.substring(2),g=!1);var i=sb[f]&&\x22boolean\x22==sb[f].type;if(i&&void 0==g&&(g=!0),!i&&void 0===g||h){var j=v(f,a,d);j instanceof Error?Ia(a,j.message):j===!0||j===!1?Ia(a,\x22 \x22+(j?\x22\x22:\x22no\x22)+f):Ia(a,\x22  \x22+f+\x22=\x22+j)}else{var k=u(f,g,a,d);k instanceof Error&&Ia(a,k.message)}},setlocal:function(a,b){b.setCfg={scope:\x22local\x22},this.set(a,b)},setglobal:function(a,b){b.setCfg={scope:\x22global\x22},this.set(a,b)},registers:function(a,b){var c=b.args,d=vb.registerController.registers,e=\x22----------Registers----------\x3cbr\x3e\x3cbr\x3e\x22;if(c){var f;c=c.join(\x22\x22);for(var g=0;g\x3cc.length;g++)if(f=c.charAt(g),vb.registerController.isValidRegister(f)){var h=d[f]||new B;e+=\x27\x22\x27+f+\x22    \x22+h.toString()+\x22\x3cbr\x3e\x22}}else for(var f in d){var i=d[f].toString();i.length&&(e+=\x27\x22\x27+f+\x22    \x22+i+\x22\x3cbr\x3e\x22)}Ia(a,e)},sort:function(b,c){function e(){if(c.argString){var b=new a.StringStream(c.argString);if(b.eat(\x22!\x22)&&(h=!0),b.eol())return;if(!b.eatSpace())return\x22Invalid arguments\x22;var d=b.match(/([dinuox]+)?\x5cs*(\x5c/.+\x5c/)?\x5cs*/);if(!d&&!b.eol())return\x22Invalid arguments\x22;if(d[1]){i=d[1].indexOf(\x22i\x22)!=-1,j=d[1].indexOf(\x22u\x22)!=-1;var e=d[1].indexOf(\x22d\x22)!=-1||d[1].indexOf(\x22n\x22)!=-1&&1,f=d[1].indexOf(\x22x\x22)!=-1&&1,g=d[1].indexOf(\x22o\x22)!=-1&&1;if(e+f+g\x3e1)return\x22Invalid arguments\x22;k=e&&\x22decimal\x22||f&&\x22hex\x22||g&&\x22octal\x22}d[2]&&(l=new RegExp(d[2].substr(1,d[2].length-2),i?\x22i\x22:\x22\x22))}}function f(a,b){if(h){var c;c=a,a=b,b=c}i&&(a=a.toLowerCase(),b=b.toLowerCase());var d=k&&s.exec(a),e=k&&s.exec(b);return d?(d=parseInt((d[1]+d[2]).toLowerCase(),t),e=parseInt((e[1]+e[2]).toLowerCase(),t),d-e):a\x3cb?-1:1}function g(a,b){if(h){var c;c=a,a=b,b=c}return i&&(a[0]=a[0].toLowerCase(),b[0]=b[0].toLowerCase()),a[0]\x3cb[0]?-1:1}var h,i,j,k,l,m=e();if(m)return void Ia(b,m+\x22: \x22+c.argString);var n=c.line||b.firstLine(),o=c.lineEnd||c.line||b.lastLine();if(n!=o){var p=d(n,0),q=d(o,X(b,o)),r=b.getRange(p,q).split(\x22\x5cn\x22),s=l?l:\x22decimal\x22==k?/(-?)([\x5cd]+)/:\x22hex\x22==k?/(-?)(?:0x)?([0-9a-f]+)/i:\x22octal\x22==k?/([0-7]+)/:null,t=\x22decimal\x22==k?10:\x22hex\x22==k?16:\x22octal\x22==k?8:null,u=[],v=[];if(k||l)for(var w=0;w\x3cr.length;w++){var x=l?r[w].match(l):null;x&&\x22\x22!=x[0]?u.push(x):!l&&s.exec(r[w])?u.push(r[w]):v.push(r[w])}else v=r;if(u.sort(l?g:f),l)for(var w=0;w\x3cu.length;w++)u[w]=u[w].input;else k||v.sort(f);if(r=h?u.concat(v):v.concat(u),j){var y,z=r;r=[];for(var w=0;w\x3cz.length;w++)z[w]!=y&&r.push(z[w]),y=z[w]}b.replaceRange(r.join(\x22\x5cn\x22),p,q)}},global:function(a,b){var c=b.argString;if(!c)return void Ia(a,\x22Regular Expression missing from global\x22);var d,e=void 0!==b.line?b.line:a.firstLine(),f=b.lineEnd||b.line||a.lastLine(),g=Ca(c),h=c;if(g.length&&(h=g[0],d=g.slice(1,g.length).join(\x22/\x22)),h)try{Ma(a,h,!0,!0)}catch(i){return void Ia(a,\x22Invalid regex: \x22+h)}for(var j=Aa(a).getQuery(),k=[],l=\x22\x22,m=e;m\x3c=f;m++){var n=j.test(a.getLine(m));n&&(k.push(m+1),l+=a.getLine(m)+\x22\x3cbr\x3e\x22)}if(!d)return void Ia(a,l);var o=0,p=function(){if(o\x3ck.length){var b=k[o]+d;Jb.processCommand(a,b,{callback:p})}o++};p()},substitute:function(a,b){if(!a.getSearchCursor)throw new Error(\x22Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.\x22);var c,e,f,g,h=b.argString,i=h?Ca(h):[],j=\x22\x22,k=!1,l=!1;if(i.length)c=i[0],j=i[1],c&&\x22$\x22===c[c.length-1]&&(c=c.slice(0,c.length-1)+\x22\x5c\x5cn\x22,j=j?j+\x22\x5cn\x22:\x22\x5cn\x22),void 0!==j&&(j=v(\x22pcre\x22)?Ga(j):Fa(j),vb.lastSubstituteReplacePart=j),e=i[2]?i[2].split(\x22 \x22):[];else if(h&&h.length)return void Ia(a,\x22Substitutions should be of the form :s/pattern/replace/\x22);if(e&&(f=e[0],g=parseInt(e[1]),f&&(f.indexOf(\x22c\x22)!=-1&&(k=!0,f.replace(\x22c\x22,\x22\x22)),f.indexOf(\x22g\x22)!=-1&&(l=!0,f.replace(\x22g\x22,\x22\x22)),c=c+\x22/\x22+f)),c)try{Ma(a,c,!0,!0)}catch(m){return void Ia(a,\x22Invalid regex: \x22+c)}if(j=j||vb.lastSubstituteReplacePart,void 0===j)return void Ia(a,\x22No previous substitute regular expression\x22);var n=Aa(a),o=n.getQuery(),p=void 0!==b.line?b.line:a.getCursor().line,q=b.lineEnd||p;p==a.firstLine()&&q==a.lastLine()&&(q=1/0),g&&(p=q,q=p+g-1);var r=J(a,d(p,0)),s=a.getSearchCursor(o,r);Ua(a,k,l,p,q,s,o,j,b.callback)},redo:a.commands.redo,undo:a.commands.undo,write:function(b){a.commands.save?a.commands.save(b):b.save&&b.save()},nohlsearch:function(a){Qa(a)},yank:function(a){var b=R(a.getCursor()),c=b.line,d=a.getLine(c);vb.registerController.pushText(\x220\x22,\x22yank\x22,d,!0,!0)},delmarks:function(b,c){if(!c.argString||!Y(c.argString))return void Ia(b,\x22Argument required\x22);for(var d=b.state.vim,e=new a.StringStream(Y(c.argString));!e.eol();){e.eatSpace();var f=e.pos;if(!e.match(/[a-zA-Z]/,!1))return void Ia(b,\x22Invalid argument: \x22+c.argString.substring(f));var g=e.next();if(e.match(\x22-\x22,!0)){if(!e.match(/[a-zA-Z]/,!1))return void Ia(b,\x22Invalid argument: \x22+c.argString.substring(f));var h=g,i=e.next();if(!(n(h)&&n(i)||q(h)&&q(i)))return void Ia(b,\x22Invalid argument: \x22+h+\x22-\x22);var j=h.charCodeAt(0),k=i.charCodeAt(0);if(j\x3e=k)return void Ia(b,\x22Invalid argument: \x22+c.argString.substring(f));for(var l=0;l\x3c=k-j;l++){var m=String.fromCharCode(j+l);delete d.marks[m]}}else delete d.marks[g]}}},Jb=new Hb;return a.keyMap.vim={attach:h,detach:g,call:i},t(\x22insertModeEscKeysTimeout\x22,200,\x22number\x22),a.keyMap[\x22vim-insert\x22]={fallthrough:[\x22default\x22],attach:h,detach:g,call:i},a.keyMap[\x22vim-replace\x22]={Backspace:\x22goCharLeft\x22,fallthrough:[\x22vim-insert\x22],attach:h,detach:g,call:i},y(),xb};a.Vim=e()})},{\x22../addon/dialog/dialog\x22:3,\x22../addon/edit/matchbrackets.js\x22:12,\x22../addon/search/searchcursor\x22:49,\x22../lib/codemirror\x22:59}],59:[function(a,b,c){!function(a,d){\x22object\x22==typeof c&&\x22undefined\x22!=typeof b?b.exports=d():\x22function\x22==typeof define&&define.amd?define(d):a.CodeMirror=d()}(this,function(){\x22use strict\x22;function a(a){return new RegExp(\x22(^|\x5c\x5cs)\x22+a+\x22(?:$|\x5c\x5cs)\x5c\x5cs*\x22)}function b(a){for(var b=a.childNodes.length;b\x3e0;--b)a.removeChild(a.firstChild);return a}function c(a,c){return b(a).appendChild(c)}function d(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),\x22string\x22==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f\x3cb.length;++f)e.appendChild(b[f]);return e}function e(a,b,c,e){var f=d(a,b,c,e);return f.setAttribute(\x22role\x22,\x22presentation\x22),f}function f(a,b){if(3==b.nodeType&&(b=b.parentNode),a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)}function g(){var a;try{a=document.activeElement}catch(b){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function h(b,c){var d=b.className;a(c).test(d)||(b.className+=(d?\x22 \x22:\x22\x22)+c)}function i(b,c){for(var d=b.split(\x22 \x22),e=0;e\x3cd.length;e++)d[e]&&!a(d[e]).test(c)&&(c+=\x22 \x22+d[e]);return c}function j(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function k(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||c===!1&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function l(a,b,c,d,e){null==b&&(b=a.search(/[^\x5cs\x5cu00a0]/),b==-1&&(b=a.length));for(var f=d||0,g=e||0;;){var h=a.indexOf(\x22\x5ct\x22,f);if(h\x3c0||h\x3e=b)return g+(b-f);g+=h-f,g+=c-g%c,f=h+1}}function m(a,b){for(var c=0;c\x3ca.length;++c)if(a[c]==b)return c;return-1}function n(a,b,c){for(var d=0,e=0;;){var f=a.indexOf(\x22\x5ct\x22,d);f==-1&&(f=a.length);var g=f-d;if(f==a.length||e+g\x3e=b)return d+Math.min(g,b-e);if(e+=f-d,e+=c-e%c,d=f+1,e\x3e=b)return d}}function o(a){for(;Qg.length\x3c=a;)Qg.push(p(Qg)+\x22 \x22);return Qg[a]}function p(a){return a[a.length-1]}function q(a,b){for(var c=[],d=0;d\x3ca.length;d++)c[d]=b(a[d],d);return c}function r(a,b,c){for(var d=0,e=c(b);d\x3ca.length&&c(a[d])\x3c=e;)d++;a.splice(d,0,b)}function s(){}function t(a,b){var c;return Object.create?c=Object.create(a):(s.prototype=a,c=new s),b&&k(b,c),c}function u(a){return/\x5cw/.test(a)||a\x3e\x22\x5cx80\x22&&(a.toUpperCase()!=a.toLowerCase()||Rg.test(a))}function v(a,b){return b?!!(b.source.indexOf(\x22\x5c\x5cw\x22)\x3e-1&&u(a))||b.test(a):u(a)}function w(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function x(a){return a.charCodeAt(0)\x3e=768&&Sg.test(a)}function y(a,b,c){for(;(c\x3c0?b\x3e0:b\x3ca.length)&&x(a.charAt(b));)b+=c;return b}function z(a,b,c){for(;;){if(Math.abs(b-c)\x3c=1)return a(b)?b:c;var d=Math.floor((b+c)/2);a(d)?c=d:b=d}}function A(a,b,c){var f=this;this.input=c,f.scrollbarFiller=d(\x22div\x22,null,\x22CodeMirror-scrollbar-filler\x22),f.scrollbarFiller.setAttribute(\x22cm-not-content\x22,\x22true\x22),f.gutterFiller=d(\x22div\x22,null,\x22CodeMirror-gutter-filler\x22),f.gutterFiller.setAttribute(\x22cm-not-content\x22,\x22true\x22),f.lineDiv=e(\x22div\x22,null,\x22CodeMirror-code\x22),f.selectionDiv=d(\x22div\x22,null,null,\x22position: relative; z-index: 1\x22),f.cursorDiv=d(\x22div\x22,null,\x22CodeMirror-cursors\x22),f.measure=d(\x22div\x22,null,\x22CodeMirror-measure\x22),f.lineMeasure=d(\x22div\x22,null,\x22CodeMirror-measure\x22),f.lineSpace=e(\x22div\x22,[f.measure,f.lineMeasure,f.selectionDiv,f.cursorDiv,f.lineDiv],null,\x22position: relative; outline: none\x22);var g=e(\x22div\x22,[f.lineSpace],\x22CodeMirror-lines\x22);f.mover=d(\x22div\x22,[g],null,\x22position: relative\x22),f.sizer=d(\x22div\x22,[f.mover],\x22CodeMirror-sizer\x22),f.sizerWidth=null,f.heightForcer=d(\x22div\x22,null,null,\x22position: absolute; height: \x22+Lg+\x22px; width: 1px;\x22),f.gutters=d(\x22div\x22,null,\x22CodeMirror-gutters\x22),f.lineGutter=null,f.scroller=d(\x22div\x22,[f.sizer,f.heightForcer,f.gutters],\x22CodeMirror-scroll\x22),f.scroller.setAttribute(\x22tabIndex\x22,\x22-1\x22),f.wrapper=d(\x22div\x22,[f.scrollbarFiller,f.gutterFiller,f.scroller],\x22CodeMirror\x22),ng&&og\x3c8&&(f.gutters.style.zIndex=-1,f.scroller.style.paddingRight=0),pg||jg&&yg||(f.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(f.wrapper):a(f.wrapper)),f.viewFrom=f.viewTo=b.first,f.reportedViewFrom=f.reportedViewTo=b.first,f.view=[],f.renderedView=null,f.externalMeasured=null,f.viewOffset=0,f.lastWrapHeight=f.lastWrapWidth=0,f.updateLineNumbers=null,f.nativeBarWidth=f.barHeight=f.barWidth=0,f.scrollbarsClipped=!1,f.lineNumWidth=f.lineNumInnerWidth=f.lineNumChars=null,f.alignWidgets=!1,f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.maxLine=null,f.maxLineLength=0,f.maxLineChanged=!1,f.wheelDX=f.wheelDY=f.wheelStartX=f.wheelStartY=null,f.shift=!1,f.selForContextMenu=null,f.activeTouch=null,c.init(f)}function B(a,b){if(b-=a.first,b\x3c0||b\x3e=a.size)throw new Error(\x22There is no line \x22+(b+a.first)+\x22 in the document.\x22);for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(b\x3cf){c=e;break}b-=f}return c.lines[b]}function C(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function D(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function E(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function F(a){if(null==a.parent)return null;for(var b=a.parent,c=m(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function G(a,b){var c=a.first;a:do{for(var d=0;d\x3ca.children.length;++d){var e=a.children[d],f=e.height;if(b\x3cf){a=e;continue a}b-=f,c+=e.chunkSize()}return c}while(!a.lines);for(var g=0;g\x3ca.lines.length;++g){var h=a.lines[g],i=h.height;if(b\x3ci)break;b-=i}return c+g}function H(a,b){return b\x3e=a.first&&b\x3ca.first+a.size}function I(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function J(a,b,c){return void 0===c&&(c=null),this instanceof J?(this.line=a,this.ch=b,void(this.sticky=c)):new J(a,b,c)}function K(a,b){return a.line-b.line||a.ch-b.ch}function L(a,b){return a.sticky==b.sticky&&0==K(a,b)}function M(a){return J(a.line,a.ch)}function N(a,b){return K(a,b)\x3c0?b:a}function O(a,b){return K(a,b)\x3c0?a:b}function P(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function Q(a,b){if(b.line\x3ca.first)return J(a.first,0);var c=a.first+a.size-1;return b.line\x3ec?J(c,B(a,c).text.length):R(b,B(a,b.line).text.length)}function R(a,b){var c=a.ch;return null==c||c\x3eb?J(a.line,b):c\x3c0?J(a.line,0):a}function S(a,b){for(var c=[],d=0;d\x3cb.length;d++)c[d]=Q(a,b[d]);return c}function T(){Tg=!0}function U(){Ug=!0}function V(a,b,c){this.marker=a,this.from=b,this.to=c}function W(a,b){if(a)for(var c=0;c\x3ca.length;++c){var d=a[c];if(d.marker==b)return d}}function X(a,b){for(var c,d=0;d\x3ca.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function Y(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function Z(a,b,c){var d;if(a)for(var e=0;e\x3ca.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from\x3c=b:f.from\x3cb);if(h||f.from==b&&\x22bookmark\x22==g.type&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to\x3e=b:f.to\x3eb);(d||(d=[])).push(new V(g,f.from,i?null:f.to))}}return d}function $(a,b,c){var d;if(a)for(var e=0;e\x3ca.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to\x3e=b:f.to\x3eb);if(h||f.from==b&&\x22bookmark\x22==g.type&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from\x3c=b:f.from\x3cb);(d||(d=[])).push(new V(g,i?null:f.from-b,null==f.to?null:f.to-b))}}return d}function _(a,b){if(b.full)return null;var c=H(a,b.from.line)&&B(a,b.from.line).markedSpans,d=H(a,b.to.line)&&B(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==K(b.from,b.to),h=Z(c,e,g),i=$(d,f,g),j=1==b.text.length,k=p(b.text).length+(j?e:0);if(h)for(var l=0;l\x3ch.length;++l){var m=h[l];if(null==m.to){var n=W(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var o=0;o\x3ci.length;++o){var q=i[o];if(null!=q.to&&(q.to+=k),null==q.from){var r=W(h,q.marker);r||(q.from=k,j&&(h||(h=[])).push(q))}else q.from+=k,j&&(h||(h=[])).push(q)}h&&(h=aa(h)),i&&i!=h&&(i=aa(i));var s=[h];if(!j){var t,u=b.text.length-2;if(u\x3e0&&h)for(var v=0;v\x3ch.length;++v)null==h[v].to&&(t||(t=[])).push(new V(h[v].marker,null,null));for(var w=0;w\x3cu;++w)s.push(t);s.push(i)}return s}function aa(a){for(var b=0;b\x3ca.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&a.splice(b--,1)}return a.length?a:null}function ba(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b\x3ca.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&m(d,c)!=-1||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f\x3cd.length;++f)for(var g=d[f],h=g.find(0),i=0;i\x3ce.length;++i){var j=e[i];if(!(K(j.to,h.from)\x3c0||K(j.from,h.to)\x3e0)){var k=[i,1],l=K(j.from,h.from),n=K(j.to,h.to);(l\x3c0||!g.inclusiveLeft&&!l)&&k.push({from:j.from,to:h.from}),(n\x3e0||!g.inclusiveRight&&!n)&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-3}}return e}function ca(a){var b=a.markedSpans;if(b){for(var c=0;c\x3cb.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function da(a,b){if(b){for(var c=0;c\x3cb.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function ea(a){return a.inclusiveLeft?-1:0}function fa(a){return a.inclusiveRight?1:0}function ga(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var d=a.find(),e=b.find(),f=K(d.from,e.from)||ea(a)-ea(b);if(f)return-f;var g=K(d.to,e.to)||fa(a)-fa(b);return g?g:b.id-a.id}function ha(a,b){var c,d=Ug&&a.markedSpans;if(d)for(var e=void 0,f=0;f\x3cd.length;++f)e=d[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!c||ga(c,e.marker)\x3c0)&&(c=e.marker);return c}function ia(a){return ha(a,!0)}function ja(a){return ha(a,!1)}function ka(a,b,c,d,e){var f=B(a,b),g=Ug&&f.markedSpans;if(g)for(var h=0;h\x3cg.length;++h){var i=g[h];if(i.marker.collapsed){var j=i.marker.find(0),k=K(j.from,c)||ea(i.marker)-ea(e),l=K(j.to,d)||fa(i.marker)-fa(e);\x0aif(!(k\x3e=0&&l\x3c=0||k\x3c=0&&l\x3e=0)&&(k\x3c=0&&(i.marker.inclusiveRight&&e.inclusiveLeft?K(j.to,c)\x3e=0:K(j.to,c)\x3e0)||k\x3e=0&&(i.marker.inclusiveRight&&e.inclusiveLeft?K(j.from,d)\x3c=0:K(j.from,d)\x3c0)))return!0}}}function la(a){for(var b;b=ia(a);)a=b.find(-1,!0).line;return a}function ma(a){for(var b;b=ja(a);)a=b.find(1,!0).line;return a}function na(a){for(var b,c;b=ja(a);)a=b.find(1,!0).line,(c||(c=[])).push(a);return c}function oa(a,b){var c=B(a,b),d=la(c);return c==d?b:F(d)}function pa(a,b){if(b\x3ea.lastLine())return b;var c,d=B(a,b);if(!qa(a,d))return b;for(;c=ja(d);)d=c.find(1,!0).line;return F(d)+1}function qa(a,b){var c=Ug&&b.markedSpans;if(c)for(var d=void 0,e=0;e\x3cc.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&ra(a,b,d))return!0}}function ra(a,b,c){if(null==c.to){var d=c.marker.find(1,!0);return ra(a,d.line,W(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var e=void 0,f=0;f\x3cb.markedSpans.length;++f)if(e=b.markedSpans[f],e.marker.collapsed&&!e.marker.widgetNode&&e.from==c.to&&(null==e.to||e.to!=c.from)&&(e.marker.inclusiveLeft||c.marker.inclusiveRight)&&ra(a,b,e))return!0}function sa(a){a=la(a);for(var b=0,c=a.parent,d=0;d\x3cc.lines.length;++d){var e=c.lines[d];if(e==a)break;b+=e.height}for(var f=c.parent;f;c=f,f=c.parent)for(var g=0;g\x3cf.children.length;++g){var h=f.children[g];if(h==c)break;b+=h.height}return b}function ta(a){if(0==a.height)return 0;for(var b,c=a.text.length,d=a;b=ia(d);){var e=b.find(0,!0);d=e.from.line,c+=e.from.ch-e.to.ch}for(d=a;b=ja(d);){var f=b.find(0,!0);c-=d.text.length-f.from.ch,d=f.to.line,c+=d.text.length-f.to.ch}return c}function ua(a){var b=a.display,c=a.doc;b.maxLine=B(c,c.first),b.maxLineLength=ta(b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var c=ta(a);c\x3eb.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function va(a,b,c,d){if(!a)return d(b,c,\x22ltr\x22);for(var e=!1,f=0;f\x3ca.length;++f){var g=a[f];(g.from\x3cc&&g.to\x3eb||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?\x22rtl\x22:\x22ltr\x22),e=!0)}e||d(b,c,\x22ltr\x22)}function wa(a,b,c){var d;Vg=null;for(var e=0;e\x3ca.length;++e){var f=a[e];if(f.from\x3cb&&f.to\x3eb)return e;f.to==b&&(f.from!=f.to&&\x22before\x22==c?d=e:Vg=e),f.from==b&&(f.from!=f.to&&\x22before\x22!=c?d=e:Vg=e)}return null!=d?d:Vg}function xa(a,b){var c=a.order;return null==c&&(c=a.order=Wg(a.text,b)),c}function ya(a,b,c){var d=y(a.text,b+c,c);return d\x3c0||d\x3ea.text.length?null:d}function za(a,b,c){var d=ya(a,b.ch,c);return null==d?null:new J(b.line,d,c\x3c0?\x22after\x22:\x22before\x22)}function Aa(a,b,c,d,e){if(a){var f=xa(c,b.doc.direction);if(f){var g,h=e\x3c0?p(f):f[0],i=e\x3c0==(1==h.level),j=i?\x22after\x22:\x22before\x22;if(h.level\x3e0){var k=Zb(b,c);g=e\x3c0?c.text.length-1:0;var l=$b(b,k,g).top;g=z(function(a){return $b(b,k,a).top==l},e\x3c0==(1==h.level)?h.from:h.to-1,g),\x22before\x22==j&&(g=ya(c,g,1))}else g=e\x3c0?h.to:h.from;return new J(d,g,j)}}return new J(d,e\x3c0?c.text.length:0,e\x3c0?\x22before\x22:\x22after\x22)}function Ba(a,b,c,d){var e=xa(b,a.doc.direction);if(!e)return za(b,c,d);c.ch\x3e=b.text.length?(c.ch=b.text.length,c.sticky=\x22before\x22):c.ch\x3c=0&&(c.ch=0,c.sticky=\x22after\x22);var f=wa(e,c.ch,c.sticky),g=e[f];if(\x22ltr\x22==a.doc.direction&&g.level%2==0&&(d\x3e0?g.to\x3ec.ch:g.from\x3cc.ch))return za(b,c,d);var h,i=function(a,c){return ya(b,a instanceof J?a.ch:a,c)},j=function(c){return a.options.lineWrapping?(h=h||Zb(a,b),qc(a,b,h,c)):{begin:0,end:b.text.length}},k=j(\x22before\x22==c.sticky?i(c,-1):c.ch);if(\x22rtl\x22==a.doc.direction||1==g.level){var l=1==g.level==d\x3c0,m=i(c,l?1:-1);if(null!=m&&(l?m\x3c=g.to&&m\x3c=k.end:m\x3e=g.from&&m\x3e=k.begin)){var n=l?\x22before\x22:\x22after\x22;return new J(c.line,m,n)}}var o=function(a,b,d){for(var f=function(a,b){return b?new J(c.line,i(a,1),\x22before\x22):new J(c.line,a,\x22after\x22)};a\x3e=0&&a\x3ce.length;a+=b){var g=e[a],h=b\x3e0==(1!=g.level),j=h?d.begin:i(d.end,-1);if(g.from\x3c=j&&j\x3cg.to)return f(j,h);if(j=h?g.from:i(g.to,-1),d.begin\x3c=j&&j\x3cd.end)return f(j,h)}},p=o(f+d,d,k);if(p)return p;var q=d\x3e0?k.end:i(k.begin,-1);return null==q||d\x3e0&&q==b.text.length||!(p=o(d\x3e0?0:e.length-1,d,j(q)))?null:p}function Ca(a,b){return a._handlers&&a._handlers[b]||Xg}function Da(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent(\x22on\x22+b,c);else{var d=a._handlers,e=d&&d[b];if(e){var f=m(e,c);f\x3e-1&&(d[b]=e.slice(0,f).concat(e.slice(f+1)))}}}function Ea(a,b){var c=Ca(a,b);if(c.length)for(var d=Array.prototype.slice.call(arguments,2),e=0;e\x3cc.length;++e)c[e].apply(null,d)}function Fa(a,b,c){return\x22string\x22==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}}),Ea(a,c||b.type,a,b),La(b)||b.codemirrorIgnore}function Ga(a){var b=a._handlers&&a._handlers.cursorActivity;if(b)for(var c=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d\x3cb.length;++d)m(c,b[d])==-1&&c.push(b[d])}function Ha(a,b){return Ca(a,b).length\x3e0}function Ia(a){a.prototype.on=function(a,b){Yg(this,a,b)},a.prototype.off=function(a,b){Da(this,a,b)}}function Ja(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Ka(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function La(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Ma(a){Ja(a),Ka(a)}function Na(a){return a.target||a.srcElement}function Oa(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),zg&&a.ctrlKey&&1==b&&(b=3),b}function Pa(a){if(null==Jg){var b=d(\x22span\x22,\x22\x5cu200b\x22);c(a,d(\x22span\x22,[b,document.createTextNode(\x22x\x22)])),0!=a.firstChild.offsetHeight&&(Jg=b.offsetWidth\x3c=1&&b.offsetHeight\x3e2&&!(ng&&og\x3c8))}var e=Jg?d(\x22span\x22,\x22\x5cu200b\x22):d(\x22span\x22,\x22\x5cxa0\x22,null,\x22display: inline-block; width: 1px; margin-right: -1px\x22);return e.setAttribute(\x22cm-text\x22,\x22\x22),e}function Qa(a){if(null!=Kg)return Kg;var d=c(a,document.createTextNode(\x22A\x5cu062eA\x22)),e=Dg(d,0,1).getBoundingClientRect(),f=Dg(d,1,2).getBoundingClientRect();return b(a),!(!e||e.left==e.right)&&(Kg=f.right-e.right\x3c3)}function Ra(a){if(null!=bh)return bh;var b=c(a,d(\x22span\x22,\x22x\x22)),e=b.getBoundingClientRect(),f=Dg(b,0,1).getBoundingClientRect();return bh=Math.abs(e.left-f.left)\x3e1}function Sa(a,b){arguments.length\x3e2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),ch[a]=b}function Ta(a,b){dh[a]=b}function Ua(a){if(\x22string\x22==typeof a&&dh.hasOwnProperty(a))a=dh[a];else if(a&&\x22string\x22==typeof a.name&&dh.hasOwnProperty(a.name)){var b=dh[a.name];\x22string\x22==typeof b&&(b={name:b}),a=t(b,a),a.name=b.name}else{if(\x22string\x22==typeof a&&/^[\x5cw\x5c-]+\x5c/[\x5cw\x5c-]+\x5c+xml$/.test(a))return Ua(\x22application/xml\x22);if(\x22string\x22==typeof a&&/^[\x5cw\x5c-]+\x5c/[\x5cw\x5c-]+\x5c+json$/.test(a))return Ua(\x22application/json\x22)}return\x22string\x22==typeof a?{name:a}:a||{name:\x22null\x22}}function Va(a,b){b=Ua(b);var c=ch[b.name];if(!c)return Va(a,\x22text/plain\x22);var d=c(a,b);if(eh.hasOwnProperty(b.name)){var e=eh[b.name];for(var f in e)e.hasOwnProperty(f)&&(d.hasOwnProperty(f)&&(d[\x22_\x22+f]=d[f]),d[f]=e[f])}if(d.name=b.name,b.helperType&&(d.helperType=b.helperType),b.modeProps)for(var g in b.modeProps)d[g]=b.modeProps[g];return d}function Wa(a,b){var c=eh.hasOwnProperty(a)?eh[a]:eh[a]={};k(b,c)}function Xa(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function Ya(a,b){for(var c;a.innerMode&&(c=a.innerMode(b),c&&c.mode!=a);)b=c.state,a=c.mode;return c||{mode:a,state:b}}function Za(a,b,c){return!a.startState||a.startState(b,c)}function $a(a,b,c,d){var e=[a.state.modeGen],f={};gb(a,b.text,a.doc.mode,c,function(a,b){return e.push(a,b)},f,d);for(var g=c.state,h=function(d){var g=a.state.overlays[d],h=1,i=0;c.state=!0,gb(a,b.text,g.mode,c,function(a,b){for(var c=h;i\x3ca;){var d=e[h];d\x3ea&&e.splice(h,1,a,e[h+1],d),h+=2,i=Math.min(a,d)}if(b)if(g.opaque)e.splice(c,h-c,a,\x22overlay \x22+b),h=c+2;else for(;c\x3ch;c+=2){var f=e[c+1];e[c+1]=(f?f+\x22 \x22:\x22\x22)+\x22overlay \x22+b}},f)},i=0;i\x3ca.state.overlays.length;++i)h(i);return c.state=g,{styles:e,classes:f.bgClass||f.textClass?f:null}}function _a(a,b,c){if(!b.styles||b.styles[0]!=a.state.modeGen){var d=ab(a,F(b)),e=b.text.length\x3ea.options.maxHighlightLength&&Xa(a.doc.mode,d.state),f=$a(a,b,d);e&&(d.state=e),b.stateAfter=d.save(!e),b.styles=f.styles,f.classes?b.styleClasses=f.classes:b.styleClasses&&(b.styleClasses=null),c===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return b.styles}function ab(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return new hh(d,!0,b);var f=hb(a,b,c),g=f\x3ed.first&&B(d,f-1).stateAfter,h=g?hh.fromSaved(d,g,f):new hh(d,Za(d.mode),f);return d.iter(f,b,function(c){bb(a,c.text,h);var d=h.line;c.stateAfter=d==b-1||d%5==0||d\x3e=e.viewFrom&&d\x3ce.viewTo?h.save():null,h.nextLine()}),c&&(d.modeFrontier=h.line),h}function bb(a,b,c,d){var e=a.doc.mode,f=new fh(b,a.options.tabSize,c);for(f.start=f.pos=d||0,\x22\x22==b&&cb(e,c.state);!f.eol();)db(e,f,c.state),f.start=f.pos}function cb(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var c=Ya(a,b);return c.mode.blankLine?c.mode.blankLine(c.state):void 0}}function db(a,b,c,d){for(var e=0;e\x3c10;e++){d&&(d[0]=Ya(a,c).mode);var f=a.token(b,c);if(b.pos\x3eb.start)return f}throw new Error(\x22Mode \x22+a.name+\x22 failed to advance stream.\x22)}function eb(a,b,c,d){var e,f=a.doc,g=f.mode;b=Q(f,b);var h,i=B(f,b.line),j=ab(a,b.line,c),k=new fh(i.text,a.options.tabSize,j);for(d&&(h=[]);(d||k.pos\x3cb.ch)&&!k.eol();)k.start=k.pos,e=db(g,k,j.state),d&&h.push(new ih(k,e,Xa(f.mode,j.state)));return d?h:new ih(k,e,j.state)}function fb(a,b){if(a)for(;;){var c=a.match(/(?:^|\x5cs+)line-(background-)?(\x5cS+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?\x22bgClass\x22:\x22textClass\x22;null==b[d]?b[d]=c[2]:new RegExp(\x22(?:^|s)\x22+c[2]+\x22(?:$|s)\x22).test(b[d])||(b[d]+=\x22 \x22+c[2])}return a}function gb(a,b,c,d,e,f,g){var h=c.flattenSpans;null==h&&(h=a.options.flattenSpans);var i,j=0,k=null,l=new fh(b,a.options.tabSize,d),m=a.options.addModeClass&&[null];for(\x22\x22==b&&fb(cb(c,d.state),f);!l.eol();){if(l.pos\x3ea.options.maxHighlightLength?(h=!1,g&&bb(a,b,d,l.pos),l.pos=b.length,i=null):i=fb(db(c,l,d.state,m),f),m){var n=m[0].name;n&&(i=\x22m-\x22+(i?n+\x22 \x22+i:n))}if(!h||k!=i){for(;j\x3cl.start;)j=Math.min(l.start,j+5e3),e(j,k);k=i}l.start=l.pos}for(;j\x3cl.pos;){var o=Math.min(l.pos,j+5e3);e(o,k),j=o}}function hb(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h\x3eg;--h){if(h\x3c=f.first)return f.first;var i=B(f,h-1),j=i.stateAfter;if(j&&(!c||h+(j instanceof gh?j.lookAhead:0)\x3c=f.modeFrontier))return h;var k=l(i.text,null,a.options.tabSize);(null==e||d\x3ek)&&(e=h-1,d=k)}return e}function ib(a,b){if(a.modeFrontier=Math.min(a.modeFrontier,b),!(a.highlightFrontier\x3cb-10)){for(var c=a.first,d=b-1;d\x3ec;d--){var e=B(a,d).stateAfter;if(e&&(!(e instanceof gh)||d+e.lookAhead\x3cb)){c=d+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,c)}}function jb(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),ca(a),da(a,c);var e=d?d(a):1;e!=a.height&&E(a,e)}function kb(a){a.parent=null,ca(a)}function lb(a,b){if(!a||/^\x5cs*$/.test(a))return null;var c=b.addModeClass?mh:lh;return c[a]||(c[a]=a.replace(/\x5cS+/g,\x22cm-$&\x22))}function mb(a,b){var c=e(\x22span\x22,null,null,pg?\x22padding-right: .1px\x22:null),d={pre:e(\x22pre\x22,[c],\x22CodeMirror-line\x22),content:c,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:(ng||pg)&&a.getOption(\x22lineWrapping\x22)};b.measure={};for(var f=0;f\x3c=(b.rest?b.rest.length:0);f++){var g=f?b.rest[f-1]:b.line,h=void 0;d.pos=0,d.addToken=ob,Qa(a.display.measure)&&(h=xa(g,a.doc.direction))&&(d.addToken=qb(d.addToken,h)),d.map=[];var j=b!=a.display.externalMeasured&&F(g);sb(g,d,_a(a,g,j)),g.styleClasses&&(g.styleClasses.bgClass&&(d.bgClass=i(g.styleClasses.bgClass,d.bgClass||\x22\x22)),g.styleClasses.textClass&&(d.textClass=i(g.styleClasses.textClass,d.textClass||\x22\x22))),0==d.map.length&&d.map.push(0,0,d.content.appendChild(Pa(a.display.measure))),0==f?(b.measure.map=d.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(d.map),(b.measure.caches||(b.measure.caches=[])).push({}))}if(pg){var k=d.content.lastChild;(/\x5cbcm-tab\x5cb/.test(k.className)||k.querySelector&&k.querySelector(\x22.cm-tab\x22))&&(d.content.className=\x22cm-tab-wrap-hack\x22)}return Ea(a,\x22renderLine\x22,a,b.line,d.pre),d.pre.className&&(d.textClass=i(d.pre.className,d.textClass||\x22\x22)),d}function nb(a){var b=d(\x22span\x22,\x22\x5cu2022\x22,\x22cm-invalidchar\x22);return b.title=\x22\x5c\x5cu\x22+a.charCodeAt(0).toString(16),b.setAttribute(\x22aria-label\x22,b.title),b}function ob(a,b,c,e,f,g,h){if(b){var i,j=a.splitSpaces?pb(b,a.trailingSpace):b,k=a.cm.state.specialChars,l=!1;if(k.test(b)){i=document.createDocumentFragment();for(var m=0;;){k.lastIndex=m;var n=k.exec(b),p=n?n.index-m:b.length-m;if(p){var q=document.createTextNode(j.slice(m,m+p));ng&&og\x3c9?i.appendChild(d(\x22span\x22,[q])):i.appendChild(q),a.map.push(a.pos,a.pos+p,q),a.col+=p,a.pos+=p}if(!n)break;m+=p+1;var r=void 0;if(\x22\x5ct\x22==n[0]){var s=a.cm.options.tabSize,t=s-a.col%s;r=i.appendChild(d(\x22span\x22,o(t),\x22cm-tab\x22)),r.setAttribute(\x22role\x22,\x22presentation\x22),r.setAttribute(\x22cm-text\x22,\x22\x5ct\x22),a.col+=t}else\x22\x5cr\x22==n[0]||\x22\x5cn\x22==n[0]?(r=i.appendChild(d(\x22span\x22,\x22\x5cr\x22==n[0]?\x22\x5cu240d\x22:\x22\x5cu2424\x22,\x22cm-invalidchar\x22)),r.setAttribute(\x22cm-text\x22,n[0]),a.col+=1):(r=a.cm.options.specialCharPlaceholder(n[0]),r.setAttribute(\x22cm-text\x22,n[0]),ng&&og\x3c9?i.appendChild(d(\x22span\x22,[r])):i.appendChild(r),a.col+=1);a.map.push(a.pos,a.pos+1,r),a.pos++}}else a.col+=b.length,i=document.createTextNode(j),a.map.push(a.pos,a.pos+b.length,i),ng&&og\x3c9&&(l=!0),a.pos+=b.length;if(a.trailingSpace=32==j.charCodeAt(b.length-1),c||e||f||l||h){var u=c||\x22\x22;e&&(u+=e),f&&(u+=f);var v=d(\x22span\x22,[i],u,h);return g&&(v.title=g),a.content.appendChild(v)}a.content.appendChild(i)}}function pb(a,b){if(a.length\x3e1&&!/  /.test(a))return a;for(var c=b,d=\x22\x22,e=0;e\x3ca.length;e++){var f=a.charAt(e);\x22 \x22!=f||!c||e!=a.length-1&&32!=a.charCodeAt(e+1)||(f=\x22\x5cxa0\x22),d+=f,c=\x22 \x22==f}return d}function qb(a,b){return function(c,d,e,f,g,h,i){e=e?e+\x22 cm-force-border\x22:\x22cm-force-border\x22;for(var j=c.pos,k=j+d.length;;){for(var l=void 0,m=0;m\x3cb.length&&(l=b[m],!(l.to\x3ej&&l.from\x3c=j));m++);if(l.to\x3e=k)return a(c,d,e,f,g,h,i);a(c,d.slice(0,l.to-j),e,f,null,h,i),f=null,d=d.slice(l.to-j),j=l.to}}}function rb(a,b,c,d){var e=!d&&c.widgetNode;e&&a.map.push(a.pos,a.pos+b,e),!d&&a.cm.display.input.needsContentAttribute&&(e||(e=a.content.appendChild(document.createElement(\x22span\x22))),e.setAttribute(\x22cm-marker\x22,c.id)),e&&(a.cm.display.input.setUneditable(e),a.content.appendChild(e)),a.pos+=b,a.trailingSpace=!1}function sb(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m,n=e.length,o=0,p=1,q=\x22\x22,r=0;;){if(r==o){i=j=k=l=h=\x22\x22,m=null,r=1/0;for(var s=[],t=void 0,u=0;u\x3cd.length;++u){var v=d[u],w=v.marker;\x22bookmark\x22==w.type&&v.from==o&&w.widgetNode?s.push(w):v.from\x3c=o&&(null==v.to||v.to\x3eo||w.collapsed&&v.to==o&&v.from==o)?(null!=v.to&&v.to!=o&&r\x3ev.to&&(r=v.to,j=\x22\x22),w.className&&(i+=\x22 \x22+w.className),w.css&&(h=(h?h+\x22;\x22:\x22\x22)+w.css),w.startStyle&&v.from==o&&(k+=\x22 \x22+w.startStyle),w.endStyle&&v.to==r&&(t||(t=[])).push(w.endStyle,v.to),w.title&&!l&&(l=w.title),w.collapsed&&(!m||ga(m.marker,w)\x3c0)&&(m=v)):v.from\x3eo&&r\x3ev.from&&(r=v.from)}if(t)for(var x=0;x\x3ct.length;x+=2)t[x+1]==r&&(j+=\x22 \x22+t[x]);if(!m||m.from==o)for(var y=0;y\x3cs.length;++y)rb(b,0,s[y]);if(m&&(m.from||0)==o){if(rb(b,(null==m.to?n+1:m.to)-o,m.marker,null==m.from),null==m.to)return;m.to==o&&(m=!1)}}if(o\x3e=n)break;for(var z=Math.min(n,r);;){if(q){var A=o+q.length;if(!m){var B=A\x3ez?q.slice(0,z-o):q;b.addToken(b,B,g?g+i:i,k,o+B.length==r?j:\x22\x22,l,h)}if(A\x3e=z){q=q.slice(z-o),o=z;break}o=A,k=\x22\x22}q=e.slice(f,f=c[p++]),g=lb(c[p++],b.cm.options)}}else for(var C=1;C\x3cc.length;C+=2)b.addToken(b,e.slice(f,f=c[C]),lb(c[C+1],b.cm.options))}function tb(a,b,c){this.line=b,this.rest=na(b),this.size=this.rest?F(p(this.rest))-c+1:1,this.node=this.text=null,this.hidden=qa(a,b)}function ub(a,b,c){for(var d,e=[],f=b;f\x3cc;f=d){var g=new tb(a.doc,B(a.doc,f),f);d=f+g.size,e.push(g)}return e}function vb(a){nh?nh.ops.push(a):a.ownsGroup=nh={ops:[a],delayedCallbacks:[]}}function wb(a){var b=a.delayedCallbacks,c=0;do{for(;c\x3cb.length;c++)b[c].call(null);for(var d=0;d\x3ca.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled\x3ce.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++].call(null,e.cm)}}while(c\x3cb.length)}function xb(a,b){var c=a.ownsGroup;if(c)try{wb(c)}finally{nh=null,b(c)}}function yb(a,b){var c=Ca(a,b);if(c.length){var d,e=Array.prototype.slice.call(arguments,2);nh?d=nh.delayedCallbacks:oh?d=oh:(d=oh=[],setTimeout(zb,0));for(var f=function(a){d.push(function(){return c[a].apply(null,e)})},g=0;g\x3cc.length;++g)f(g)}}function zb(){var a=oh;oh=null;for(var b=0;b\x3ca.length;++b)a[b]()}function Ab(a,b,c,d){for(var e=0;e\x3cb.changes.length;e++){var f=b.changes[e];\x22text\x22==f?Eb(a,b):\x22gutter\x22==f?Gb(a,b,c,d):\x22class\x22==f?Fb(a,b):\x22widget\x22==f&&Hb(a,b,d)}b.changes=null}function Bb(a){return a.node==a.text&&(a.node=d(\x22div\x22,null,null,\x22position: relative\x22),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),ng&&og\x3c8&&(a.node.style.zIndex=2)),a.node}function Cb(a,b){var c=b.bgClass?b.bgClass+\x22 \x22+(b.line.bgClass||\x22\x22):b.line.bgClass;if(c&&(c+=\x22 CodeMirror-linebackground\x22),b.background)c?b.background.className=c:(b.background.parentNode.removeChild(b.background),b.background=null);else if(c){var e=Bb(b);b.background=e.insertBefore(d(\x22div\x22,null,c),e.firstChild),a.display.input.setUneditable(b.background)}}function Db(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):mb(a,b)}function Eb(a,b){var c=b.text.className,d=Db(a,b);b.text==b.node&&(b.node=d.pre),b.text.parentNode.replaceChild(d.pre,b.text),b.text=d.pre,d.bgClass!=b.bgClass||d.textClass!=b.textClass?(b.bgClass=d.bgClass,b.textClass=d.textClass,Fb(a,b)):c&&(b.text.className=c)}function Fb(a,b){Cb(a,b),b.line.wrapClass?Bb(b).className=b.line.wrapClass:b.node!=b.text&&(b.node.className=\x22\x22);var c=b.textClass?b.textClass+\x22 \x22+(b.line.textClass||\x22\x22):b.line.textClass;b.text.className=c||\x22\x22}function Gb(a,b,c,e){if(b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null),b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null),b.line.gutterClass){var f=Bb(b);b.gutterBackground=d(\x22div\x22,null,\x22CodeMirror-gutter-background \x22+b.line.gutterClass,\x22left: \x22+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+\x22px; width: \x22+e.gutterTotalWidth+\x22px\x22),a.display.input.setUneditable(b.gutterBackground),f.insertBefore(b.gutterBackground,b.text)}var g=b.line.gutterMarkers;if(a.options.lineNumbers||g){var h=Bb(b),i=b.gutter=d(\x22div\x22,null,\x22CodeMirror-gutter-wrapper\x22,\x22left: \x22+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+\x22px\x22);if(a.display.input.setUneditable(i),h.insertBefore(i,b.text),b.line.gutterClass&&(i.className+=\x22 \x22+b.line.gutterClass),!a.options.lineNumbers||g&&g[\x22CodeMirror-linenumbers\x22]||(b.lineNumber=i.appendChild(d(\x22div\x22,I(a.options,c),\x22CodeMirror-linenumber CodeMirror-gutter-elt\x22,\x22left: \x22+e.gutterLeft[\x22CodeMirror-linenumbers\x22]+\x22px; width: \x22+a.display.lineNumInnerWidth+\x22px\x22))),g)for(var j=0;j\x3ca.options.gutters.length;++j){var k=a.options.gutters[j],l=g.hasOwnProperty(k)&&g[k];l&&i.appendChild(d(\x22div\x22,[l],\x22CodeMirror-gutter-elt\x22,\x22left: \x22+e.gutterLeft[k]+\x22px; width: \x22+e.gutterWidth[k]+\x22px\x22))}}}function Hb(a,b,c){b.alignable&&(b.alignable=null);for(var d=b.node.firstChild,e=void 0;d;d=e)e=d.nextSibling,\x22CodeMirror-linewidget\x22==d.className&&b.node.removeChild(d);Jb(a,b,c)}function Ib(a,b,c,d){var e=Db(a,b);return b.text=b.node=e.pre,e.bgClass&&(b.bgClass=e.bgClass),e.textClass&&(b.textClass=e.textClass),Fb(a,b),Gb(a,b,c,d),Jb(a,b,d),b.node}function Jb(a,b,c){if(Kb(a,b.line,b,c,!0),b.rest)for(var d=0;d\x3cb.rest.length;d++)Kb(a,b.rest[d],b,c,!1)}function Kb(a,b,c,e,f){if(b.widgets)for(var g=Bb(c),h=0,i=b.widgets;h\x3ci.length;++h){var j=i[h],k=d(\x22div\x22,[j.node],\x22CodeMirror-linewidget\x22);j.handleMouseEvents||k.setAttribute(\x22cm-ignore-events\x22,\x22true\x22),Lb(j,k,c,e),a.display.input.setUneditable(k),f&&j.above?g.insertBefore(k,c.gutter||c.text):g.appendChild(k),yb(j,\x22redraw\x22)}}function Lb(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+\x22px\x22,a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+\x22px\x22),b.style.width=e+\x22px\x22}a.coverGutter&&(b.style.zIndex=5,b.style.position=\x22relative\x22,a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+\x22px\x22))}function Mb(a){if(null!=a.height)return a.height;var b=a.doc.cm;if(!b)return 0;if(!f(document.body,a.node)){var e=\x22position: relative;\x22;a.coverGutter&&(e+=\x22margin-left: -\x22+b.display.gutters.offsetWidth+\x22px;\x22),a.noHScroll&&(e+=\x22width: \x22+b.display.wrapper.clientWidth+\x22px;\x22),c(b.display.measure,d(\x22div\x22,[a.node],null,e))}return a.height=a.node.parentNode.offsetHeight}function Nb(a,b){for(var c=Na(b);c!=a.wrapper;c=c.parentNode)if(!c||1==c.nodeType&&\x22true\x22==c.getAttribute(\x22cm-ignore-events\x22)||c.parentNode==a.sizer&&c!=a.mover)return!0}function Ob(a){return a.lineSpace.offsetTop}function Pb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Qb(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=c(a.measure,d(\x22pre\x22,\x22x\x22)),e=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,f={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};return isNaN(f.left)||isNaN(f.right)||(a.cachedPaddingH=f),f}function Rb(a){return Lg-a.display.nativeBarWidth}function Sb(a){return a.display.scroller.clientWidth-Rb(a)-a.display.barWidth}function Tb(a){return a.display.scroller.clientHeight-Rb(a)-a.display.barHeight}function Ub(a,b,c){var d=a.options.lineWrapping,e=d&&Sb(a);if(!b.measure.heights||d&&b.measure.width!=e){var f=b.measure.heights=[];if(d){b.measure.width=e;for(var g=b.text.firstChild.getClientRects(),h=0;h\x3cg.length-1;h++){var i=g[h],j=g[h+1];Math.abs(i.bottom-j.bottom)\x3e2&&f.push((i.bottom+j.top)/2-c.top)}}f.push(c.bottom-c.top)}}function Vb(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d\x3ca.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var e=0;e\x3ca.rest.length;e++)if(F(a.rest[e])\x3ec)return{map:a.measure.maps[e],cache:a.measure.caches[e],before:!0}}function Wb(a,b){b=la(b);var d=F(b),e=a.display.externalMeasured=new tb(a.doc,b,d);e.lineN=d;var f=e.built=mb(a,e);return e.text=f.pre,c(a.display.lineMeasure,f.pre),e}function Xb(a,b,c,d){return $b(a,Zb(a,b),c,d)}function Yb(a,b){if(b\x3e=a.display.viewFrom&&b\x3ca.display.viewTo)return a.display.view[zc(a,b)];var c=a.display.externalMeasured;return c&&b\x3e=c.lineN&&b\x3cc.lineN+c.size?c:void 0}function Zb(a,b){var c=F(b),d=Yb(a,c);d&&!d.text?d=null:d&&d.changes&&(Ab(a,d,c,uc(a)),a.curOp.forceUpdate=!0),d||(d=Wb(a,b));var e=Vb(d,b,c);return{line:b,view:d,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function $b(a,b,c,d,e){b.before&&(c=-1);var f,g=c+(d||\x22\x22);return b.cache.hasOwnProperty(g)?f=b.cache[g]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(Ub(a,b.view,b.rect),b.hasHeights=!0),f=bc(a,b,c,d),f.bogus||(b.cache[g]=f)),{left:f.left,right:f.right,top:e?f.rtop:f.top,bottom:e?f.rbottom:f.bottom}}function _b(a,b,c){for(var d,e,f,g,h,i,j=0;j\x3ca.length;j+=3)if(h=a[j],i=a[j+1],b\x3ch?(e=0,f=1,g=\x22left\x22):b\x3ci?(e=b-h,f=e+1):(j==a.length-3||b==i&&a[j+3]\x3eb)&&(f=i-h,e=f-1,b\x3e=i&&(g=\x22right\x22)),null!=e){if(d=a[j+2],h==i&&c==(d.insertLeft?\x22left\x22:\x22right\x22)&&(g=c),\x22left\x22==c&&0==e)for(;j&&a[j-2]==a[j-3]&&a[j-1].insertLeft;)d=a[(j-=3)+2],g=\x22left\x22;if(\x22right\x22==c&&e==i-h)for(;j\x3ca.length-3&&a[j+3]==a[j+4]&&!a[j+5].insertLeft;)d=a[(j+=3)+2],g=\x22right\x22;break}return{node:d,start:e,end:f,collapse:g,coverStart:h,coverEnd:i}}function ac(a,b){var c=ph;if(\x22left\x22==b)for(var d=0;d\x3ca.length&&(c=a[d]).left==c.right;d++);else for(var e=a.length-1;e\x3e=0&&(c=a[e]).left==c.right;e--);return c}function bc(a,b,c,d){var e,f=_b(b.map,c,d),g=f.node,h=f.start,i=f.end,j=f.collapse;if(3==g.nodeType){for(var k=0;k\x3c4;k++){for(;h&&x(b.line.text.charAt(f.coverStart+h));)--h;for(;f.coverStart+i\x3cf.coverEnd&&x(b.line.text.charAt(f.coverStart+i));)++i;if(e=ng&&og\x3c9&&0==h&&i==f.coverEnd-f.coverStart?g.parentNode.getBoundingClientRect():ac(Dg(g,h,i).getClientRects(),d),e.left||e.right||0==h)break;i=h,h-=1,j=\x22right\x22}ng&&og\x3c11&&(e=cc(a.display.measure,e))}else{h\x3e0&&(j=d=\x22right\x22);var l;e=a.options.lineWrapping&&(l=g.getClientRects()).length\x3e1?l[\x22right\x22==d?l.length-1:0]:g.getBoundingClientRect()}if(ng&&og\x3c9&&!h&&(!e||!e.left&&!e.right)){var m=g.parentNode.getClientRects()[0];e=m?{left:m.left,right:m.left+tc(a.display),top:m.top,bottom:m.bottom}:ph}for(var n=e.top-b.rect.top,o=e.bottom-b.rect.top,p=(n+o)/2,q=b.view.measure.heights,r=0;r\x3cq.length-1&&!(p\x3cq[r]);r++);var s=r?q[r-1]:0,t=q[r],u={left:(\x22right\x22==j?e.right:e.left)-b.rect.left,right:(\x22left\x22==j?e.left:e.right)-b.rect.left,top:s,bottom:t};return e.left||e.right||(u.bogus=!0),a.options.singleCursorHeightPerLine||(u.rtop=n,u.rbottom=o),u}function cc(a,b){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ra(a))return b;var c=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*c,right:b.right*c,top:b.top*d,bottom:b.bottom*d}}function dc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b\x3ca.rest.length;b++)a.measure.caches[b]={}}function ec(a){a.display.externalMeasure=null,b(a.display.lineMeasure);for(var c=0;c\x3ca.display.view.length;c++)dc(a.display.view[c])}function fc(a){ec(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function gc(){return rg&&xg?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hc(){return rg&&xg?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ic(a,b,c,d,e){if(!e&&b.widgets)for(var f=0;f\x3cb.widgets.length;++f)if(b.widgets[f].above){var g=Mb(b.widgets[f]);c.top+=g,c.bottom+=g}if(\x22line\x22==d)return c;d||(d=\x22local\x22);var h=sa(b);if(\x22local\x22==d?h+=Ob(a.display):h-=a.display.viewOffset,\x22page\x22==d||\x22window\x22==d){var i=a.display.lineSpace.getBoundingClientRect();h+=i.top+(\x22window\x22==d?0:hc());var j=i.left+(\x22window\x22==d?0:gc());c.left+=j,c.right+=j}return c.top+=h,c.bottom+=h,c}function jc(a,b,c){if(\x22div\x22==c)return b;var d=b.left,e=b.top;if(\x22page\x22==c)d-=gc(),e-=hc();else if(\x22local\x22==c||!c){var f=a.display.sizer.getBoundingClientRect();d+=f.left,e+=f.top}var g=a.display.lineSpace.getBoundingClientRect();return{left:d-g.left,top:e-g.top}}function kc(a,b,c,d,e){return d||(d=B(a.doc,b.line)),ic(a,d,Xb(a,d,b.ch,e),c)}function lc(a,b,c,d,e,f){function g(b,g){var h=$b(a,e,b,g?\x22right\x22:\x22left\x22,f);return g?h.left=h.right:h.right=h.left,ic(a,d,h,c)}function h(a,b,c){var d=i[b],e=d.level%2!=0;return g(c?a-1:a,e!=c)}d=d||B(a.doc,b.line),e||(e=Zb(a,d));var i=xa(d,a.doc.direction),j=b.ch,k=b.sticky;if(j\x3e=d.text.length?(j=d.text.length,k=\x22before\x22):j\x3c=0&&(j=0,k=\x22after\x22),!i)return g(\x22before\x22==k?j-1:j,\x22before\x22==k);var l=wa(i,j,k),m=Vg,n=h(j,l,\x22before\x22==k);return null!=m&&(n.other=h(j,m,\x22before\x22!=k)),n}function mc(a,b){var c=0;b=Q(a.doc,b),a.options.lineWrapping||(c=tc(a.display)*b.ch);var d=B(a.doc,b.line),e=sa(d)+Ob(a.display);return{left:c,right:c,top:e,bottom:e+d.height}}function nc(a,b,c,d,e){var f=J(a,b,c);return f.xRel=e,d&&(f.outside=!0),f}function oc(a,b,c){var d=a.doc;if(c+=a.display.viewOffset,c\x3c0)return nc(d.first,0,null,!0,-1);var e=G(d,c),f=d.first+d.size-1;if(e\x3ef)return nc(d.first+d.size-1,B(d,f).text.length,null,!0,1);b\x3c0&&(b=0);for(var g=B(d,e);;){var h=rc(a,g,e,b,c),i=ja(g),j=i&&i.find(0,!0);if(!i||!(h.ch\x3ej.from.ch||h.ch==j.from.ch&&h.xRel\x3e0))return h;e=F(g=j.to.line)}}function pc(a,b,c,d){var e=function(d){return ic(a,b,$b(a,c,d),\x22line\x22)},f=b.text.length,g=z(function(a){return e(a-1).bottom\x3c=d},f,0);return f=z(function(a){return e(a).top\x3ed},g,f),{begin:g,end:f}}function qc(a,b,c,d){var e=ic(a,b,$b(a,c,d),\x22line\x22).top;return pc(a,b,c,e)}function rc(a,b,c,d,e){e-=sa(b);var f,g=0,h=b.text.length,i=Zb(a,b),j=xa(b,a.doc.direction);if(j){if(a.options.lineWrapping){var k;k=pc(a,b,i,e),g=k.begin,h=k.end}f=new J(c,Math.floor(g+(h-g)/2));var l,m,n=lc(a,f,\x22line\x22,b,i).left,o=n\x3cd?1:-1,p=n-d,q=Math.ceil((h-g)/4);a:do{l=p,m=f;for(var r=0;r\x3cq;++r){var s=f;if(f=Ba(a,b,f,o),null==f||f.ch\x3cg||h\x3c=(\x22before\x22==f.sticky?f.ch-1:f.ch)){f=s;break a}}if(p=lc(a,f,\x22line\x22,b,i).left-d,q\x3e1){var t=Math.abs(p-l)/q;q=Math.min(q,Math.ceil(Math.abs(p)/t)),o=p\x3c0?1:-1}}while(0!=p&&(q\x3e1||o\x3c0!=p\x3c0&&Math.abs(p)\x3c=Math.abs(l)));if(Math.abs(p)\x3eMath.abs(l)){if(p\x3c0==l\x3c0)throw new Error(\x22Broke out of infinite loop in coordsCharInner\x22);f=m}}else{var u=z(function(c){var f=ic(a,b,$b(a,i,c),\x22line\x22);return f.top\x3ee?(h=Math.min(c,h),!0):!(f.bottom\x3c=e)&&(f.left\x3ed||!(f.right\x3cd)&&d-f.left\x3cf.right-d)},g,h);u=y(b.text,u,1),f=new J(c,u,u==h?\x22before\x22:\x22after\x22)}var v=lc(a,f,\x22line\x22,b,i);return(e\x3cv.top||v.bottom\x3ce)&&(f.outside=!0),f.xRel=d\x3cv.left?-1:d\x3ev.right?1:0,f}function sc(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==kh){kh=d(\x22pre\x22);for(var e=0;e\x3c49;++e)kh.appendChild(document.createTextNode(\x22x\x22)),kh.appendChild(d(\x22br\x22));kh.appendChild(document.createTextNode(\x22x\x22))}c(a.measure,kh);var f=kh.offsetHeight/50;return f\x3e3&&(a.cachedTextHeight=f),b(a.measure),f||1}function tc(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=d(\x22span\x22,\x22xxxxxxxxxx\x22),e=d(\x22pre\x22,[b]);c(a.measure,e);var f=b.getBoundingClientRect(),g=(f.right-f.left)/10;return g\x3e2&&(a.cachedCharWidth=g),g||10}function uc(a){for(var b=a.display,c={},d={},e=b.gutters.clientLeft,f=b.gutters.firstChild,g=0;f;f=f.nextSibling,++g)c[a.options.gutters[g]]=f.offsetLeft+f.clientLeft+e,d[a.options.gutters[g]]=f.clientWidth;return{fixedPos:vc(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function vc(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function wc(a){var b=sc(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/tc(a.display)-3);return function(e){if(qa(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g\x3ce.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function xc(a){var b=a.doc,c=wc(a);b.iter(function(a){var b=c(a);b!=a.height&&E(a,b)})}function yc(a,b,c,d){var e=a.display;if(!c&&\x22true\x22==Na(b).getAttribute(\x22cm-not-content\x22))return null;var f,g,h=e.lineSpace.getBoundingClientRect();try{f=b.clientX-h.left,g=b.clientY-h.top}catch(b){return null}var i,j=oc(a,f,g);if(d&&1==j.xRel&&(i=B(a.doc,j.line).text).length==j.ch){var k=l(i,i.length,a.options.tabSize)-i.length;j=J(j.line,Math.max(0,Math.round((f-Qb(a.display).left)/tc(a.display))-k))}return j}function zc(a,b){if(b\x3e=a.display.viewTo)return null;if(b-=a.display.viewFrom,b\x3c0)return null;for(var c=a.display.view,d=0;d\x3cc.length;d++)if(b-=c[d].size,b\x3c0)return d}function Ac(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Bc(a,b){for(var c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g\x3cc.sel.ranges.length;g++)if(b!==!1||g!=c.sel.primIndex){var h=c.sel.ranges[g];if(!(h.from().line\x3e=a.display.viewTo||h.to().line\x3ca.display.viewFrom)){var i=h.empty();(i||a.options.showCursorWhenSelecting)&&Cc(a,h.head,e),i||Ec(a,h,f)}}return d}function Cc(a,b,c){var e=lc(a,b,\x22div\x22,null,null,!a.options.singleCursorHeightPerLine),f=c.appendChild(d(\x22div\x22,\x22\x5cxa0\x22,\x22CodeMirror-cursor\x22));if(f.style.left=e.left+\x22px\x22,f.style.top=e.top+\x22px\x22,f.style.height=Math.max(0,e.bottom-e.top)*a.options.cursorHeight+\x22px\x22,e.other){var g=c.appendChild(d(\x22div\x22,\x22\x5cxa0\x22,\x22CodeMirror-cursor CodeMirror-secondarycursor\x22));g.style.display=\x22\x22,g.style.left=e.other.left+\x22px\x22,g.style.top=e.other.top+\x22px\x22,g.style.height=.85*(e.other.bottom-e.other.top)+\x22px\x22}}function Dc(a,b){return a.top-b.top||a.left-b.left}function Ec(a,b,c){\x0afunction e(a,b,c,e){b\x3c0&&(b=0),b=Math.round(b),e=Math.round(e),i.appendChild(d(\x22div\x22,null,\x22CodeMirror-selected\x22,\x22position: absolute; left: \x22+a+\x22px;\x5cn                             top: \x22+b+\x22px; width: \x22+(null==c?l-a:c)+\x22px;\x5cn                             height: \x22+(e-b)+\x22px\x22))}function f(b,c,d){function f(c,d){return kc(a,J(b,c),\x22div\x22,j,d)}var g,i,j=B(h,b),m=j.text.length;return va(xa(j,h.direction),c||0,null==d?m:d,function(a,b,h){var j,n;if(\x22ltr\x22==h){j=f(a,\x22left\x22),n=f(b-1,\x22right\x22);var o=null==c&&0==a?k:j.left,p=null==d&&b==m?l:n.right;n.top-j.top\x3c=3?e(o,n.top,p-o,n.bottom):(e(o,j.top,null,j.bottom),j.bottom\x3cn.top&&e(k,j.bottom,null,n.top),e(k,n.top,n.right,n.bottom))}else{j=f(a,\x22right\x22),n=f(b-1,\x22left\x22);var q=null==c&&0==a?l:j.right,r=null==d&&b==m?k:n.left;n.top-j.top\x3c=3?e(r,n.top,q-r,n.bottom):(e(k,j.top,q-k,j.bottom),j.bottom\x3cn.top&&e(k,j.bottom,null,n.top),e(r,n.top,null,n.bottom))}(!g||Dc(j,g)\x3c0)&&(g=j),Dc(n,g)\x3c0&&(g=n),(!i||Dc(j,i)\x3c0)&&(i=j),Dc(n,i)\x3c0&&(i=n)}),{start:g,end:i}}var g=a.display,h=a.doc,i=document.createDocumentFragment(),j=Qb(a.display),k=j.left,l=Math.max(g.sizerWidth,Sb(a)-g.sizer.offsetLeft)-j.right,m=b.from(),n=b.to();if(m.line==n.line)f(m.line,m.ch,n.ch);else{var o=B(h,m.line),p=B(h,n.line),q=la(o)==la(p),r=f(m.line,m.ch,q?o.text.length+1:null).end,s=f(n.line,q?0:null,n.ch).start;q&&(r.top\x3cs.top-2?(e(r.right,r.top,null,r.bottom),e(k,s.top,s.left,s.bottom)):e(r.right,r.top,s.left-r.right,r.bottom)),r.bottom\x3cs.top&&e(k,r.bottom,null,s.top)}c.appendChild(i)}function Fc(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility=\x22\x22,a.options.cursorBlinkRate\x3e0?b.blinker=setInterval(function(){return b.cursorDiv.style.visibility=(c=!c)?\x22\x22:\x22hidden\x22},a.options.cursorBlinkRate):a.options.cursorBlinkRate\x3c0&&(b.cursorDiv.style.visibility=\x22hidden\x22)}}function Gc(a){a.state.focused||(a.display.input.focus(),Ic(a))}function Hc(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,Jc(a))},100)}function Ic(a,b){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1),\x22nocursor\x22!=a.options.readOnly&&(a.state.focused||(Ea(a,\x22focus\x22,a,b),a.state.focused=!0,h(a.display.wrapper,\x22CodeMirror-focused\x22),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),pg&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Fc(a))}function Jc(a,b){a.state.delayingBlurEvent||(a.state.focused&&(Ea(a,\x22blur\x22,a,b),a.state.focused=!1,Gg(a.display.wrapper,\x22CodeMirror-focused\x22)),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Kc(a){for(var b=a.display,c=b.lineDiv.offsetTop,d=0;d\x3cb.view.length;d++){var e=b.view[d],f=void 0;if(!e.hidden){if(ng&&og\x3c8){var g=e.node.offsetTop+e.node.offsetHeight;f=g-c,c=g}else{var h=e.node.getBoundingClientRect();f=h.bottom-h.top}var i=e.line.height-f;if(f\x3c2&&(f=sc(b)),(i\x3e.005||i\x3c-.005)&&(E(e.line,f),Lc(e.line),e.rest))for(var j=0;j\x3ce.rest.length;j++)Lc(e.rest[j])}}}function Lc(a){if(a.widgets)for(var b=0;b\x3ca.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.parentNode.offsetHeight}function Mc(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-Ob(a));var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,f=G(b,d),g=G(b,e);if(c&&c.ensure){var h=c.ensure.from.line,i=c.ensure.to.line;h\x3cf?(f=h,g=G(b,sa(B(b,h))+a.wrapper.clientHeight)):Math.min(i,b.lastLine())\x3e=g&&(f=G(b,sa(B(b,i))-a.wrapper.clientHeight),g=i)}return{from:f,to:Math.max(g,f+1)}}function Nc(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=vc(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+\x22px\x22,g=0;g\x3cc.length;g++)if(!c[g].hidden){a.options.fixedGutter&&(c[g].gutter&&(c[g].gutter.style.left=f),c[g].gutterBackground&&(c[g].gutterBackground.style.left=f));var h=c[g].alignable;if(h)for(var i=0;i\x3ch.length;i++)h[i].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+\x22px\x22)}}function Oc(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=I(a.options,b.first+b.size-1),e=a.display;if(c.length!=e.lineNumChars){var f=e.measure.appendChild(d(\x22div\x22,[d(\x22div\x22,c)],\x22CodeMirror-linenumber CodeMirror-gutter-elt\x22)),g=f.firstChild.offsetWidth,h=f.offsetWidth-g;return e.lineGutter.style.width=\x22\x22,e.lineNumInnerWidth=Math.max(g,e.lineGutter.offsetWidth-h)+1,e.lineNumWidth=e.lineNumInnerWidth+h,e.lineNumChars=e.lineNumInnerWidth?c.length:-1,e.lineGutter.style.width=e.lineNumWidth+\x22px\x22,Fd(a),!0}return!1}function Pc(a,b){if(!Fa(a,\x22scrollCursorIntoView\x22)){var c=a.display,e=c.sizer.getBoundingClientRect(),f=null;if(b.top+e.top\x3c0?f=!0:b.bottom+e.top\x3e(window.innerHeight||document.documentElement.clientHeight)&&(f=!1),null!=f&&!vg){var g=d(\x22div\x22,\x22\x5cu200b\x22,null,\x22position: absolute;\x5cn                         top: \x22+(b.top-c.viewOffset-Ob(a.display))+\x22px;\x5cn                         height: \x22+(b.bottom-b.top+Rb(a)+c.barHeight)+\x22px;\x5cn                         left: \x22+b.left+\x22px; width: \x22+Math.max(2,b.right-b.left)+\x22px;\x22);a.display.lineSpace.appendChild(g),g.scrollIntoView(f),a.display.lineSpace.removeChild(g)}}}function Qc(a,b,c,d){null==d&&(d=0);var e;a.options.lineWrapping||b!=c||(b=b.ch?J(b.line,\x22before\x22==b.sticky?b.ch-1:b.ch,\x22after\x22):b,c=\x22before\x22==b.sticky?J(b.line,b.ch+1,\x22before\x22):b);for(var f=0;f\x3c5;f++){var g=!1,h=lc(a,b),i=c&&c!=b?lc(a,c):h;e={left:Math.min(h.left,i.left),top:Math.min(h.top,i.top)-d,right:Math.max(h.left,i.left),bottom:Math.max(h.bottom,i.bottom)+d};var j=Sc(a,e),k=a.doc.scrollTop,l=a.doc.scrollLeft;if(null!=j.scrollTop&&(Zc(a,j.scrollTop),Math.abs(a.doc.scrollTop-k)\x3e1&&(g=!0)),null!=j.scrollLeft&&(_c(a,j.scrollLeft),Math.abs(a.doc.scrollLeft-l)\x3e1&&(g=!0)),!g)break}return e}function Rc(a,b){var c=Sc(a,b);null!=c.scrollTop&&Zc(a,c.scrollTop),null!=c.scrollLeft&&_c(a,c.scrollLeft)}function Sc(a,b){var c=a.display,d=sc(a.display);b.top\x3c0&&(b.top=0);var e=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:c.scroller.scrollTop,f=Tb(a),g={};b.bottom-b.top\x3ef&&(b.bottom=b.top+f);var h=a.doc.height+Pb(c),i=b.top\x3cd,j=b.bottom\x3eh-d;if(b.top\x3ce)g.scrollTop=i?0:b.top;else if(b.bottom\x3ee+f){var k=Math.min(b.top,(j?h:b.bottom)-f);k!=e&&(g.scrollTop=k)}var l=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:c.scroller.scrollLeft,m=Sb(a)-(a.options.fixedGutter?c.gutters.offsetWidth:0),n=b.right-b.left\x3em;return n&&(b.right=b.left+m),b.left\x3c10?g.scrollLeft=0:b.left\x3cl?g.scrollLeft=Math.max(0,b.left-(n?0:10)):b.right\x3em+l-3&&(g.scrollLeft=b.right+(n?0:10)-m),g}function Tc(a,b){null!=b&&(Xc(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+b)}function Uc(a){Xc(a);var b=a.getCursor();a.curOp.scrollToPos={from:b,to:b,margin:a.options.cursorScrollMargin}}function Vc(a,b,c){null==b&&null==c||Xc(a),null!=b&&(a.curOp.scrollLeft=b),null!=c&&(a.curOp.scrollTop=c)}function Wc(a,b){Xc(a),a.curOp.scrollToPos=b}function Xc(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=mc(a,b.from),d=mc(a,b.to);Yc(a,c,d,b.margin)}}function Yc(a,b,c,d){var e=Sc(a,{left:Math.min(b.left,c.left),top:Math.min(b.top,c.top)-d,right:Math.max(b.right,c.right),bottom:Math.max(b.bottom,c.bottom)+d});Vc(a,e.scrollLeft,e.scrollTop)}function Zc(a,b){Math.abs(a.doc.scrollTop-b)\x3c2||(jg||Dd(a,{top:b}),$c(a,b,!0),jg&&Dd(a),wd(a,100))}function $c(a,b,c){b=Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,b),(a.display.scroller.scrollTop!=b||c)&&(a.doc.scrollTop=b,a.display.scrollbars.setScrollTop(b),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b))}function _c(a,b,c,d){b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)\x3c2)&&!d||(a.doc.scrollLeft=b,Nc(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}function ad(a){var b=a.display,c=b.gutters.offsetWidth,d=Math.round(a.doc.height+Pb(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+Rb(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:c}}function bd(a,b){b||(b=ad(a));var c=a.display.barWidth,d=a.display.barHeight;cd(a,b);for(var e=0;e\x3c4&&c!=a.display.barWidth||d!=a.display.barHeight;e++)c!=a.display.barWidth&&a.options.lineWrapping&&Kc(a),cd(a,ad(a)),c=a.display.barWidth,d=a.display.barHeight}function cd(a,b){var c=a.display,d=c.scrollbars.update(b);c.sizer.style.paddingRight=(c.barWidth=d.right)+\x22px\x22,c.sizer.style.paddingBottom=(c.barHeight=d.bottom)+\x22px\x22,c.heightForcer.style.borderBottom=d.bottom+\x22px solid transparent\x22,d.right&&d.bottom?(c.scrollbarFiller.style.display=\x22block\x22,c.scrollbarFiller.style.height=d.bottom+\x22px\x22,c.scrollbarFiller.style.width=d.right+\x22px\x22):c.scrollbarFiller.style.display=\x22\x22,d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display=\x22block\x22,c.gutterFiller.style.height=d.bottom+\x22px\x22,c.gutterFiller.style.width=b.gutterWidth+\x22px\x22):c.gutterFiller.style.display=\x22\x22}function dd(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&Gg(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new sh[a.options.scrollbarStyle](function(b){a.display.wrapper.insertBefore(b,a.display.scrollbarFiller),Yg(b,\x22mousedown\x22,function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),b.setAttribute(\x22cm-not-content\x22,\x22true\x22)},function(b,c){\x22horizontal\x22==c?_c(a,b):Zc(a,b)},a),a.display.scrollbars.addClass&&h(a.display.wrapper,a.display.scrollbars.addClass)}function ed(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++th},vb(a.curOp)}function fd(a){var b=a.curOp;xb(b,function(a){for(var b=0;b\x3ca.ops.length;b++)a.ops[b].cm.curOp=null;gd(a)})}function gd(a){for(var b=a.ops,c=0;c\x3cb.length;c++)hd(b[c]);for(var d=0;d\x3cb.length;d++)id(b[d]);for(var e=0;e\x3cb.length;e++)jd(b[e]);for(var f=0;f\x3cb.length;f++)kd(b[f]);for(var g=0;g\x3cb.length;g++)ld(b[g])}function hd(a){var b=a.cm,c=b.display;yd(b),a.updateMaxLine&&ua(b),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line\x3cc.viewFrom||a.scrollToPos.to.line\x3e=c.viewTo)||c.maxLineChanged&&b.options.lineWrapping,a.update=a.mustUpdate&&new uh(b,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function id(a){a.updatedDisplay=a.mustUpdate&&Bd(a.cm,a.update)}function jd(a){var b=a.cm,c=b.display;a.updatedDisplay&&Kc(b),a.barMeasure=ad(b),c.maxLineChanged&&!b.options.lineWrapping&&(a.adjustWidthTo=Xb(b,c.maxLine,c.maxLine.text.length).left+3,b.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+a.adjustWidthTo+Rb(b)+b.display.barWidth),a.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+a.adjustWidthTo-Sb(b))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=c.input.prepareSelection(a.focus))}function kd(a){var b=a.cm;null!=a.adjustWidthTo&&(b.display.sizer.style.minWidth=a.adjustWidthTo+\x22px\x22,a.maxScrollLeft\x3cb.doc.scrollLeft&&_c(b,Math.min(b.display.scroller.scrollLeft,a.maxScrollLeft),!0),b.display.maxLineChanged=!1);var c=a.focus&&a.focus==g()&&(!document.hasFocus||document.hasFocus());a.preparedSelection&&b.display.input.showSelection(a.preparedSelection,c),(a.updatedDisplay||a.startHeight!=b.doc.height)&&bd(b,a.barMeasure),a.updatedDisplay&&Gd(b,a.barMeasure),a.selectionChanged&&Fc(b),b.state.focused&&a.updateInput&&b.display.input.reset(a.typing),c&&Gc(a.cm)}function ld(a){var b=a.cm,c=b.display,d=b.doc;if(a.updatedDisplay&&Cd(b,a.update),null==c.wheelStartX||null==a.scrollTop&&null==a.scrollLeft&&!a.scrollToPos||(c.wheelStartX=c.wheelStartY=null),null!=a.scrollTop&&$c(b,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&_c(b,a.scrollLeft,!0,!0),a.scrollToPos){var e=Qc(b,Q(d,a.scrollToPos.from),Q(d,a.scrollToPos.to),a.scrollToPos.margin);Pc(b,e)}var f=a.maybeHiddenMarkers,g=a.maybeUnhiddenMarkers;if(f)for(var h=0;h\x3cf.length;++h)f[h].lines.length||Ea(f[h],\x22hide\x22);if(g)for(var i=0;i\x3cg.length;++i)g[i].lines.length&&Ea(g[i],\x22unhide\x22);c.wrapper.offsetHeight&&(d.scrollTop=b.display.scroller.scrollTop),a.changeObjs&&Ea(b,\x22changes\x22,b,a.changeObjs),a.update&&a.update.finish()}function md(a,b){if(a.curOp)return b();ed(a);try{return b()}finally{fd(a)}}function nd(a,b){return function(){if(a.curOp)return b.apply(a,arguments);ed(a);try{return b.apply(a,arguments)}finally{fd(a)}}}function od(a){return function(){if(this.curOp)return a.apply(this,arguments);ed(this);try{return a.apply(this,arguments)}finally{fd(this)}}}function pd(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);ed(b);try{return a.apply(this,arguments)}finally{fd(b)}}}function qd(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),d||(d=0);var e=a.display;if(d&&c\x3ce.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers\x3eb)&&(e.updateLineNumbers=b),a.curOp.viewChanged=!0,b\x3e=e.viewTo)Ug&&oa(a.doc,b)\x3ce.viewTo&&sd(a);else if(c\x3c=e.viewFrom)Ug&&pa(a.doc,c+d)\x3ee.viewFrom?sd(a):(e.viewFrom+=d,e.viewTo+=d);else if(b\x3c=e.viewFrom&&c\x3e=e.viewTo)sd(a);else if(b\x3c=e.viewFrom){var f=td(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):sd(a)}else if(c\x3e=e.viewTo){var g=td(a,b,b,-1);g?(e.view=e.view.slice(0,g.index),e.viewTo=g.lineN):sd(a)}else{var h=td(a,b,b,-1),i=td(a,c,c+d,1);h&&i?(e.view=e.view.slice(0,h.index).concat(ub(a,h.lineN,i.lineN)).concat(e.view.slice(i.index)),e.viewTo+=d):sd(a)}var j=e.externalMeasured;j&&(c\x3cj.lineN?j.lineN+=d:b\x3cj.lineN+j.size&&(e.externalMeasured=null))}function rd(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;if(e&&b\x3e=e.lineN&&b\x3ce.lineN+e.size&&(d.externalMeasured=null),!(b\x3cd.viewFrom||b\x3e=d.viewTo)){var f=d.view[zc(a,b)];if(null!=f.node){var g=f.changes||(f.changes=[]);m(g,c)==-1&&g.push(c)}}}function sd(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function td(a,b,c,d){var e,f=zc(a,b),g=a.display.view;if(!Ug||c==a.doc.first+a.doc.size)return{index:f,lineN:c};for(var h=a.display.viewFrom,i=0;i\x3cf;i++)h+=g[i].size;if(h!=b){if(d\x3e0){if(f==g.length-1)return null;e=h+g[f].size-b,f++}else e=h-b;b+=e,c+=e}for(;oa(a.doc,c)!=c;){if(f==(d\x3c0?0:g.length-1))return null;c+=d*g[f-(d\x3c0?1:0)].size,f+=d}return{index:f,lineN:c}}function ud(a,b,c){var d=a.display,e=d.view;0==e.length||b\x3e=d.viewTo||c\x3c=d.viewFrom?(d.view=ub(a,b,c),d.viewFrom=b):(d.viewFrom\x3eb?d.view=ub(a,b,d.viewFrom).concat(d.view):d.viewFrom\x3cb&&(d.view=d.view.slice(zc(a,b))),d.viewFrom=b,d.viewTo\x3cc?d.view=d.view.concat(ub(a,d.viewTo,c)):d.viewTo\x3ec&&(d.view=d.view.slice(0,zc(a,c)))),d.viewTo=c}function vd(a){for(var b=a.display.view,c=0,d=0;d\x3cb.length;d++){var e=b[d];e.hidden||e.node&&!e.changes||++c}return c}function wd(a,b){a.doc.highlightFrontier\x3ca.display.viewTo&&a.state.highlight.set(b,j(xd,a))}function xd(a){var b=a.doc;if(!(b.highlightFrontier\x3e=a.display.viewTo)){var c=+new Date+a.options.workTime,d=ab(a,b.highlightFrontier),e=[];b.iter(d.line,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(d.line\x3e=a.display.viewFrom){var g=f.styles,h=f.text.length\x3ea.options.maxHighlightLength?Xa(b.mode,d.state):null,i=$a(a,f,d,!0);h&&(d.state=h),f.styles=i.styles;var j=f.styleClasses,k=i.classes;k?f.styleClasses=k:j&&(f.styleClasses=null);for(var l=!g||g.length!=f.styles.length||j!=k&&(!j||!k||j.bgClass!=k.bgClass||j.textClass!=k.textClass),m=0;!l&&m\x3cg.length;++m)l=g[m]!=f.styles[m];l&&e.push(d.line),f.stateAfter=d.save(),d.nextLine()}else f.text.length\x3c=a.options.maxHighlightLength&&bb(a,f.text,d),f.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date\x3ec)return wd(a,a.options.workDelay),!0}),b.highlightFrontier=d.line,b.modeFrontier=Math.max(b.modeFrontier,d.line),e.length&&md(a,function(){for(var b=0;b\x3ce.length;b++)rd(a,e[b],\x22text\x22)})}}function yd(a){var b=a.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=Rb(a)+\x22px\x22,b.sizer.style.marginBottom=-b.nativeBarWidth+\x22px\x22,b.sizer.style.borderRightWidth=Rb(a)+\x22px\x22,b.scrollbarsClipped=!0)}function zd(a){if(a.hasFocus())return null;var b=g();if(!b||!f(a.display.lineDiv,b))return null;var c={activeElt:b};if(window.getSelection){var d=window.getSelection();d.anchorNode&&d.extend&&f(a.display.lineDiv,d.anchorNode)&&(c.anchorNode=d.anchorNode,c.anchorOffset=d.anchorOffset,c.focusNode=d.focusNode,c.focusOffset=d.focusOffset)}return c}function Ad(a){if(a&&a.activeElt&&a.activeElt!=g()&&(a.activeElt.focus(),a.anchorNode&&f(document.body,a.anchorNode)&&f(document.body,a.focusNode))){var b=window.getSelection(),c=document.createRange();c.setEnd(a.anchorNode,a.anchorOffset),c.collapse(!1),b.removeAllRanges(),b.addRange(c),b.extend(a.focusNode,a.focusOffset)}}function Bd(a,c){var d=a.display,e=a.doc;if(c.editorIsHidden)return sd(a),!1;if(!c.force&&c.visible.from\x3e=d.viewFrom&&c.visible.to\x3c=d.viewTo&&(null==d.updateLineNumbers||d.updateLineNumbers\x3e=d.viewTo)&&d.renderedView==d.view&&0==vd(a))return!1;Oc(a)&&(sd(a),c.dims=uc(a));var f=e.first+e.size,g=Math.max(c.visible.from-a.options.viewportMargin,e.first),h=Math.min(f,c.visible.to+a.options.viewportMargin);d.viewFrom\x3cg&&g-d.viewFrom\x3c20&&(g=Math.max(e.first,d.viewFrom)),d.viewTo\x3eh&&d.viewTo-h\x3c20&&(h=Math.min(f,d.viewTo)),Ug&&(g=oa(a.doc,g),h=pa(a.doc,h));var i=g!=d.viewFrom||h!=d.viewTo||d.lastWrapHeight!=c.wrapperHeight||d.lastWrapWidth!=c.wrapperWidth;ud(a,g,h),d.viewOffset=sa(B(a.doc,d.viewFrom)),a.display.mover.style.top=d.viewOffset+\x22px\x22;var j=vd(a);if(!i&&0==j&&!c.force&&d.renderedView==d.view&&(null==d.updateLineNumbers||d.updateLineNumbers\x3e=d.viewTo))return!1;var k=zd(a);return j\x3e4&&(d.lineDiv.style.display=\x22none\x22),Ed(a,d.updateLineNumbers,c.dims),j\x3e4&&(d.lineDiv.style.display=\x22\x22),d.renderedView=d.view,Ad(k),b(d.cursorDiv),b(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,i&&(d.lastWrapHeight=c.wrapperHeight,d.lastWrapWidth=c.wrapperWidth,wd(a,400)),d.updateLineNumbers=null,!0}function Cd(a,b){for(var c=b.viewport,d=!0;(d&&a.options.lineWrapping&&b.oldDisplayWidth!=Sb(a)||(c&&null!=c.top&&(c={top:Math.min(a.doc.height+Pb(a.display)-Tb(a),c.top)}),b.visible=Mc(a.display,a.doc,c),!(b.visible.from\x3e=a.display.viewFrom&&b.visible.to\x3c=a.display.viewTo)))&&Bd(a,b);d=!1){Kc(a);var e=ad(a);Ac(a),bd(a,e),Gd(a,e),b.force=!1}b.signal(a,\x22update\x22,a),a.display.viewFrom==a.display.reportedViewFrom&&a.display.viewTo==a.display.reportedViewTo||(b.signal(a,\x22viewportChange\x22,a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Dd(a,b){var c=new uh(a,b);if(Bd(a,c)){Kc(a),Cd(a,c);var d=ad(a);Ac(a),bd(a,d),Gd(a,d),c.finish()}}function Ed(a,c,d){function e(b){var c=b.nextSibling;return pg&&zg&&a.display.currentWheelTarget==b?b.style.display=\x22none\x22:b.parentNode.removeChild(b),c}for(var f=a.display,g=a.options.lineNumbers,h=f.lineDiv,i=h.firstChild,j=f.view,k=f.viewFrom,l=0;l\x3cj.length;l++){var n=j[l];if(n.hidden);else if(n.node&&n.node.parentNode==h){for(;i!=n.node;)i=e(i);var o=g&&null!=c&&c\x3c=k&&n.lineNumber;n.changes&&(m(n.changes,\x22gutter\x22)\x3e-1&&(o=!1),Ab(a,n,k,d)),o&&(b(n.lineNumber),n.lineNumber.appendChild(document.createTextNode(I(a.options,k)))),i=n.node.nextSibling}else{var p=Ib(a,n,k,d);h.insertBefore(p,i)}k+=n.size}for(;i;)i=e(i)}function Fd(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+\x22px\x22}function Gd(a,b){a.display.sizer.style.minHeight=b.docHeight+\x22px\x22,a.display.heightForcer.style.top=b.docHeight+\x22px\x22,a.display.gutters.style.height=b.docHeight+a.display.barHeight+Rb(a)+\x22px\x22}function Hd(a){var c=a.display.gutters,e=a.options.gutters;b(c);for(var f=0;f\x3ce.length;++f){var g=e[f],h=c.appendChild(d(\x22div\x22,null,\x22CodeMirror-gutter \x22+g));\x22CodeMirror-linenumbers\x22==g&&(a.display.lineGutter=h,h.style.width=(a.display.lineNumWidth||1)+\x22px\x22)}c.style.display=f?\x22\x22:\x22none\x22,Fd(a)}function Id(a){var b=m(a.gutters,\x22CodeMirror-linenumbers\x22);b==-1&&a.lineNumbers?a.gutters=a.gutters.concat([\x22CodeMirror-linenumbers\x22]):b\x3e-1&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function Jd(a){var b=a.wheelDeltaX,c=a.wheelDeltaY;return null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail),null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta),{x:b,y:c}}function Kd(a){var b=Jd(a);return b.x*=wh,b.y*=wh,b}function Ld(a,b){var c=Jd(b),d=c.x,e=c.y,f=a.display,g=f.scroller,h=g.scrollWidth\x3eg.clientWidth,i=g.scrollHeight\x3eg.clientHeight;if(d&&h||e&&i){if(e&&zg&&pg)a:for(var j=b.target,k=f.view;j!=g;j=j.parentNode)for(var l=0;l\x3ck.length;l++)if(k[l].node==j){a.display.currentWheelTarget=j;break a}if(d&&!jg&&!sg&&null!=wh)return e&&i&&Zc(a,Math.max(0,g.scrollTop+e*wh)),_c(a,Math.max(0,g.scrollLeft+d*wh)),(!e||e&&i)&&Ja(b),void(f.wheelStartX=null);if(e&&null!=wh){var m=e*wh,n=a.doc.scrollTop,o=n+f.wrapper.clientHeight;m\x3c0?n=Math.max(0,n+m-50):o=Math.min(a.doc.height,o+m+50),Dd(a,{top:n,bottom:o})}vh\x3c20&&(null==f.wheelStartX?(f.wheelStartX=g.scrollLeft,f.wheelStartY=g.scrollTop,f.wheelDX=d,f.wheelDY=e,setTimeout(function(){if(null!=f.wheelStartX){var a=g.scrollLeft-f.wheelStartX,b=g.scrollTop-f.wheelStartY,c=b&&f.wheelDY&&b/f.wheelDY||a&&f.wheelDX&&a/f.wheelDX;f.wheelStartX=f.wheelStartY=null,c&&(wh=(wh*vh+c)/(vh+1),++vh)}},200)):(f.wheelDX+=d,f.wheelDY+=e))}}function Md(a,b){var c=a[b];a.sort(function(a,b){return K(a.from(),b.from())}),b=m(a,c);for(var d=1;d\x3ca.length;d++){var e=a[d],f=a[d-1];if(K(f.to(),e.from())\x3e=0){var g=O(f.from(),e.from()),h=N(f.to(),e.to()),i=f.empty()?e.from()==e.head:f.from()==f.head;d\x3c=b&&--b,a.splice(--d,2,new yh(i?h:g,i?g:h))}}return new xh(a,b)}function Nd(a,b){return new xh([new yh(a,b||a)],0)}function Od(a){return a.text?J(a.from.line+a.text.length-1,p(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function Pd(a,b){if(K(a,b.from)\x3c0)return a;if(K(a,b.to)\x3c=0)return Od(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;return a.line==b.to.line&&(d+=Od(b).ch-b.to.ch),J(c,d)}function Qd(a,b){for(var c=[],d=0;d\x3ca.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new yh(Pd(e.anchor,b),Pd(e.head,b)))}return Md(c,a.sel.primIndex)}function Rd(a,b,c){return a.line==b.line?J(c.line,a.ch-b.ch+c.ch):J(c.line+(a.line-b.line),a.ch)}function Sd(a,b,c){for(var d=[],e=J(a.first,0),f=e,g=0;g\x3cb.length;g++){var h=b[g],i=Rd(h.from,e,f),j=Rd(Od(h),e,f);if(e=h.to,f=j,\x22around\x22==c){var k=a.sel.ranges[g],l=K(k.head,k.anchor)\x3c0;d[g]=new yh(l?j:i,l?i:j)}else d[g]=new yh(i,i)}return new xh(d,a.sel.primIndex)}function Td(a){a.doc.mode=Va(a.options,a.doc.modeOption),Ud(a)}function Ud(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,wd(a,100),a.state.modeGen++,a.curOp&&qd(a)}function Vd(a,b){return 0==b.from.ch&&0==b.to.ch&&\x22\x22==p(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Wd(a,b,c,d){function e(a){return c?c[a]:null}function f(a,c,e){jb(a,c,e,d),yb(a,\x22change\x22,a,b)}function g(a,b){for(var c=[],f=a;f\x3cb;++f)c.push(new jh(j[f],e(f),d));return c}var h=b.from,i=b.to,j=b.text,k=B(a,h.line),l=B(a,i.line),m=p(j),n=e(j.length-1),o=i.line-h.line;if(b.full)a.insert(0,g(0,j.length)),a.remove(j.length,a.size-j.length);else if(Vd(a,b)){var q=g(0,j.length-1);f(l,l.text,n),o&&a.remove(h.line,o),q.length&&a.insert(h.line,q)}else if(k==l)if(1==j.length)f(k,k.text.slice(0,h.ch)+m+k.text.slice(i.ch),n);else{var r=g(1,j.length-1);r.push(new jh(m+k.text.slice(i.ch),n,d)),f(k,k.text.slice(0,h.ch)+j[0],e(0)),a.insert(h.line+1,r)}else if(1==j.length)f(k,k.text.slice(0,h.ch)+j[0]+l.text.slice(i.ch),e(0)),a.remove(h.line+1,o);else{f(k,k.text.slice(0,h.ch)+j[0],e(0)),f(l,m+l.text.slice(i.ch),n);var s=g(1,j.length-1);o\x3e1&&a.remove(h.line+1,o-1),a.insert(h.line+1,s)}yb(a,\x22change\x22,a,b)}function Xd(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g\x3ca.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;c&&!i||(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function Yd(a,b){if(b.cm)throw new Error(\x22This document is already in use.\x22);a.doc=b,b.cm=a,xc(a),Td(a),Zd(a),a.options.lineWrapping||ua(a),a.options.mode=b.modeOption,qd(a)}function Zd(a){(\x22rtl\x22==a.doc.direction?h:Gg)(a.display.lineDiv,\x22CodeMirror-rtl\x22)}function $d(a){md(a,function(){Zd(a),qd(a)})}function _d(a){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a||1}function ae(a,b){var c={from:M(b.from),to:Od(b),text:C(a,b.from,b.to)};return he(a,c,b.from.line,b.to.line+1),Xd(a,function(a){return he(a,c,b.from.line,b.to.line+1)},!0),c}function be(a){for(;a.length;){var b=p(a);if(!b.ranges)break;a.pop()}}function ce(a,b){return b?(be(a.done),p(a.done)):a.done.length&&!p(a.done).ranges?p(a.done):a.done.length\x3e1&&!a.done[a.done.length-2].ranges?(a.done.pop(),p(a.done)):void 0}function de(a,b,c,d){var e=a.history;e.undone.length=0;var f,g,h=+new Date;if((e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&(\x22+\x22==b.origin.charAt(0)&&a.cm&&e.lastModTime\x3eh-a.cm.options.historyEventDelay||\x22*\x22==b.origin.charAt(0)))&&(f=ce(e,e.lastOp==d)))g=p(f.changes),0==K(b.from,b.to)&&0==K(b.from,g.to)?g.to=Od(b):f.changes.push(ae(a,b));else{var i=p(e.done);for(i&&i.ranges||ge(a.sel,e.done),f={changes:[ae(a,b)],generation:e.generation},e.done.push(f);e.done.length\x3ee.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c),e.generation=++e.maxGeneration,e.lastModTime=e.lastSelTime=h,e.lastOp=e.lastSelOp=d,e.lastOrigin=e.lastSelOrigin=b.origin,g||Ea(a,\x22historyAdded\x22)}function ee(a,b,c,d){var e=b.charAt(0);return\x22*\x22==e||\x22+\x22==e&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime\x3c=(a.cm?a.cm.options.historyEventDelay:500)}function fe(a,b,c,d){var e=a.history,f=d&&d.origin;c==e.lastSelOp||f&&e.lastSelOrigin==f&&(e.lastModTime==e.lastSelTime&&e.lastOrigin==f||ee(a,f,p(e.done),b))?e.done[e.done.length-1]=b:ge(b,e.done),e.lastSelTime=+new Date,e.lastSelOrigin=f,e.lastSelOp=c,d&&d.clearRedo!==!1&&be(e.undone)}function ge(a,b){var c=p(b);c&&c.ranges&&c.equals(a)||b.push(a)}function he(a,b,c,d){var e=b[\x22spans_\x22+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b[\x22spans_\x22+a.id]={}))[f]=c.markedSpans),++f})}function ie(a){if(!a)return null;for(var b,c=0;c\x3ca.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function je(a,b){var c=b[\x22spans_\x22+a.id];if(!c)return null;for(var d=[],e=0;e\x3cb.text.length;++e)d.push(ie(c[e]));return d}function ke(a,b){var c=je(a,b),d=_(a,b);if(!c)return d;if(!d)return c;for(var e=0;e\x3cc.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h\x3cg.length;++h){for(var i=g[h],j=0;j\x3cf.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function le(a,b,c){for(var d=[],e=0;e\x3ca.length;++e){var f=a[e];if(f.ranges)d.push(c?xh.prototype.deepCopy.call(f):f);else{var g=f.changes,h=[];d.push({changes:h});for(var i=0;i\x3cg.length;++i){var j=g[i],k=void 0;if(h.push({from:j.from,to:j.to,text:j.text}),b)for(var l in j)(k=l.match(/^spans_(\x5cd+)$/))&&m(b,Number(k[1]))\x3e-1&&(p(h)[l]=j[l],delete j[l])}}}return d}function me(a,b,c,d){if(d){var e=a.anchor;if(c){var f=K(b,e)\x3c0;f!=K(c,e)\x3c0?(e=b,b=c):f!=K(b,c)\x3c0&&(b=c)}return new yh(e,b)}return new yh(c||b,b)}function ne(a,b,c,d,e){null==e&&(e=a.cm&&(a.cm.display.shift||a.extend)),te(a,new xh([me(a.sel.primary(),b,c,e)],0),d)}function oe(a,b,c){for(var d=[],e=a.cm&&(a.cm.display.shift||a.extend),f=0;f\x3ca.sel.ranges.length;f++)d[f]=me(a.sel.ranges[f],b[f],null,e);var g=Md(d,a.sel.primIndex);te(a,g,c)}function pe(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c,te(a,Md(e,a.sel.primIndex),d)}function qe(a,b,c,d){te(a,Nd(b,c),d)}function re(a,b,c){var d={ranges:b.ranges,update:function(b){var c=this;this.ranges=[];for(var d=0;d\x3cb.length;d++)c.ranges[d]=new yh(Q(a,b[d].anchor),Q(a,b[d].head))},origin:c&&c.origin};return Ea(a,\x22beforeSelectionChange\x22,a,d),a.cm&&Ea(a.cm,\x22beforeSelectionChange\x22,a.cm,d),d.ranges!=b.ranges?Md(d.ranges,d.ranges.length-1):b}function se(a,b,c){var d=a.history.done,e=p(d);e&&e.ranges?(d[d.length-1]=b,ue(a,b,c)):te(a,b,c)}function te(a,b,c){ue(a,b,c),fe(a,a.sel,a.cm?a.cm.curOp.id:NaN,c)}function ue(a,b,c){(Ha(a,\x22beforeSelectionChange\x22)||a.cm&&Ha(a.cm,\x22beforeSelectionChange\x22))&&(b=re(a,b,c));var d=c&&c.bias||(K(b.primary().head,a.sel.primary().head)\x3c0?-1:1);ve(a,xe(a,b,d,!0)),c&&c.scroll===!1||!a.cm||Uc(a.cm)}function ve(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,Ga(a.cm)),yb(a,\x22cursorActivity\x22,a))}function we(a){ve(a,xe(a,a.sel,null,!1))}function xe(a,b,c,d){for(var e,f=0;f\x3cb.ranges.length;f++){var g=b.ranges[f],h=b.ranges.length==a.sel.ranges.length&&a.sel.ranges[f],i=ze(a,g.anchor,h&&h.anchor,c,d),j=ze(a,g.head,h&&h.head,c,d);(e||i!=g.anchor||j!=g.head)&&(e||(e=b.ranges.slice(0,f)),e[f]=new yh(i,j))}return e?Md(e,b.primIndex):b}function ye(a,b,c,d,e){var f=B(a,b.line);if(f.markedSpans)for(var g=0;g\x3cf.markedSpans.length;++g){var h=f.markedSpans[g],i=h.marker;if((null==h.from||(i.inclusiveLeft?h.from\x3c=b.ch:h.from\x3cb.ch))&&(null==h.to||(i.inclusiveRight?h.to\x3e=b.ch:h.to\x3eb.ch))){if(e&&(Ea(i,\x22beforeCursorEnter\x22),i.explicitlyCleared)){if(f.markedSpans){--g;continue}break}if(!i.atomic)continue;if(c){var j=i.find(d\x3c0?1:-1),k=void 0;if((d\x3c0?i.inclusiveRight:i.inclusiveLeft)&&(j=Ae(a,j,-d,j&&j.line==b.line?f:null)),j&&j.line==b.line&&(k=K(j,c))&&(d\x3c0?k\x3c0:k\x3e0))return ye(a,j,b,d,e)}var l=i.find(d\x3c0?-1:1);return(d\x3c0?i.inclusiveLeft:i.inclusiveRight)&&(l=Ae(a,l,d,l.line==b.line?f:null)),l?ye(a,l,b,d,e):null}}return b}function ze(a,b,c,d,e){var f=d||1,g=ye(a,b,c,f,e)||!e&&ye(a,b,c,f,!0)||ye(a,b,c,-f,e)||!e&&ye(a,b,c,-f,!0);return g?g:(a.cantEdit=!0,J(a.first,0))}function Ae(a,b,c,d){return c\x3c0&&0==b.ch?b.line\x3ea.first?Q(a,J(b.line-1)):null:c\x3e0&&b.ch==(d||B(a,b.line)).text.length?b.line\x3ca.first+a.size-1?J(b.line+1,0):null:new J(b.line,b.ch+c)}function Be(a){a.setSelection(J(a.firstLine(),0),J(a.lastLine()),Ng)}function Ce(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){return d.canceled=!0}};return c&&(d.update=function(b,c,e,f){b&&(d.from=Q(a,b)),c&&(d.to=Q(a,c)),e&&(d.text=e),void 0!==f&&(d.origin=f)}),Ea(a,\x22beforeChange\x22,a,d),a.cm&&Ea(a.cm,\x22beforeChange\x22,a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function De(a,b,c){if(a.cm){if(!a.cm.curOp)return nd(a.cm,De)(a,b,c);if(a.cm.state.suppressEdits)return}if(!(Ha(a,\x22beforeChange\x22)||a.cm&&Ha(a.cm,\x22beforeChange\x22))||(b=Ce(a,b,!0))){var d=Tg&&!c&&ba(a,b.from,b.to);if(d)for(var e=d.length-1;e\x3e=0;--e)Ee(a,{from:d[e].from,to:d[e].to,text:e?[\x22\x22]:b.text,origin:b.origin});else Ee(a,b)}}function Ee(a,b){if(1!=b.text.length||\x22\x22!=b.text[0]||0!=K(b.from,b.to)){var c=Qd(a,b);de(a,b,c,a.cm?a.cm.curOp.id:NaN),He(a,b,c,_(a,b));var d=[];Xd(a,function(a,c){c||m(d,a.history)!=-1||(Me(a.history,b),d.push(a.history)),He(a,b,null,_(a,b))})}}function Fe(a,b,c){if(!a.cm||!a.cm.state.suppressEdits||c){for(var d,e=a.history,f=a.sel,g=\x22undo\x22==b?e.done:e.undone,h=\x22undo\x22==b?e.undone:e.done,i=0;i\x3cg.length&&(d=g[i],c?!d.ranges||d.equals(a.sel):d.ranges);i++);if(i!=g.length){for(e.lastOrigin=e.lastSelOrigin=null;d=g.pop(),d.ranges;){if(ge(d,h),c&&!d.equals(a.sel))return void te(a,d,{clearRedo:!1});f=d}var j=[];ge(f,h),h.push({changes:j,generation:e.generation}),e.generation=d.generation||++e.maxGeneration;for(var k=Ha(a,\x22beforeChange\x22)||a.cm&&Ha(a.cm,\x22beforeChange\x22),l=function(c){var e=d.changes[c];if(e.origin=b,\x0ak&&!Ce(a,e,!1))return g.length=0,{};j.push(ae(a,e));var f=c?Qd(a,e):p(g);He(a,e,f,ke(a,e)),!c&&a.cm&&a.cm.scrollIntoView({from:e.from,to:Od(e)});var h=[];Xd(a,function(a,b){b||m(h,a.history)!=-1||(Me(a.history,e),h.push(a.history)),He(a,e,null,ke(a,e))})},n=d.changes.length-1;n\x3e=0;--n){var o=l(n);if(o)return o.v}}}}function Ge(a,b){if(0!=b&&(a.first+=b,a.sel=new xh(q(a.sel.ranges,function(a){return new yh(J(a.anchor.line+b,a.anchor.ch),J(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){qd(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d\x3cc.viewTo;d++)rd(a.cm,d,\x22gutter\x22)}}function He(a,b,c,d){if(a.cm&&!a.cm.curOp)return nd(a.cm,He)(a,b,c,d);if(b.to.line\x3ca.first)return void Ge(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line\x3ea.lastLine())){if(b.from.line\x3ca.first){var e=b.text.length-1-(a.first-b.from.line);Ge(a,e),b={from:J(a.first,0),to:J(b.to.line+e,b.to.ch),text:[p(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line\x3ef&&(b={from:b.from,to:J(f,B(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=C(a,b.from,b.to),c||(c=Qd(a,b)),a.cm?Ie(a.cm,b,d):Wd(a,b,d),ue(a,c,Ng)}}function Ie(a,b,c){var d=a.doc,e=a.display,f=b.from,g=b.to,h=!1,i=f.line;a.options.lineWrapping||(i=F(la(B(d,f.line))),d.iter(i,g.line+1,function(a){if(a==e.maxLine)return h=!0,!0})),d.sel.contains(b.from,b.to)\x3e-1&&Ga(a),Wd(d,b,c,wc(a)),a.options.lineWrapping||(d.iter(i,f.line+b.text.length,function(a){var b=ta(a);b\x3ee.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,h=!1)}),h&&(a.curOp.updateMaxLine=!0)),ib(d,f.line),wd(a,400);var j=b.text.length-(g.line-f.line)-1;b.full?qd(a):f.line!=g.line||1!=b.text.length||Vd(a.doc,b)?qd(a,f.line,g.line+1,j):rd(a,f.line,\x22text\x22);var k=Ha(a,\x22changes\x22),l=Ha(a,\x22change\x22);if(l||k){var m={from:f,to:g,text:b.text,removed:b.removed,origin:b.origin};l&&yb(a,\x22change\x22,a,m),k&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(m)}a.display.selForContextMenu=null}function Je(a,b,c,d,e){if(d||(d=c),K(d,c)\x3c0){var f=d;d=c,c=f}\x22string\x22==typeof b&&(b=a.splitLines(b)),De(a,{from:c,to:d,text:b,origin:e})}function Ke(a,b,c,d){c\x3ca.line?a.line+=d:b\x3ca.line&&(a.line=b,a.ch=0)}function Le(a,b,c,d){for(var e=0;e\x3ca.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h\x3cf.ranges.length;h++)Ke(f.ranges[h].anchor,b,c,d),Ke(f.ranges[h].head,b,c,d)}else{for(var i=0;i\x3cf.changes.length;++i){var j=f.changes[i];if(c\x3cj.from.line)j.from=J(j.from.line+d,j.from.ch),j.to=J(j.to.line+d,j.to.ch);else if(b\x3c=j.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function Me(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;Le(a.done,c,d,e),Le(a.undone,c,d,e)}function Ne(a,b,c,d){var e=b,f=b;return\x22number\x22==typeof b?f=B(a,P(a,b)):e=F(b),null==e?null:(d(f,e)&&a.cm&&rd(a.cm,e,c),f)}function Oe(a){var b=this;this.lines=a,this.parent=null;for(var c=0,d=0;d\x3ca.length;++d)a[d].parent=b,c+=a[d].height;this.height=c}function Pe(a){var b=this;this.children=a;for(var c=0,d=0,e=0;e\x3ca.length;++e){var f=a[e];c+=f.chunkSize(),d+=f.height,f.parent=b}this.size=c,this.height=d,this.parent=null}function Qe(a,b,c){sa(b)\x3c(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Tc(a,c)}function Re(a,b,c,d){var e=new zh(a,c,d),f=a.cm;return f&&e.noHScroll&&(f.display.alignWidgets=!0),Ne(a,b,\x22widget\x22,function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,f&&!qa(a,b)){var d=sa(b)\x3ca.scrollTop;E(b,b.height+Mb(e)),d&&Tc(f,e.height),f.curOp.forceUpdate=!0}return!0}),yb(f,\x22lineWidgetAdded\x22,f,e,\x22number\x22==typeof b?b:F(b)),e}function Se(a,b,c,d,f){if(d&&d.shared)return Te(a,b,c,d,f);if(a.cm&&!a.cm.curOp)return nd(a.cm,Se)(a,b,c,d,f);var g=new Bh(a,f),h=K(b,c);if(d&&k(d,g,!1),h\x3e0||0==h&&g.clearWhenEmpty!==!1)return g;if(g.replacedWith&&(g.collapsed=!0,g.widgetNode=e(\x22span\x22,[g.replacedWith],\x22CodeMirror-widget\x22),d.handleMouseEvents||g.widgetNode.setAttribute(\x22cm-ignore-events\x22,\x22true\x22),d.insertLeft&&(g.widgetNode.insertLeft=!0)),g.collapsed){if(ka(a,b.line,b,c,g)||b.line!=c.line&&ka(a,c.line,b,c,g))throw new Error(\x22Inserting collapsed marker partially overlapping an existing one\x22);U()}g.addToHistory&&de(a,{from:b,to:c,origin:\x22markText\x22},a.sel,NaN);var i,j=b.line,l=a.cm;if(a.iter(j,c.line+1,function(a){l&&g.collapsed&&!l.options.lineWrapping&&la(a)==l.display.maxLine&&(i=!0),g.collapsed&&j!=b.line&&E(a,0),Y(a,new V(g,j==b.line?b.ch:null,j==c.line?c.ch:null)),++j}),g.collapsed&&a.iter(b.line,c.line+1,function(b){qa(a,b)&&E(b,0)}),g.clearOnEnter&&Yg(g,\x22beforeCursorEnter\x22,function(){return g.clear()}),g.readOnly&&(T(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),g.collapsed&&(g.id=++Ah,g.atomic=!0),l){if(i&&(l.curOp.updateMaxLine=!0),g.collapsed)qd(l,b.line,c.line+1);else if(g.className||g.title||g.startStyle||g.endStyle||g.css)for(var m=b.line;m\x3c=c.line;m++)rd(l,m,\x22text\x22);g.atomic&&we(l.doc),yb(l,\x22markerAdded\x22,l,g)}return g}function Te(a,b,c,d,e){d=k(d),d.shared=!1;var f=[Se(a,b,c,d,e)],g=f[0],h=d.widgetNode;return Xd(a,function(a){h&&(d.widgetNode=h.cloneNode(!0)),f.push(Se(a,Q(a,b),Q(a,c),d,e));for(var i=0;i\x3ca.linked.length;++i)if(a.linked[i].isParent)return;g=p(f)}),new Ch(f,g)}function Ue(a){return a.findMarks(J(a.first,0),a.clipPos(J(a.lastLine())),function(a){return a.parent})}function Ve(a,b){for(var c=0;c\x3cb.length;c++){var d=b[c],e=d.find(),f=a.clipPos(e.from),g=a.clipPos(e.to);if(K(f,g)){var h=Se(a,f,g,d.primary,d.primary.type);d.markers.push(h),h.parent=d}}}function We(a){for(var b=function(b){var c=a[b],d=[c.primary.doc];Xd(c.primary.doc,function(a){return d.push(a)});for(var e=0;e\x3cc.markers.length;e++){var f=c.markers[e];m(d,f.doc)==-1&&(f.parent=null,c.markers.splice(e--,1))}},c=0;c\x3ca.length;c++)b(c)}function Xe(a){var b=this;if($e(b),!Fa(b,a)&&!Nb(b.display,a)){Ja(a),ng&&(Fh=+new Date);var c=yc(b,a,!0),d=a.dataTransfer.files;if(c&&!b.isReadOnly())if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=function(a,d){if(!b.options.allowDropFileTypes||m(b.options.allowDropFileTypes,a.type)!=-1){var h=new FileReader;h.onload=nd(b,function(){var a=h.result;if(/[\x5cx00-\x5cx08\x5cx0e-\x5cx1f]{2}/.test(a)&&(a=\x22\x22),f[d]=a,++g==e){c=Q(b.doc,c);var i={from:c,to:c,text:b.doc.splitLines(f.join(b.doc.lineSeparator())),origin:\x22paste\x22};De(b.doc,i),se(b.doc,Nd(c,Od(i)))}}),h.readAsText(a)}},i=0;i\x3ce;++i)h(d[i],i);else{if(b.state.draggingText&&b.doc.sel.contains(c)\x3e-1)return b.state.draggingText(a),void setTimeout(function(){return b.display.input.focus()},20);try{var j=a.dataTransfer.getData(\x22Text\x22);if(j){var k;if(b.state.draggingText&&!b.state.draggingText.copy&&(k=b.listSelections()),ue(b.doc,Nd(c,c)),k)for(var l=0;l\x3ck.length;++l)Je(b.doc,\x22\x22,k[l].anchor,k[l].head,\x22drag\x22);b.replaceSelection(j,\x22around\x22,\x22paste\x22),b.display.input.focus()}}catch(a){}}}}function Ye(a,b){if(ng&&(!a.state.draggingText||+new Date-Fh\x3c100))return void Ma(b);if(!Fa(a,b)&&!Nb(a.display,b)&&(b.dataTransfer.setData(\x22Text\x22,a.getSelection()),b.dataTransfer.effectAllowed=\x22copyMove\x22,b.dataTransfer.setDragImage&&!tg)){var c=d(\x22img\x22,null,null,\x22position: fixed; left: 0; top: 0;\x22);c.src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22,sg&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop),b.dataTransfer.setDragImage(c,0,0),sg&&c.parentNode.removeChild(c)}}function Ze(a,b){var e=yc(a,b);if(e){var f=document.createDocumentFragment();Cc(a,e,f),a.display.dragCursor||(a.display.dragCursor=d(\x22div\x22,null,\x22CodeMirror-cursors CodeMirror-dragcursors\x22),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),c(a.display.dragCursor,f)}}function $e(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function _e(a){if(document.getElementsByClassName)for(var b=document.getElementsByClassName(\x22CodeMirror\x22),c=0;c\x3cb.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function af(){Gh||(bf(),Gh=!0)}function bf(){var a;Yg(window,\x22resize\x22,function(){null==a&&(a=setTimeout(function(){a=null,_e(cf)},100))}),Yg(window,\x22blur\x22,function(){return _e(Jc)})}function cf(a){var b=a.display;b.lastWrapHeight==b.wrapper.clientHeight&&b.lastWrapWidth==b.wrapper.clientWidth||(b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize())}function df(a){var b=a.split(/-(?!$)/);a=b[b.length-1];for(var c,d,e,f,g=0;g\x3cb.length-1;g++){var h=b[g];if(/^(cmd|meta|m)$/i.test(h))f=!0;else if(/^a(lt)?$/i.test(h))c=!0;else if(/^(c|ctrl|control)$/i.test(h))d=!0;else{if(!/^s(hift)?$/i.test(h))throw new Error(\x22Unrecognized modifier name: \x22+h);e=!0}}return c&&(a=\x22Alt-\x22+a),d&&(a=\x22Ctrl-\x22+a),f&&(a=\x22Cmd-\x22+a),e&&(a=\x22Shift-\x22+a),a}function ef(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if(\x22...\x22==d){delete a[c];continue}for(var e=q(c.split(\x22 \x22),df),f=0;f\x3ce.length;f++){var g=void 0,h=void 0;f==e.length-1?(h=e.join(\x22 \x22),g=d):(h=e.slice(0,f+1).join(\x22 \x22),g=\x22...\x22);var i=b[h];if(i){if(i!=g)throw new Error(\x22Inconsistent bindings for \x22+h)}else b[h]=g}delete a[c]}for(var j in b)a[j]=b[j];return a}function ff(a,b,c,d){b=kf(b);var e=b.call?b.call(a,d):b[a];if(e===!1)return\x22nothing\x22;if(\x22...\x22===e)return\x22multi\x22;if(null!=e&&c(e))return\x22handled\x22;if(b.fallthrough){if(\x22[object Array]\x22!=Object.prototype.toString.call(b.fallthrough))return ff(a,b.fallthrough,c,d);for(var f=0;f\x3cb.fallthrough.length;f++){var g=ff(a,b.fallthrough[f],c,d);if(g)return g}}}function gf(a){var b=\x22string\x22==typeof a?a:Hh[a.keyCode];return\x22Ctrl\x22==b||\x22Alt\x22==b||\x22Shift\x22==b||\x22Mod\x22==b}function hf(a,b,c){var d=a;return b.altKey&&\x22Alt\x22!=d&&(a=\x22Alt-\x22+a),(Eg?b.metaKey:b.ctrlKey)&&\x22Ctrl\x22!=d&&(a=\x22Ctrl-\x22+a),(Eg?b.ctrlKey:b.metaKey)&&\x22Cmd\x22!=d&&(a=\x22Cmd-\x22+a),!c&&b.shiftKey&&\x22Shift\x22!=d&&(a=\x22Shift-\x22+a),a}function jf(a,b){if(sg&&34==a.keyCode&&a[\x22char\x22])return!1;var c=Hh[a.keyCode];return null!=c&&!a.altGraphKey&&hf(c,a,b)}function kf(a){return\x22string\x22==typeof a?Lh[a]:a}function lf(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e\x3cc.length;e++){for(var f=b(c[e]);d.length&&K(f.from,p(d).to)\x3c=0;){var g=d.pop();if(K(g.from,f.from)\x3c0){f.from=g.from;break}}d.push(f)}md(a,function(){for(var b=d.length-1;b\x3e=0;b--)Je(a.doc,\x22\x22,d[b].from,d[b].to,\x22+delete\x22);Uc(a)})}function mf(a,b){var c=B(a.doc,b),d=la(c);return d!=c&&(b=F(d)),Aa(!0,a,d,b,1)}function nf(a,b){var c=B(a.doc,b),d=ma(c);return d!=c&&(b=F(d)),Aa(!0,a,c,b,-1)}function of(a,b){var c=mf(a,b.line),d=B(a.doc,c.line),e=xa(d,a.doc.direction);if(!e||0==e[0].level){var f=Math.max(0,d.text.search(/\x5cS/)),g=b.line==c.line&&b.ch\x3c=f&&b.ch;return J(c.line,g?0:f,c.sticky)}return c}function pf(a,b,c){if(\x22string\x22==typeof b&&(b=Mh[b],!b))return!1;a.display.input.ensurePolled();var d=a.display.shift,e=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=Mg}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function qf(a,b,c){for(var d=0;d\x3ca.state.keyMaps.length;d++){var e=ff(b,a.state.keyMaps[d],c,a);if(e)return e}return a.options.extraKeys&&ff(b,a.options.extraKeys,c,a)||ff(b,a.options.keyMap,c,a)}function rf(a,b,c,d){var e=a.state.keySeq;if(e){if(gf(b))return\x22handled\x22;Nh.set(50,function(){a.state.keySeq==e&&(a.state.keySeq=null,a.display.input.reset())}),b=e+\x22 \x22+b}var f=qf(a,b,d);return\x22multi\x22==f&&(a.state.keySeq=b),\x22handled\x22==f&&yb(a,\x22keyHandled\x22,a,b,c),\x22handled\x22!=f&&\x22multi\x22!=f||(Ja(c),Fc(a)),e&&!f&&/\x5c\x27$/.test(b)?(Ja(c),!0):!!f}function sf(a,b){var c=jf(b,!0);return!!c&&(b.shiftKey&&!a.state.keySeq?rf(a,\x22Shift-\x22+c,b,function(b){return pf(a,b,!0)})||rf(a,c,b,function(b){if(\x22string\x22==typeof b?/^go[A-Z]/.test(b):b.motion)return pf(a,b)}):rf(a,c,b,function(b){return pf(a,b)}))}function tf(a,b,c){return rf(a,\x22\x27\x22+c+\x22\x27\x22,b,function(b){return pf(a,b,!0)})}function uf(a){var b=this;if(b.curOp.focus=g(),!Fa(b,a)){ng&&og\x3c11&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.display.shift=16==c||a.shiftKey;var d=sf(b,a);sg&&(Oh=d?c:null,!d&&88==c&&!ah&&(zg?a.metaKey:a.ctrlKey)&&b.replaceSelection(\x22\x22,null,\x22cut\x22)),18!=c||/\x5cbCodeMirror-crosshair\x5cb/.test(b.display.lineDiv.className)||vf(b)}}function vf(a){function b(a){18!=a.keyCode&&a.altKey||(Gg(c,\x22CodeMirror-crosshair\x22),Da(document,\x22keyup\x22,b),Da(document,\x22mouseover\x22,b))}var c=a.display.lineDiv;h(c,\x22CodeMirror-crosshair\x22),Yg(document,\x22keyup\x22,b),Yg(document,\x22mouseover\x22,b)}function wf(a){16==a.keyCode&&(this.doc.sel.shift=!1),Fa(this,a)}function xf(a){var b=this;if(!(Nb(b.display,a)||Fa(b,a)||a.ctrlKey&&!a.altKey||zg&&a.metaKey)){var c=a.keyCode,d=a.charCode;if(sg&&c==Oh)return Oh=null,void Ja(a);if(!sg||a.which&&!(a.which\x3c10)||!sf(b,a)){var e=String.fromCharCode(null==d?c:d);\x22\x5cb\x22!=e&&(tf(b,a,e)||b.display.input.onKeyPress(a))}}}function yf(a,b){var c=+new Date;return Sh&&Sh.compare(c,a,b)?(Rh=Sh=null,\x22triple\x22):Rh&&Rh.compare(c,a,b)?(Sh=new Qh(c,a,b),Rh=null,\x22double\x22):(Rh=new Qh(c,a,b),Sh=null,\x22single\x22)}function zf(a){var b=this,c=b.display;if(!(Fa(b,a)||c.activeTouch&&c.input.supportsTouch())){if(c.input.ensurePolled(),c.shift=a.shiftKey,Nb(c,a))return void(pg||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100)));if(!Hf(b,a)){var d=yc(b,a),e=Oa(a),f=d?yf(d,e):\x22single\x22;window.focus(),1==e&&b.state.selectingText&&b.state.selectingText(a),d&&Af(b,e,d,f,a)||(1==e?d?Cf(b,d,f,a):Na(a)==c.scroller&&Ja(a):2==e?(d&&ne(b.doc,d),setTimeout(function(){return c.input.focus()},20)):3==e&&(Fg?If(b,a):Hc(b)))}}}function Af(a,b,c,d,e){var f=\x22Click\x22;return\x22double\x22==d?f=\x22Double\x22+f:\x22triple\x22==d&&(f=\x22Triple\x22+f),f=(1==b?\x22Left\x22:2==b?\x22Middle\x22:\x22Right\x22)+f,rf(a,hf(f,e),e,function(b){if(\x22string\x22==typeof b&&(b=Mh[b]),!b)return!1;var d=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),d=b(a,c)!=Mg}finally{a.state.suppressEdits=!1}return d})}function Bf(a,b,c){var d=a.getOption(\x22configureMouse\x22),e=d?d(a,b,c):{};if(null==e.unit){var f=Ag?c.shiftKey&&c.metaKey:c.altKey;e.unit=f?\x22rectangle\x22:\x22single\x22==b?\x22char\x22:\x22double\x22==b?\x22word\x22:\x22line\x22}return(null==e.extend||a.doc.extend)&&(e.extend=a.doc.extend||c.shiftKey),null==e.addNew&&(e.addNew=zg?c.metaKey:c.ctrlKey),null==e.moveOnDrag&&(e.moveOnDrag=!(zg?c.altKey:c.ctrlKey)),e}function Cf(a,b,c,d){ng?setTimeout(j(Gc,a),0):a.curOp.focus=g();var e,f=Bf(a,c,d),h=a.doc.sel;a.options.dragDrop&&Zg&&!a.isReadOnly()&&\x22single\x22==c&&(e=h.contains(b))\x3e-1&&(K((e=h.ranges[e]).from(),b)\x3c0||b.xRel\x3e0)&&(K(e.to(),b)\x3e0||b.xRel\x3c0)?Df(a,d,b,f):Ff(a,d,b,f)}function Df(a,b,c,d){var e=a.display,f=!1,g=nd(a,function(b){pg&&(e.scroller.draggable=!1),a.state.draggingText=!1,Da(document,\x22mouseup\x22,g),Da(document,\x22mousemove\x22,h),Da(e.scroller,\x22dragstart\x22,i),Da(e.scroller,\x22drop\x22,g),f||(Ja(b),d.addNew||ne(a.doc,c,null,null,d.extend),pg||ng&&9==og?setTimeout(function(){document.body.focus(),e.input.focus()},20):e.input.focus())}),h=function(a){f=f||Math.abs(b.clientX-a.clientX)+Math.abs(b.clientY-a.clientY)\x3e=10},i=function(){return f=!0};pg&&(e.scroller.draggable=!0),a.state.draggingText=g,g.copy=!d.moveOnDrag,e.scroller.dragDrop&&e.scroller.dragDrop(),Yg(document,\x22mouseup\x22,g),Yg(document,\x22mousemove\x22,h),Yg(e.scroller,\x22dragstart\x22,i),Yg(e.scroller,\x22drop\x22,g),Hc(a),setTimeout(function(){return e.input.focus()},20)}function Ef(a,b,c){if(\x22char\x22==c)return new yh(b,b);if(\x22word\x22==c)return a.findWordAt(b);if(\x22line\x22==c)return new yh(J(b.line,0),Q(a.doc,J(b.line+1,0)));var d=c(a,b);return new yh(d.from,d.to)}function Ff(a,b,c,d){function e(b){if(0!=K(r,b))if(r=b,\x22rectangle\x22==d.unit){for(var e=[],f=a.options.tabSize,g=l(B(j,c.line).text,c.ch,f),h=l(B(j,b.line).text,b.ch,f),i=Math.min(g,h),p=Math.max(g,h),q=Math.min(c.line,b.line),s=Math.min(a.lastLine(),Math.max(c.line,b.line));q\x3c=s;q++){var t=B(j,q).text,u=n(t,i,f);i==p?e.push(new yh(J(q,u),J(q,u))):t.length\x3eu&&e.push(new yh(J(q,u),J(q,n(t,p,f))))}e.length||e.push(new yh(c,c)),te(j,Md(o.ranges.slice(0,m).concat(e),m),{origin:\x22*mouse\x22,scroll:!1}),a.scrollIntoView(b)}else{var v,w=k,x=Ef(a,b,d.unit),y=w.anchor;K(x.anchor,y)\x3e0?(v=x.head,y=O(w.from(),x.anchor)):(v=x.anchor,y=N(w.to(),x.head));var z=o.ranges.slice(0);z[m]=new yh(Q(j,y),v),te(j,Md(z,m),Og)}}function f(b){var c=++t,h=yc(a,b,!0,\x22rectangle\x22==d.unit);if(h)if(0!=K(h,r)){a.curOp.focus=g(),e(h);var k=Mc(i,j);(h.line\x3e=k.to||h.line\x3ck.from)&&setTimeout(nd(a,function(){t==c&&f(b)}),150)}else{var l=b.clientY\x3cs.top?-20:b.clientY\x3es.bottom?20:0;l&&setTimeout(nd(a,function(){t==c&&(i.scroller.scrollTop+=l,f(b))}),50)}}function h(b){a.state.selectingText=!1,t=1/0,Ja(b),i.input.focus(),Da(document,\x22mousemove\x22,u),Da(document,\x22mouseup\x22,v),j.history.lastSelOrigin=null}var i=a.display,j=a.doc;Ja(b);var k,m,o=j.sel,p=o.ranges;if(d.addNew&&!d.extend?(m=j.sel.contains(c),k=m\x3e-1?p[m]:new yh(c,c)):(k=j.sel.primary(),m=j.sel.primIndex),\x22rectangle\x22==d.unit)d.addNew||(k=new yh(c,c)),c=yc(a,b,!0,!0),m=-1;else{var q=Ef(a,c,d.unit);k=d.extend?me(k,q.anchor,q.head,d.extend):q}d.addNew?m==-1?(m=p.length,te(j,Md(p.concat([k]),m),{scroll:!1,origin:\x22*mouse\x22})):p.length\x3e1&&p[m].empty()&&\x22char\x22==d.unit&&!d.extend?(te(j,Md(p.slice(0,m).concat(p.slice(m+1)),0),{scroll:!1,origin:\x22*mouse\x22}),o=j.sel):pe(j,m,k,Og):(m=0,te(j,new xh([k],0),Og),o=j.sel);var r=c,s=i.wrapper.getBoundingClientRect(),t=0,u=nd(a,function(a){Oa(a)?f(a):h(a)}),v=nd(a,h);a.state.selectingText=v,Yg(document,\x22mousemove\x22,u),Yg(document,\x22mouseup\x22,v)}function Gf(a,b,c,d){var e,f;try{e=b.clientX,f=b.clientY}catch(b){return!1}if(e\x3e=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Ja(b);var g=a.display,h=g.lineDiv.getBoundingClientRect();if(f\x3eh.bottom||!Ha(a,c))return La(b);f-=h.top-g.viewOffset;for(var i=0;i\x3ca.options.gutters.length;++i){var j=g.gutters.childNodes[i];if(j&&j.getBoundingClientRect().right\x3e=e){var k=G(a.doc,f),l=a.options.gutters[i];return Ea(a,c,a,k,l,b),La(b)}}}function Hf(a,b){return Gf(a,b,\x22gutterClick\x22,!0)}function If(a,b){Nb(a.display,b)||Jf(a,b)||Fa(a,b,\x22contextmenu\x22)||a.display.input.onContextMenu(b)}function Jf(a,b){return!!Ha(a,\x22gutterContextMenu\x22)&&Gf(a,b,\x22gutterContextMenu\x22,!1)}function Kf(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\x5cs*cm-s-\x5cS+/g,\x22\x22)+a.options.theme.replace(/(^|\x5cs)\x5cs*/g,\x22 cm-s-\x22),fc(a)}function Lf(a){function b(b,d,e,f){a.defaults[b]=d,e&&(c[b]=f?function(a,b,c){c!=Th&&e(a,b,c)}:e)}var c=a.optionHandlers;a.defineOption=b,a.Init=Th,b(\x22value\x22,\x22\x22,function(a,b){return a.setValue(b)},!0),b(\x22mode\x22,null,function(a,b){a.doc.modeOption=b,Td(a)},!0),b(\x22indentUnit\x22,2,Td,!0),b(\x22indentWithTabs\x22,!1),b(\x22smartIndent\x22,!0),b(\x22tabSize\x22,4,function(a){Ud(a),fc(a),qd(a)},!0),b(\x22lineSeparator\x22,null,function(a,b){if(a.doc.lineSep=b,b){var c=[],d=a.doc.first;a.doc.iter(function(a){for(var e=0;;){var f=a.text.indexOf(b,e);if(f==-1)break;e=f+b.length,c.push(J(d,f))}d++});for(var e=c.length-1;e\x3e=0;e--)Je(a.doc,b,c[e],J(c[e].line,c[e].ch+b.length))}}),b(\x22specialChars\x22,/[\x5cu0000-\x5cu001f\x5cu007f-\x5cu009f\x5cu00ad\x5cu061c\x5cu200b-\x5cu200f\x5cu2028\x5cu2029\x5cufeff]/g,function(a,b,c){a.state.specialChars=new RegExp(b.source+(b.test(\x22\x5ct\x22)?\x22\x22:\x22|\x5ct\x22),\x22g\x22),c!=Th&&a.refresh()}),b(\x22specialCharPlaceholder\x22,nb,function(a){return a.refresh()},!0),b(\x22electricChars\x22,!0),b(\x22inputStyle\x22,yg?\x22contenteditable\x22:\x22textarea\x22,function(){throw new Error(\x22inputStyle can not (yet) be changed in a running editor\x22)},!0),b(\x22spellcheck\x22,!1,function(a,b){return a.getInputField().spellcheck=b},!0),b(\x22rtlMoveVisually\x22,!Bg),b(\x22wholeLineUpdateBefore\x22,!0),b(\x22theme\x22,\x22default\x22,function(a){Kf(a),Mf(a)},!0),b(\x22keyMap\x22,\x22default\x22,function(a,b,c){var d=kf(b),e=c!=Th&&kf(c);e&&e.detach&&e.detach(a,d),d.attach&&d.attach(a,e||null)}),b(\x22extraKeys\x22,null),b(\x22configureMouse\x22,null),b(\x22lineWrapping\x22,!1,Of,!0),b(\x22gutters\x22,[],function(a){Id(a.options),Mf(a)},!0),b(\x22fixedGutter\x22,!0,function(a,b){a.display.gutters.style.left=b?vc(a.display)+\x22px\x22:\x220\x22,a.refresh()},!0),b(\x22coverGutterNextToScrollbar\x22,!1,function(a){return bd(a)},!0),b(\x22scrollbarStyle\x22,\x22native\x22,function(a){dd(a),bd(a),a.display.scrollbars.setScrollTop(a.doc.scrollTop),a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0),b(\x22lineNumbers\x22,!1,function(a){Id(a.options),Mf(a)},!0),b(\x22firstLineNumber\x22,1,Mf,!0),b(\x22lineNumberFormatter\x22,function(a){return a},Mf,!0),b(\x22showCursorWhenSelecting\x22,!1,Ac,!0),b(\x22resetSelectionOnContextMenu\x22,!0),b(\x22lineWiseCopyCut\x22,!0),b(\x22pasteLinesPerSelection\x22,!0),b(\x22readOnly\x22,!1,function(a,b){\x22nocursor\x22==b&&(Jc(a),a.display.input.blur()),a.display.input.readOnlyChanged(b)}),b(\x22disableInput\x22,!1,function(a,b){b||a.display.input.reset()},!0),b(\x22dragDrop\x22,!0,Nf),b(\x22allowDropFileTypes\x22,null),b(\x22cursorBlinkRate\x22,530),b(\x22cursorScrollMargin\x22,0),b(\x22cursorHeight\x22,1,Ac,!0),b(\x22singleCursorHeightPerLine\x22,!0,Ac,!0),b(\x22workTime\x22,100),b(\x22workDelay\x22,100),b(\x22flattenSpans\x22,!0,Ud,!0),b(\x22addModeClass\x22,!1,Ud,!0),b(\x22pollInterval\x22,100),b(\x22undoDepth\x22,200,function(a,b){return a.doc.history.undoDepth=b}),b(\x22historyEventDelay\x22,1250),b(\x22viewportMargin\x22,10,function(a){return a.refresh()},!0),b(\x22maxHighlightLength\x22,1e4,Ud,!0),b(\x22moveInputWithCursor\x22,!0,function(a,b){b||a.display.input.resetPosition()}),b(\x22tabindex\x22,null,function(a,b){return a.display.input.getField().tabIndex=b||\x22\x22}),b(\x22autofocus\x22,null),b(\x22direction\x22,\x22ltr\x22,function(a,b){return a.doc.setDirection(b)},!0)}function Mf(a){Hd(a),qd(a),Nc(a)}function Nf(a,b,c){var d=c&&c!=Th;if(!b!=!d){var e=a.display.dragFunctions,f=b?Yg:Da;f(a.display.scroller,\x22dragstart\x22,e.start),f(a.display.scroller,\x22dragenter\x22,e.enter),f(a.display.scroller,\x22dragover\x22,e.over),f(a.display.scroller,\x22dragleave\x22,e.leave),f(a.display.scroller,\x22drop\x22,e.drop)}}function Of(a){a.options.lineWrapping?(h(a.display.wrapper,\x22CodeMirror-wrap\x22),a.display.sizer.style.minWidth=\x22\x22,a.display.sizerWidth=null):(Gg(a.display.wrapper,\x22CodeMirror-wrap\x22),ua(a)),xc(a),qd(a),fc(a),setTimeout(function(){return bd(a)},100)}function Pf(a,b){var c=this;if(!(this instanceof Pf))return new Pf(a,b);this.options=b=b?k(b):{},k(Uh,b,!1),Id(b);var d=b.value;\x22string\x22==typeof d&&(d=new Eh(d,b.mode,null,b.lineSeparator,b.direction)),this.doc=d;var e=new Pf.inputStyles[b.inputStyle](this),f=this.display=new A(a,d,e);f.wrapper.CodeMirror=this,Hd(this),Kf(this),b.lineWrapping&&(this.display.wrapper.className+=\x22 CodeMirror-wrap\x22),dd(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ig,keySeq:null,specialChars:null},b.autofocus&&!yg&&f.input.focus(),ng&&og\x3c11&&setTimeout(function(){return c.display.input.reset(!0)},20),Qf(this),af(),ed(this),this.curOp.forceUpdate=!0,Yd(this,d),b.autofocus&&!yg||this.hasFocus()?setTimeout(j(Ic,this),20):Jc(this);for(var g in Vh)Vh.hasOwnProperty(g)&&Vh[g](c,b[g],Th);Oc(this),b.finishInit&&b.finishInit(this);for(var h=0;h\x3cWh.length;++h)Wh[h](c);fd(this),pg&&b.lineWrapping&&\x22optimizelegibility\x22==getComputedStyle(f.lineDiv).textRendering&&(f.lineDiv.style.textRendering=\x22auto\x22)}function Qf(a){function b(){e.activeTouch&&(f=setTimeout(function(){return e.activeTouch=null},1e3),g=e.activeTouch,g.end=+new Date)}function c(a){if(1!=a.touches.length)return!1;var b=a.touches[0];return b.radiusX\x3c=1&&b.radiusY\x3c=1}function d(a,b){if(null==b.left)return!0;var c=b.left-a.left,d=b.top-a.top;return c*c+d*d\x3e400}var e=a.display;Yg(e.scroller,\x22mousedown\x22,nd(a,zf)),ng&&og\x3c11?Yg(e.scroller,\x22dblclick\x22,nd(a,function(b){if(!Fa(a,b)){var c=yc(a,b);if(c&&!Hf(a,b)&&!Nb(a.display,b)){Ja(b);var d=a.findWordAt(c);ne(a.doc,d.anchor,d.head)}}})):Yg(e.scroller,\x22dblclick\x22,function(b){return Fa(a,b)||Ja(b)}),Fg||Yg(e.scroller,\x22contextmenu\x22,function(b){return If(a,b)});var f,g={end:0};Yg(e.scroller,\x22touchstart\x22,function(b){if(!Fa(a,b)&&!c(b)){e.input.ensurePolled(),clearTimeout(f);var d=+new Date;e.activeTouch={start:d,moved:!1,prev:d-g.end\x3c=300?g:null},1==b.touches.length&&(e.activeTouch.left=b.touches[0].pageX,e.activeTouch.top=b.touches[0].pageY)}}),Yg(e.scroller,\x22touchmove\x22,function(){e.activeTouch&&(e.activeTouch.moved=!0)}),Yg(e.scroller,\x22touchend\x22,function(c){var f=e.activeTouch;if(f&&!Nb(e,c)&&null!=f.left&&!f.moved&&new Date-f.start\x3c300){var g,h=a.coordsChar(e.activeTouch,\x22page\x22);g=!f.prev||d(f,f.prev)?new yh(h,h):!f.prev.prev||d(f,f.prev.prev)?a.findWordAt(h):new yh(J(h.line,0),Q(a.doc,J(h.line+1,0))),a.setSelection(g.anchor,g.head),a.focus(),Ja(c)}b()}),Yg(e.scroller,\x22touchcancel\x22,b),Yg(e.scroller,\x22scroll\x22,function(){e.scroller.clientHeight&&(Zc(a,e.scroller.scrollTop),_c(a,e.scroller.scrollLeft,!0),Ea(a,\x22scroll\x22,a))}),Yg(e.scroller,\x22mousewheel\x22,function(b){return Ld(a,b)}),Yg(e.scroller,\x22DOMMouseScroll\x22,function(b){return Ld(a,b)}),Yg(e.wrapper,\x22scroll\x22,function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(b){Fa(a,b)||Ma(b)},over:function(b){Fa(a,b)||(Ze(a,b),Ma(b))},start:function(b){return Ye(a,b)},drop:nd(a,Xe),leave:function(b){Fa(a,b)||$e(a)}};var h=e.input.getField();Yg(h,\x22keyup\x22,function(b){return wf.call(a,b)}),Yg(h,\x22keydown\x22,nd(a,uf)),Yg(h,\x22keypress\x22,nd(a,xf)),Yg(h,\x22focus\x22,function(b){return Ic(a,b)}),Yg(h,\x22blur\x22,function(b){return Jc(a,b)})}function Rf(a,b,c,d){var e,f=a.doc;null==c&&(c=\x22add\x22),\x22smart\x22==c&&(f.mode.indent?e=ab(a,b).state:c=\x22prev\x22);var g=a.options.tabSize,h=B(f,b),i=l(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var j,k=h.text.match(/^\x5cs*/)[0];if(d||/\x5cS/.test(h.text)){if(\x22smart\x22==c&&(j=f.mode.indent(e,h.text.slice(k.length),h.text),j==Mg||j\x3e150)){if(!d)return;c=\x22prev\x22}}else j=0,c=\x22not\x22;\x22prev\x22==c?j=b\x3ef.first?l(B(f,b-1).text,null,g):0:\x22add\x22==c?j=i+a.options.indentUnit:\x22subtract\x22==c?j=i-a.options.indentUnit:\x22number\x22==typeof c&&(j=i+c),j=Math.max(0,j);var m=\x22\x22,n=0;if(a.options.indentWithTabs)for(var p=Math.floor(j/g);p;--p)n+=g,m+=\x22\x5ct\x22;if(n\x3cj&&(m+=o(j-n)),m!=k)return Je(f,m,J(b,0),J(b,k.length),\x22+input\x22),h.stateAfter=null,!0;for(var q=0;q\x3cf.sel.ranges.length;q++){var r=f.sel.ranges[q];if(r.head.line==b&&r.head.ch\x3ck.length){var s=J(b,k.length);pe(f,q,new yh(s,s));break}}}function Sf(a){Xh=a}function Tf(a,b,c,d,e){var f=a.doc;a.display.shift=!1,d||(d=f.sel);var g=a.state.pasteIncoming||\x22paste\x22==e,h=$g(b),i=null;if(g&&d.ranges.length\x3e1)if(Xh&&Xh.text.join(\x22\x5cn\x22)==b){if(d.ranges.length%Xh.text.length==0){i=[];for(var j=0;j\x3cXh.text.length;j++)i.push(f.splitLines(Xh.text[j]))}}else h.length==d.ranges.length&&a.options.pasteLinesPerSelection&&(i=q(h,function(a){return[a]}));for(var k,l=d.ranges.length-1;l\x3e=0;l--){var m=d.ranges[l],n=m.from(),o=m.to();m.empty()&&(c&&c\x3e0?n=J(n.line,n.ch-c):a.state.overwrite&&!g?o=J(o.line,Math.min(B(f,o.line).text.length,o.ch+p(h).length)):Xh&&Xh.lineWise&&Xh.text.join(\x22\x5cn\x22)==b&&(n=o=J(n.line,0))),k=a.curOp.updateInput;var r={from:n,to:o,text:i?i[l%i.length]:h,origin:e||(g?\x22paste\x22:a.state.cutIncoming?\x22cut\x22:\x22+input\x22)};De(a.doc,r),yb(a,\x22inputRead\x22,a,r)}b&&!g&&Vf(a,b),Uc(a),a.curOp.updateInput=k,a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=!1}function Uf(a,b){var c=a.clipboardData&&a.clipboardData.getData(\x22Text\x22);if(c)return a.preventDefault(),b.isReadOnly()||b.options.disableInput||md(b,function(){return Tf(b,c,0,null,\x22paste\x22)}),!0}function Vf(a,b){if(a.options.electricChars&&a.options.smartIndent)for(var c=a.doc.sel,d=c.ranges.length-1;d\x3e=0;d--){var e=c.ranges[d];if(!(e.head.ch\x3e100||d&&c.ranges[d-1].head.line==e.head.line)){var f=a.getModeAt(e.head),g=!1;if(f.electricChars){for(var h=0;h\x3cf.electricChars.length;h++)if(b.indexOf(f.electricChars.charAt(h))\x3e-1){g=Rf(a,e.head.line,\x22smart\x22);break}}else f.electricInput&&f.electricInput.test(B(a.doc,e.head.line).text.slice(0,e.head.ch))&&(g=Rf(a,e.head.line,\x22smart\x22));g&&yb(a,\x22electricInput\x22,a,e.head.line)}}}function Wf(a){for(var b=[],c=[],d=0;d\x3ca.doc.sel.ranges.length;d++){var e=a.doc.sel.ranges[d].head.line,f={anchor:J(e,0),head:J(e+1,0)};c.push(f),b.push(a.getRange(f.anchor,f.head))}return{text:b,ranges:c}}function Xf(a,b){a.setAttribute(\x22autocorrect\x22,\x22off\x22),a.setAttribute(\x22autocapitalize\x22,\x22off\x22),a.setAttribute(\x22spellcheck\x22,!!b)}function Yf(){var a=d(\x22textarea\x22,null,null,\x22position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\x22),b=d(\x22div\x22,[a],null,\x22overflow: hidden; position: relative; width: 3px; height: 0px;\x22);return pg?a.style.width=\x221000px\x22:a.setAttribute(\x22wrap\x22,\x22off\x22),wg&&(a.style.border=\x221px solid black\x22),Xf(a),b}function Zf(a,b,c,d,e){function f(){var d=b.line+c;return!(d\x3ca.first||d\x3e=a.first+a.size)&&(b=new J(d,b.ch,b.sticky),j=B(a,d))}function g(d){var g;if(g=e?Ba(a.cm,j,b,c):za(j,b,c),null==g){if(d||!f())return!1;b=Aa(e,a.cm,j,b.line,c)}else b=g;return!0}var h=b,i=c,j=B(a,b.line);if(\x22char\x22==d)g();else if(\x22column\x22==d)g(!0);else if(\x22word\x22==d||\x22group\x22==d)for(var k=null,l=\x22group\x22==d,m=a.cm&&a.cm.getHelper(b,\x22wordChars\x22),n=!0;!(c\x3c0)||g(!n);n=!1){var o=j.text.charAt(b.ch)||\x22\x5cn\x22,p=v(o,m)?\x22w\x22:l&&\x22\x5cn\x22==o?\x22n\x22:!l||/\x5cs/.test(o)?null:\x22p\x22;if(!l||n||p||(p=\x22s\x22),k&&k!=p){c\x3c0&&(c=1,g(),b.sticky=\x22after\x22);break}if(p&&(k=p),c\x3e0&&!g(!n))break}var q=ze(a,b,h,i,!0);return L(h,q)&&(q.hitSide=!0),q}function $f(a,b,c,d){var e,f=a.doc,g=b.left;if(\x22page\x22==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),i=Math.max(h-.5*sc(a.display),3);e=(c\x3e0?b.bottom:b.top)+c*i}else\x22line\x22==d&&(e=c\x3e0?b.bottom+3:b.top-3);for(var j;j=oc(a,g,e),j.outside;){if(c\x3c0?e\x3c=0:e\x3e=f.height){j.hitSide=!0;break}e+=5*c}return j}function _f(a,b){var c=Yb(a,b.line);if(!c||c.hidden)return null;var d=B(a.doc,b.line),e=Vb(c,d,b.line),f=xa(d,a.doc.direction),g=\x22left\x22;if(f){var h=wa(f,b.ch);g=h%2?\x22right\x22:\x22left\x22}var i=_b(e.map,b.ch,g);return i.offset=\x22right\x22==i.collapse?i.end:i.start,i}function ag(a){for(var b=a;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function bg(a,b){return b&&(a.bad=!0),a}function cg(a,b,c,d,e){function f(a){return function(b){return b.id==a}}function g(){k&&(j+=l,k=!1)}function h(a){a&&(g(),j+=a)}function i(b){if(1==b.nodeType){var c=b.getAttribute(\x22cm-text\x22);if(null!=c)return void h(c||b.textContent.replace(/\x5cu200b/g,\x22\x22));var j,m=b.getAttribute(\x22cm-marker\x22);if(m){var n=a.findMarks(J(d,0),J(e+1,0),f(+m));return void(n.length&&(j=n[0].find(0))&&h(C(a.doc,j.from,j.to).join(l)))}if(\x22false\x22==b.getAttribute(\x22contenteditable\x22))return;var o=/^(pre|div|p)$/i.test(b.nodeName);o&&g();for(var p=0;p\x3cb.childNodes.length;p++)i(b.childNodes[p]);o&&(k=!0)}else 3==b.nodeType&&h(b.nodeValue)}for(var j=\x22\x22,k=!1,l=a.doc.lineSeparator();i(b),b!=c;)b=b.nextSibling;return j}function dg(a,b,c){var d;if(b==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[c],!d)return bg(a.clipPos(J(a.display.viewTo-1)),!0);b=null,c=0}else for(d=b;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var e=0;e\x3ca.display.view.length;e++){var f=a.display.view[e];if(f.node==d)return eg(f,b,c)}}function eg(a,b,c){function d(b,c,d){for(var e=-1;e\x3c(l?l.length:0);e++)for(var f=e\x3c0?k.map:l[e],g=0;g\x3cf.length;g+=3){var h=f[g+2];if(h==b||h==c){var i=F(e\x3c0?a.line:a.rest[e]),j=f[g]+d;return(d\x3c0||h!=b)&&(j=f[g+(d?1:0)]),J(i,j)}}}var e=a.text.firstChild,g=!1;if(!b||!f(e,b))return bg(J(F(a.line),0),!0);if(b==e&&(g=!0,b=e.childNodes[c],c=0,!b)){var h=a.rest?p(a.rest):a.line;return bg(J(F(h),h.text.length),g)}var i=3==b.nodeType?b:null,j=b;for(i||1!=b.childNodes.length||3!=b.firstChild.nodeType||(i=b.firstChild,c&&(c=i.nodeValue.length));j.parentNode!=e;)j=j.parentNode;var k=a.measure,l=k.maps,m=d(i,j,c);if(m)return bg(m,g);for(var n=j.nextSibling,o=i?i.nodeValue.length-c:0;n;n=n.nextSibling){if(m=d(n,n.firstChild,0))return bg(J(m.line,m.ch-o),g);o+=n.textContent.length}for(var q=j.previousSibling,r=c;q;q=q.previousSibling){if(m=d(q,q.firstChild,-1))return bg(J(m.line,m.ch+r),g);r+=q.textContent.length}}function fg(a,b){function c(){a.value=j.getValue()}if(b=b?k(b):{},b.value=a.value,!b.tabindex&&a.tabIndex&&(b.tabindex=a.tabIndex),!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder),null==b.autofocus){var d=g();b.autofocus=d==a||null!=a.getAttribute(\x22autofocus\x22)&&d==document.body}var e;if(a.form&&(Yg(a.form,\x22submit\x22,c),!b.leaveSubmitMethodAlone)){var f=a.form;e=f.submit;try{var h=f.submit=function(){c(),f.submit=e,f.submit(),f.submit=h}}catch(i){}}b.finishInit=function(b){b.save=c,b.getTextArea=function(){return a},b.toTextArea=function(){b.toTextArea=isNaN,\x0ac(),a.parentNode.removeChild(b.getWrapperElement()),a.style.display=\x22\x22,a.form&&(Da(a.form,\x22submit\x22,c),\x22function\x22==typeof a.form.submit&&(a.form.submit=e))}},a.style.display=\x22none\x22;var j=Pf(function(b){return a.parentNode.insertBefore(b,a.nextSibling)},b);return j}function gg(a){a.off=Da,a.on=Yg,a.wheelEventPixels=Kd,a.Doc=Eh,a.splitLines=$g,a.countColumn=l,a.findColumn=n,a.isWordChar=u,a.Pass=Mg,a.signal=Ea,a.Line=jh,a.changeEnd=Od,a.scrollbarModel=sh,a.Pos=J,a.cmpPos=K,a.modes=ch,a.mimeModes=dh,a.resolveMode=Ua,a.getMode=Va,a.modeExtensions=eh,a.extendMode=Wa,a.copyState=Xa,a.startState=Za,a.innerMode=Ya,a.commands=Mh,a.keyMap=Lh,a.keyName=jf,a.isModifierKey=gf,a.lookupKey=ff,a.normalizeKeyMap=ef,a.StringStream=fh,a.SharedTextMarker=Ch,a.TextMarker=Bh,a.LineWidget=zh,a.e_preventDefault=Ja,a.e_stopPropagation=Ka,a.e_stop=Ma,a.addClass=h,a.contains=f,a.rmClass=Gg,a.keyNames=Hh}var hg=navigator.userAgent,ig=navigator.platform,jg=/gecko\x5c/\x5cd/i.test(hg),kg=/MSIE \x5cd/.test(hg),lg=/Trident\x5c/(?:[7-9]|\x5cd{2,})\x5c..*rv:(\x5cd+)/.exec(hg),mg=/Edge\x5c/(\x5cd+)/.exec(hg),ng=kg||lg||mg,og=ng&&(kg?document.documentMode||6:+(mg||lg)[1]),pg=!mg&&/WebKit\x5c//.test(hg),qg=pg&&/Qt\x5c/\x5cd+\x5c.\x5cd+/.test(hg),rg=!mg&&/Chrome\x5c//.test(hg),sg=/Opera\x5c//.test(hg),tg=/Apple Computer/.test(navigator.vendor),ug=/Mac OS X 1\x5cd\x5cD([8-9]|\x5cd\x5cd)\x5cD/.test(hg),vg=/PhantomJS/.test(hg),wg=!mg&&/AppleWebKit/.test(hg)&&/Mobile\x5c/\x5cw+/.test(hg),xg=/Android/.test(hg),yg=wg||xg||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(hg),zg=wg||/Mac/.test(ig),Ag=/\x5cbCrOS\x5cb/.test(hg),Bg=/win/i.test(ig),Cg=sg&&hg.match(/Version\x5c/(\x5cd*\x5c.\x5cd*)/);Cg&&(Cg=Number(Cg[1])),Cg&&Cg\x3e=15&&(sg=!1,pg=!0);var Dg,Eg=zg&&(qg||sg&&(null==Cg||Cg\x3c12.11)),Fg=jg||ng&&og\x3e=9,Gg=function(b,c){var d=b.className,e=a(c).exec(d);if(e){var f=d.slice(e.index+e[0].length);b.className=d.slice(0,e.index)+(f?e[1]+f:\x22\x22)}};Dg=document.createRange?function(a,b,c,d){var e=document.createRange();return e.setEnd(d||a,c),e.setStart(a,b),e}:function(a,b,c){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch(e){return d}return d.collapse(!0),d.moveEnd(\x22character\x22,c),d.moveStart(\x22character\x22,b),d};var Hg=function(a){a.select()};wg?Hg=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:ng&&(Hg=function(a){try{a.select()}catch(b){}});var Ig=function(){this.id=null};Ig.prototype.set=function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)};var Jg,Kg,Lg=30,Mg={toString:function(){return\x22CodeMirror.Pass\x22}},Ng={scroll:!1},Og={origin:\x22*mouse\x22},Pg={origin:\x22+move\x22},Qg=[\x22\x22],Rg=/[\x5cu00df\x5cu0587\x5cu0590-\x5cu05f4\x5cu0600-\x5cu06ff\x5cu3040-\x5cu309f\x5cu30a0-\x5cu30ff\x5cu3400-\x5cu4db5\x5cu4e00-\x5cu9fcc\x5cuac00-\x5cud7af]/,Sg=/[\x5cu0300-\x5cu036f\x5cu0483-\x5cu0489\x5cu0591-\x5cu05bd\x5cu05bf\x5cu05c1\x5cu05c2\x5cu05c4\x5cu05c5\x5cu05c7\x5cu0610-\x5cu061a\x5cu064b-\x5cu065e\x5cu0670\x5cu06d6-\x5cu06dc\x5cu06de-\x5cu06e4\x5cu06e7\x5cu06e8\x5cu06ea-\x5cu06ed\x5cu0711\x5cu0730-\x5cu074a\x5cu07a6-\x5cu07b0\x5cu07eb-\x5cu07f3\x5cu0816-\x5cu0819\x5cu081b-\x5cu0823\x5cu0825-\x5cu0827\x5cu0829-\x5cu082d\x5cu0900-\x5cu0902\x5cu093c\x5cu0941-\x5cu0948\x5cu094d\x5cu0951-\x5cu0955\x5cu0962\x5cu0963\x5cu0981\x5cu09bc\x5cu09be\x5cu09c1-\x5cu09c4\x5cu09cd\x5cu09d7\x5cu09e2\x5cu09e3\x5cu0a01\x5cu0a02\x5cu0a3c\x5cu0a41\x5cu0a42\x5cu0a47\x5cu0a48\x5cu0a4b-\x5cu0a4d\x5cu0a51\x5cu0a70\x5cu0a71\x5cu0a75\x5cu0a81\x5cu0a82\x5cu0abc\x5cu0ac1-\x5cu0ac5\x5cu0ac7\x5cu0ac8\x5cu0acd\x5cu0ae2\x5cu0ae3\x5cu0b01\x5cu0b3c\x5cu0b3e\x5cu0b3f\x5cu0b41-\x5cu0b44\x5cu0b4d\x5cu0b56\x5cu0b57\x5cu0b62\x5cu0b63\x5cu0b82\x5cu0bbe\x5cu0bc0\x5cu0bcd\x5cu0bd7\x5cu0c3e-\x5cu0c40\x5cu0c46-\x5cu0c48\x5cu0c4a-\x5cu0c4d\x5cu0c55\x5cu0c56\x5cu0c62\x5cu0c63\x5cu0cbc\x5cu0cbf\x5cu0cc2\x5cu0cc6\x5cu0ccc\x5cu0ccd\x5cu0cd5\x5cu0cd6\x5cu0ce2\x5cu0ce3\x5cu0d3e\x5cu0d41-\x5cu0d44\x5cu0d4d\x5cu0d57\x5cu0d62\x5cu0d63\x5cu0dca\x5cu0dcf\x5cu0dd2-\x5cu0dd4\x5cu0dd6\x5cu0ddf\x5cu0e31\x5cu0e34-\x5cu0e3a\x5cu0e47-\x5cu0e4e\x5cu0eb1\x5cu0eb4-\x5cu0eb9\x5cu0ebb\x5cu0ebc\x5cu0ec8-\x5cu0ecd\x5cu0f18\x5cu0f19\x5cu0f35\x5cu0f37\x5cu0f39\x5cu0f71-\x5cu0f7e\x5cu0f80-\x5cu0f84\x5cu0f86\x5cu0f87\x5cu0f90-\x5cu0f97\x5cu0f99-\x5cu0fbc\x5cu0fc6\x5cu102d-\x5cu1030\x5cu1032-\x5cu1037\x5cu1039\x5cu103a\x5cu103d\x5cu103e\x5cu1058\x5cu1059\x5cu105e-\x5cu1060\x5cu1071-\x5cu1074\x5cu1082\x5cu1085\x5cu1086\x5cu108d\x5cu109d\x5cu135f\x5cu1712-\x5cu1714\x5cu1732-\x5cu1734\x5cu1752\x5cu1753\x5cu1772\x5cu1773\x5cu17b7-\x5cu17bd\x5cu17c6\x5cu17c9-\x5cu17d3\x5cu17dd\x5cu180b-\x5cu180d\x5cu18a9\x5cu1920-\x5cu1922\x5cu1927\x5cu1928\x5cu1932\x5cu1939-\x5cu193b\x5cu1a17\x5cu1a18\x5cu1a56\x5cu1a58-\x5cu1a5e\x5cu1a60\x5cu1a62\x5cu1a65-\x5cu1a6c\x5cu1a73-\x5cu1a7c\x5cu1a7f\x5cu1b00-\x5cu1b03\x5cu1b34\x5cu1b36-\x5cu1b3a\x5cu1b3c\x5cu1b42\x5cu1b6b-\x5cu1b73\x5cu1b80\x5cu1b81\x5cu1ba2-\x5cu1ba5\x5cu1ba8\x5cu1ba9\x5cu1c2c-\x5cu1c33\x5cu1c36\x5cu1c37\x5cu1cd0-\x5cu1cd2\x5cu1cd4-\x5cu1ce0\x5cu1ce2-\x5cu1ce8\x5cu1ced\x5cu1dc0-\x5cu1de6\x5cu1dfd-\x5cu1dff\x5cu200c\x5cu200d\x5cu20d0-\x5cu20f0\x5cu2cef-\x5cu2cf1\x5cu2de0-\x5cu2dff\x5cu302a-\x5cu302f\x5cu3099\x5cu309a\x5cua66f-\x5cua672\x5cua67c\x5cua67d\x5cua6f0\x5cua6f1\x5cua802\x5cua806\x5cua80b\x5cua825\x5cua826\x5cua8c4\x5cua8e0-\x5cua8f1\x5cua926-\x5cua92d\x5cua947-\x5cua951\x5cua980-\x5cua982\x5cua9b3\x5cua9b6-\x5cua9b9\x5cua9bc\x5cuaa29-\x5cuaa2e\x5cuaa31\x5cuaa32\x5cuaa35\x5cuaa36\x5cuaa43\x5cuaa4c\x5cuaab0\x5cuaab2-\x5cuaab4\x5cuaab7\x5cuaab8\x5cuaabe\x5cuaabf\x5cuaac1\x5cuabe5\x5cuabe8\x5cuabed\x5cudc00-\x5cudfff\x5cufb1e\x5cufe00-\x5cufe0f\x5cufe20-\x5cufe26\x5cuff9e\x5cuff9f]/,Tg=!1,Ug=!1,Vg=null,Wg=function(){function a(a){return a\x3c=247?c.charAt(a):1424\x3c=a&&a\x3c=1524?\x22R\x22:1536\x3c=a&&a\x3c=1785?d.charAt(a-1536):1774\x3c=a&&a\x3c=2220?\x22r\x22:8192\x3c=a&&a\x3c=8203?\x22w\x22:8204==a?\x22b\x22:\x22L\x22}function b(a,b,c){this.level=a,this.from=b,this.to=c}var c=\x22bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\x22,d=\x22nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\x22,e=/[\x5cu0590-\x5cu05f4\x5cu0600-\x5cu06ff\x5cu0700-\x5cu08ac]/,f=/[stwN]/,g=/[LRr]/,h=/[Lb1n]/,i=/[1n]/;return function(c,d){var j=\x22ltr\x22==d?\x22L\x22:\x22R\x22;if(0==c.length||\x22ltr\x22==d&&!e.test(c))return!1;for(var k=c.length,l=[],m=0;m\x3ck;++m)l.push(a(c.charCodeAt(m)));for(var n=0,o=j;n\x3ck;++n){var q=l[n];\x22m\x22==q?l[n]=o:o=q}for(var r=0,s=j;r\x3ck;++r){var t=l[r];\x221\x22==t&&\x22r\x22==s?l[r]=\x22n\x22:g.test(t)&&(s=t,\x22r\x22==t&&(l[r]=\x22R\x22))}for(var u=1,v=l[0];u\x3ck-1;++u){var w=l[u];\x22+\x22==w&&\x221\x22==v&&\x221\x22==l[u+1]?l[u]=\x221\x22:\x22,\x22!=w||v!=l[u+1]||\x221\x22!=v&&\x22n\x22!=v||(l[u]=v),v=w}for(var x=0;x\x3ck;++x){var y=l[x];if(\x22,\x22==y)l[x]=\x22N\x22;else if(\x22%\x22==y){var z=void 0;for(z=x+1;z\x3ck&&\x22%\x22==l[z];++z);for(var A=x&&\x22!\x22==l[x-1]||z\x3ck&&\x221\x22==l[z]?\x221\x22:\x22N\x22,B=x;B\x3cz;++B)l[B]=A;x=z-1}}for(var C=0,D=j;C\x3ck;++C){var E=l[C];\x22L\x22==D&&\x221\x22==E?l[C]=\x22L\x22:g.test(E)&&(D=E)}for(var F=0;F\x3ck;++F)if(f.test(l[F])){var G=void 0;for(G=F+1;G\x3ck&&f.test(l[G]);++G);for(var H=\x22L\x22==(F?l[F-1]:j),I=\x22L\x22==(G\x3ck?l[G]:j),J=H==I?H?\x22L\x22:\x22R\x22:j,K=F;K\x3cG;++K)l[K]=J;F=G-1}for(var L,M=[],N=0;N\x3ck;)if(h.test(l[N])){var O=N;for(++N;N\x3ck&&h.test(l[N]);++N);M.push(new b(0,O,N))}else{var P=N,Q=M.length;for(++N;N\x3ck&&\x22L\x22!=l[N];++N);for(var R=P;R\x3cN;)if(i.test(l[R])){P\x3cR&&M.splice(Q,0,new b(1,P,R));var S=R;for(++R;R\x3cN&&i.test(l[R]);++R);M.splice(Q,0,new b(2,S,R)),P=R}else++R;P\x3cN&&M.splice(Q,0,new b(1,P,N))}return 1==M[0].level&&(L=c.match(/^\x5cs+/))&&(M[0].from=L[0].length,M.unshift(new b(0,0,L[0].length))),1==p(M).level&&(L=c.match(/\x5cs+$/))&&(p(M).to-=L[0].length,M.push(new b(0,k-L[0].length,k))),\x22rtl\x22==d?M.reverse():M}}(),Xg=[],Yg=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(\x22on\x22+b,c);else{var d=a._handlers||(a._handlers={});d[b]=(d[b]||Xg).concat(c)}},Zg=function(){if(ng&&og\x3c9)return!1;var a=d(\x22div\x22);return\x22draggable\x22in a||\x22dragDrop\x22in a}(),$g=3!=\x22\x5cn\x5cnb\x22.split(/\x5cn/).length?function(a){for(var b=0,c=[],d=a.length;b\x3c=d;){var e=a.indexOf(\x22\x5cn\x22,b);e==-1&&(e=a.length);var f=a.slice(b,\x22\x5cr\x22==a.charAt(e-1)?e-1:e),g=f.indexOf(\x22\x5cr\x22);g!=-1?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\x5cr\x5cn?|\x5cn/)},_g=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){var b;try{b=a.ownerDocument.selection.createRange()}catch(c){}return!(!b||b.parentElement()!=a)&&0!=b.compareEndPoints(\x22StartToEnd\x22,b)},ah=function(){var a=d(\x22div\x22);return\x22oncopy\x22in a||(a.setAttribute(\x22oncopy\x22,\x22return;\x22),\x22function\x22==typeof a.oncopy)}(),bh=null,ch={},dh={},eh={},fh=function(a,b,c){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=c};fh.prototype.eol=function(){return this.pos\x3e=this.string.length},fh.prototype.sol=function(){return this.pos==this.lineStart},fh.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},fh.prototype.next=function(){if(this.pos\x3cthis.string.length)return this.string.charAt(this.pos++)},fh.prototype.eat=function(a){var b,c=this.string.charAt(this.pos);if(b=\x22string\x22==typeof a?c==a:c&&(a.test?a.test(c):a(c)))return++this.pos,c},fh.prototype.eatWhile=function(a){for(var b=this.pos;this.eat(a););return this.pos\x3eb},fh.prototype.eatSpace=function(){for(var a=this,b=this.pos;/[\x5cs\x5cu00a0]/.test(this.string.charAt(this.pos));)++a.pos;return this.pos\x3eb},fh.prototype.skipToEnd=function(){this.pos=this.string.length},fh.prototype.skipTo=function(a){var b=this.string.indexOf(a,this.pos);if(b\x3e-1)return this.pos=b,!0},fh.prototype.backUp=function(a){this.pos-=a},fh.prototype.column=function(){return this.lastColumnPos\x3cthis.start&&(this.lastColumnValue=l(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?l(this.string,this.lineStart,this.tabSize):0)},fh.prototype.indentation=function(){return l(this.string,null,this.tabSize)-(this.lineStart?l(this.string,this.lineStart,this.tabSize):0)},fh.prototype.match=function(a,b,c){if(\x22string\x22!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index\x3e0?null:(d&&b!==!1&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a},f=this.string.substr(this.pos,a.length);if(e(f)==e(a))return b!==!1&&(this.pos+=a.length),!0},fh.prototype.current=function(){return this.string.slice(this.start,this.pos)},fh.prototype.hideFirstChars=function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}},fh.prototype.lookAhead=function(a){var b=this.lineOracle;return b&&b.lookAhead(a)};var gh=function(a,b){this.state=a,this.lookAhead=b},hh=function(a,b,c,d){this.state=b,this.doc=a,this.line=c,this.maxLookAhead=d||0};hh.prototype.lookAhead=function(a){var b=this.doc.getLine(this.line+a);return null!=b&&a\x3ethis.maxLookAhead&&(this.maxLookAhead=a),b},hh.prototype.nextLine=function(){this.line++,this.maxLookAhead\x3e0&&this.maxLookAhead--},hh.fromSaved=function(a,b,c){return b instanceof gh?new hh(a,Xa(a.mode,b.state),c,b.lookAhead):new hh(a,Xa(a.mode,b),c)},hh.prototype.save=function(a){var b=a!==!1?Xa(this.doc.mode,this.state):this.state;return this.maxLookAhead\x3e0?new gh(b,this.maxLookAhead):b};var ih=function(a,b,c){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=b||null,this.state=c},jh=function(a,b,c){this.text=a,da(this,b),this.height=c?c(this):1};jh.prototype.lineNo=function(){return F(this)},Ia(jh);var kh,lh={},mh={},nh=null,oh=null,ph={left:0,right:0,top:0,bottom:0},qh=function(a,b,c){this.cm=c;var e=this.vert=d(\x22div\x22,[d(\x22div\x22,null,null,\x22min-width: 1px\x22)],\x22CodeMirror-vscrollbar\x22),f=this.horiz=d(\x22div\x22,[d(\x22div\x22,null,null,\x22height: 100%; min-height: 1px\x22)],\x22CodeMirror-hscrollbar\x22);a(e),a(f),Yg(e,\x22scroll\x22,function(){e.clientHeight&&b(e.scrollTop,\x22vertical\x22)}),Yg(f,\x22scroll\x22,function(){f.clientWidth&&b(f.scrollLeft,\x22horizontal\x22)}),this.checkedZeroWidth=!1,ng&&og\x3c8&&(this.horiz.style.minHeight=this.vert.style.minWidth=\x2218px\x22)};qh.prototype.update=function(a){var b=a.scrollWidth\x3ea.clientWidth+1,c=a.scrollHeight\x3ea.clientHeight+1,d=a.nativeBarWidth;if(c){this.vert.style.display=\x22block\x22,this.vert.style.bottom=b?d+\x22px\x22:\x220\x22;var e=a.viewHeight-(b?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+e)+\x22px\x22}else this.vert.style.display=\x22\x22,this.vert.firstChild.style.height=\x220\x22;if(b){this.horiz.style.display=\x22block\x22,this.horiz.style.right=c?d+\x22px\x22:\x220\x22,this.horiz.style.left=a.barLeft+\x22px\x22;var f=a.viewWidth-a.barLeft-(c?d:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+f)+\x22px\x22}else this.horiz.style.display=\x22\x22,this.horiz.firstChild.style.width=\x220\x22;return!this.checkedZeroWidth&&a.clientHeight\x3e0&&(0==d&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:c?d:0,bottom:b?d:0}},qh.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,\x22horiz\x22)},qh.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,\x22vert\x22)},qh.prototype.zeroWidthHack=function(){var a=zg&&!ug?\x2212px\x22:\x2218px\x22;this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents=\x22none\x22,this.disableHoriz=new Ig,this.disableVert=new Ig},qh.prototype.enableZeroWidthBar=function(a,b,c){function d(){var e=a.getBoundingClientRect(),f=\x22vert\x22==c?document.elementFromPoint(e.right-1,(e.top+e.bottom)/2):document.elementFromPoint((e.right+e.left)/2,e.bottom-1);f!=a?a.style.pointerEvents=\x22none\x22:b.set(1e3,d)}a.style.pointerEvents=\x22auto\x22,b.set(1e3,d)},qh.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var rh=function(){};rh.prototype.update=function(){return{bottom:0,right:0}},rh.prototype.setScrollLeft=function(){},rh.prototype.setScrollTop=function(){},rh.prototype.clear=function(){};var sh={\x22native\x22:qh,\x22null\x22:rh},th=0,uh=function(a,b,c){var d=a.display;this.viewport=b,this.visible=Mc(d,a.doc,b),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Sb(a),this.force=c,this.dims=uc(a),this.events=[]};uh.prototype.signal=function(a,b){Ha(a,b)&&this.events.push(arguments)},uh.prototype.finish=function(){for(var a=this,b=0;b\x3cthis.events.length;b++)Ea.apply(null,a.events[b])};var vh=0,wh=null;ng?wh=-.53:jg?wh=15:rg?wh=-.7:tg&&(wh=-1/3);var xh=function(a,b){this.ranges=a,this.primIndex=b};xh.prototype.primary=function(){return this.ranges[this.primIndex]},xh.prototype.equals=function(a){var b=this;if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c\x3cthis.ranges.length;c++){var d=b.ranges[c],e=a.ranges[c];if(!L(d.anchor,e.anchor)||!L(d.head,e.head))return!1}return!0},xh.prototype.deepCopy=function(){for(var a=this,b=[],c=0;c\x3cthis.ranges.length;c++)b[c]=new yh(M(a.ranges[c].anchor),M(a.ranges[c].head));return new xh(b,this.primIndex)},xh.prototype.somethingSelected=function(){for(var a=this,b=0;b\x3cthis.ranges.length;b++)if(!a.ranges[b].empty())return!0;return!1},xh.prototype.contains=function(a,b){var c=this;b||(b=a);for(var d=0;d\x3cthis.ranges.length;d++){var e=c.ranges[d];if(K(b,e.from())\x3e=0&&K(a,e.to())\x3c=0)return d}return-1};var yh=function(a,b){this.anchor=a,this.head=b};yh.prototype.from=function(){return O(this.anchor,this.head)},yh.prototype.to=function(){return N(this.anchor,this.head)},yh.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Oe.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=this,d=a,e=a+b;d\x3ce;++d){var f=c.lines[d];c.height-=f.height,kb(f),yb(f,\x22delete\x22)}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){var d=this;this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var e=0;e\x3cb.length;++e)b[e].parent=d},iterN:function(a,b,c){for(var d=this,e=a+b;a\x3ce;++a)if(c(d.lines[a]))return!0}},Pe.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){var c=this;this.size-=b;for(var d=0;d\x3cthis.children.length;++d){var e=c.children[d],f=e.chunkSize();if(a\x3cf){var g=Math.min(b,f-a),h=e.height;if(e.removeInner(a,g),c.height-=h-e.height,f==g&&(c.children.splice(d--,1),e.parent=null),0==(b-=g))break;a=0}else a-=f}if(this.size-b\x3c25&&(this.children.length\x3e1||!(this.children[0]instanceof Oe))){var i=[];this.collapse(i),this.children=[new Oe(i)],this.children[0].parent=this}},collapse:function(a){for(var b=this,c=0;c\x3cthis.children.length;++c)b.children[c].collapse(a)},insertInner:function(a,b,c){var d=this;this.size+=b.length,this.height+=c;for(var e=0;e\x3cthis.children.length;++e){var f=d.children[e],g=f.chunkSize();if(a\x3c=g){if(f.insertInner(a,b,c),f.lines&&f.lines.length\x3e50){for(var h=f.lines.length%25+25,i=h;i\x3cf.lines.length;){var j=new Oe(f.lines.slice(i,i+=25));f.height-=j.height,d.children.splice(++e,0,j),j.parent=d}f.lines=f.lines.slice(0,h),d.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(this.children.length\x3c=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new Pe(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=m(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new Pe(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length\x3e10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=this,e=0;e\x3cthis.children.length;++e){var f=d.children[e],g=f.chunkSize();if(a\x3cg){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=g}}};var zh=function(a,b,c){var d=this;if(c)for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);this.doc=a,this.node=b};zh.prototype.clear=function(){var a=this,b=this.doc.cm,c=this.line.widgets,d=this.line,e=F(d);if(null!=e&&c){for(var f=0;f\x3cc.length;++f)c[f]==a&&c.splice(f--,1);c.length||(d.widgets=null);var g=Mb(this);E(d,Math.max(0,d.height-g)),b&&(md(b,function(){Qe(b,d,-g),rd(b,e,\x22widget\x22)}),yb(b,\x22lineWidgetCleared\x22,b,this,e))}},zh.prototype.changed=function(){var a=this,b=this.height,c=this.doc.cm,d=this.line;this.height=null;var e=Mb(this)-b;e&&(E(d,d.height+e),c&&md(c,function(){c.curOp.forceUpdate=!0,Qe(c,d,e),yb(c,\x22lineWidgetChanged\x22,c,a,F(d))}))},Ia(zh);var Ah=0,Bh=function(a,b){this.lines=[],this.type=b,this.doc=a,this.id=++Ah};Bh.prototype.clear=function(){var a=this;if(!this.explicitlyCleared){var b=this.doc.cm,c=b&&!b.curOp;if(c&&ed(b),Ha(this,\x22clear\x22)){var d=this.find();d&&yb(this,\x22clear\x22,d.from,d.to)}for(var e=null,f=null,g=0;g\x3cthis.lines.length;++g){var h=a.lines[g],i=W(h.markedSpans,a);b&&!a.collapsed?rd(b,F(h),\x22text\x22):b&&(null!=i.to&&(f=F(h)),null!=i.from&&(e=F(h))),h.markedSpans=X(h.markedSpans,i),null==i.from&&a.collapsed&&!qa(a.doc,h)&&b&&E(h,sc(b.display))}if(b&&this.collapsed&&!b.options.lineWrapping)for(var j=0;j\x3cthis.lines.length;++j){var k=la(a.lines[j]),l=ta(k);l\x3eb.display.maxLineLength&&(b.display.maxLine=k,b.display.maxLineLength=l,b.display.maxLineChanged=!0)}null!=e&&b&&this.collapsed&&qd(b,e,f+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&we(b.doc)),b&&yb(b,\x22markerCleared\x22,b,this,e,f),c&&fd(b),this.parent&&this.parent.clear()}},Bh.prototype.find=function(a,b){var c=this;null==a&&\x22bookmark\x22==this.type&&(a=1);for(var d,e,f=0;f\x3cthis.lines.length;++f){var g=c.lines[f],h=W(g.markedSpans,c);if(null!=h.from&&(d=J(b?g:F(g),h.from),a==-1))return d;if(null!=h.to&&(e=J(b?g:F(g),h.to),1==a))return e}return d&&{from:d,to:e}},Bh.prototype.changed=function(){var a=this,b=this.find(-1,!0),c=this,d=this.doc.cm;b&&d&&md(d,function(){var e=b.line,f=F(b.line),g=Yb(d,f);if(g&&(dc(g),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!qa(c.doc,e)&&null!=c.height){var h=c.height;c.height=null;var i=Mb(c)-h;i&&E(e,e.height+i)}yb(d,\x22markerChanged\x22,d,a)})},Bh.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&m(b.maybeHiddenMarkers,this)!=-1||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Bh.prototype.detachLine=function(a){if(this.lines.splice(m(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},Ia(Bh);var Ch=function(a,b){var c=this;this.markers=a,this.primary=b;for(var d=0;d\x3ca.length;++d)a[d].parent=c};Ch.prototype.clear=function(){var a=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b\x3cthis.markers.length;++b)a.markers[b].clear();yb(this,\x22clear\x22)}},Ch.prototype.find=function(a,b){return this.primary.find(a,b)},Ia(Ch);var Dh=0,Eh=function(a,b,c,d,e){if(!(this instanceof Eh))return new Eh(a,b,c,d,e);null==c&&(c=0),Pe.call(this,[new Oe([new jh(\x22\x22,null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=c;var f=J(c,0);this.sel=Nd(f),this.history=new _d(null),this.id=++Dh,this.modeOption=b,this.lineSep=d,this.direction=\x22rtl\x22==e?\x22rtl\x22:\x22ltr\x22,this.extend=!1,\x22string\x22==typeof a&&(a=this.splitLines(a)),Wd(this,{from:f,to:f,text:a}),te(this,Nd(f),Ng)};Eh.prototype=t(Pe.prototype,{constructor:Eh,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d\x3cb.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=D(this,this.first,this.first+this.size);return a===!1?b:b.join(a||this.lineSeparator())},setValue:pd(function(a){var b=J(this.first,0),c=this.first+this.size-1;De(this,{from:b,to:J(c,B(this,c).text.length),text:this.splitLines(a),origin:\x22setValue\x22,full:!0},!0),this.cm&&Vc(this.cm,0,0),te(this,Nd(b),Ng)}),replaceRange:function(a,b,c,d){b=Q(this,b),c=c?Q(this,c):b,Je(this,a,b,c,d)},getRange:function(a,b,c){var d=C(this,Q(this,a),Q(this,b));return c===!1?d:d.join(c||this.lineSeparator())},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},getLineHandle:function(a){if(H(this,a))return B(this,a)},getLineNumber:function(a){return F(a)},getLineHandleVisualStart:function(a){return\x22number\x22==typeof a&&(a=B(this,a)),la(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Q(this,a)},getCursor:function(a){var b,c=this.sel.primary();return b=null==a||\x22head\x22==a?c.head:\x22anchor\x22==a?c.anchor:\x22end\x22==a||\x22to\x22==a||a===!1?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pd(function(a,b,c){qe(this,Q(this,\x22number\x22==typeof a?J(a,b||0):a),null,c)}),setSelection:pd(function(a,b,c){qe(this,Q(this,a),Q(this,b||a),c)}),extendSelection:pd(function(a,b,c){ne(this,Q(this,a),b&&Q(this,b),c)}),extendSelections:pd(function(a,b){oe(this,S(this,a),b)}),extendSelectionsBy:pd(function(a,b){var c=q(this.sel.ranges,a);oe(this,S(this,c),b)}),setSelections:pd(function(a,b,c){var d=this;if(a.length){for(var e=[],f=0;f\x3ca.length;f++)e[f]=new yh(Q(d,a[f].anchor),Q(d,a[f].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex)),te(this,Md(e,b),c)}}),addSelection:pd(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new yh(Q(this,a),Q(this,b||a))),te(this,Md(d,d.length-1),c)}),getSelection:function(a){for(var b,c=this,d=this.sel.ranges,e=0;e\x3cd.length;e++){var f=C(c,d[e].from(),d[e].to());b=b?b.concat(f):f}return a===!1?b:b.join(a||this.lineSeparator())},getSelections:function(a){for(var b=this,c=[],d=this.sel.ranges,e=0;e\x3cd.length;e++){var f=C(b,d[e].from(),d[e].to());a!==!1&&(f=f.join(a||b.lineSeparator())),c[e]=f}return c},replaceSelection:function(a,b,c){for(var d=[],e=0;e\x3cthis.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||\x22+input\x22)},replaceSelections:pd(function(a,b,c){for(var d=this,e=[],f=this.sel,g=0;g\x3cf.ranges.length;g++){var h=f.ranges[g];e[g]={from:h.from(),to:h.to(),text:d.splitLines(a[g]),origin:c}}for(var i=b&&\x22end\x22!=b&&Sd(this,e,b),j=e.length-1;j\x3e=0;j--)De(d,e[j]);i?se(this,i):this.cm&&Uc(this.cm)}),undo:pd(function(){Fe(this,\x22undo\x22)}),redo:pd(function(){Fe(this,\x22redo\x22)}),undoSelection:pd(function(){Fe(this,\x22undo\x22,!0)}),redoSelection:pd(function(){Fe(this,\x22redo\x22,!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d\x3ca.done.length;d++)a.done[d].ranges||++b;for(var e=0;e\x3ca.undone.length;e++)a.undone[e].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new _d(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:le(this.history.done),undone:le(this.history.undone)}},setHistory:function(a){var b=this.history=new _d(this.history.maxGeneration);b.done=le(a.done.slice(0),null,!0),b.undone=le(a.undone.slice(0),null,!0)},setGutterMarker:pd(function(a,b,c){return Ne(this,a,\x22gutter\x22,function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&w(d)&&(a.gutterMarkers=null),!0})}),clearGutter:pd(function(a){var b=this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&Ne(b,c,\x22gutter\x22,function(){return c.gutterMarkers[a]=null,w(c.gutterMarkers)&&(c.gutterMarkers=null),!0})})}),lineInfo:function(a){var b;if(\x22number\x22==typeof a){if(!H(this,a))return null;if(b=a,a=B(this,a),!a)return null}else if(b=F(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:pd(function(b,c,d){return Ne(this,b,\x22gutter\x22==c?\x22gutter\x22:\x22class\x22,function(b){var e=\x22text\x22==c?\x22textClass\x22:\x22background\x22==c?\x22bgClass\x22:\x22gutter\x22==c?\x22gutterClass\x22:\x22wrapClass\x22;if(b[e]){if(a(d).test(b[e]))return!1;b[e]+=\x22 \x22+d}else b[e]=d;return!0})}),removeLineClass:pd(function(b,c,d){return Ne(this,b,\x22gutter\x22==c?\x22gutter\x22:\x22class\x22,function(b){var e=\x22text\x22==c?\x22textClass\x22:\x22background\x22==c?\x22bgClass\x22:\x22gutter\x22==c?\x22gutterClass\x22:\x22wrapClass\x22,f=b[e];if(!f)return!1;if(null==d)b[e]=null;else{var g=f.match(a(d));if(!g)return!1;var h=g.index+g[0].length;b[e]=f.slice(0,g.index)+(g.index&&h!=f.length?\x22 \x22:\x22\x22)+f.slice(h)||null}return!0})}),addLineWidget:pd(function(a,b,c){return Re(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return Se(this,Q(this,a),Q(this,b),c,c&&c.type||\x22range\x22)},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};return a=Q(this,a),Se(this,a,a,c,\x22bookmark\x22)},findMarksAt:function(a){a=Q(this,a);var b=[],c=B(this,a.line).markedSpans;if(c)for(var d=0;d\x3cc.length;++d){var e=c[d];(null==e.from||e.from\x3c=a.ch)&&(null==e.to||e.to\x3e=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=Q(this,a),b=Q(this,b);var d=[],e=a.line;return this.iter(a.line,b.line+1,function(f){var g=f.markedSpans;if(g)for(var h=0;h\x3cg.length;h++){var i=g[h];null!=i.to&&e==a.line&&a.ch\x3e=i.to||null==i.from&&e!=a.line||null!=i.from&&e==b.line&&i.from\x3e=b.ch||c&&!c(i.marker)||d.push(i.marker.parent||i.marker)}++e}),d},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d\x3cc.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first,d=this.lineSeparator().length;return this.iter(function(e){var f=e.text.length+d;return f\x3ea?(b=a,!0):(a-=f,void++c)}),Q(this,J(c,b))},indexFromPos:function(a){a=Q(this,a);var b=a.ch;if(a.line\x3cthis.first||a.ch\x3c0)return 0;var c=this.lineSeparator().length;return this.iter(this.first,a.line,function(a){b+=a.text.length+c}),b},copy:function(a){var b=new Eh(D(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from\x3eb&&(b=a.from),null!=a.to&&a.to\x3cc&&(c=a.to);var d=new Eh(D(this,b,c),a.mode||this.modeOption,b,this.lineSep,this.direction);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],Ve(d,Ue(this)),d},unlinkDoc:function(a){var b=this;if(a instanceof Pf&&(a=a.doc),this.linked)for(var c=0;c\x3cthis.linked.length;++c){var d=b.linked[c];if(d.doc==a){b.linked.splice(c,1),a.unlinkDoc(b),We(Ue(b));break}}if(a.history==this.history){var e=[a.id];Xd(a,function(a){return e.push(a.id)},!0),a.history=new _d(null),a.history.done=le(this.history.done,e),a.history.undone=le(this.history.undone,e)}},iterLinkedDocs:function(a){Xd(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):$g(a)},lineSeparator:function(){return this.lineSep||\x22\x5cn\x22},setDirection:pd(function(a){\x22rtl\x22!=a&&(a=\x22ltr\x22),a!=this.direction&&(this.direction=a,this.iter(function(a){return a.order=null}),this.cm&&$d(this.cm))})}),Eh.prototype.eachLine=Eh.prototype.iter;for(var Fh=0,Gh=!1,Hh={3:\x22Enter\x22,8:\x22Backspace\x22,9:\x22Tab\x22,13:\x22Enter\x22,16:\x22Shift\x22,17:\x22Ctrl\x22,18:\x22Alt\x22,19:\x22Pause\x22,20:\x22CapsLock\x22,27:\x22Esc\x22,32:\x22Space\x22,33:\x22PageUp\x22,34:\x22PageDown\x22,35:\x22End\x22,36:\x22Home\x22,37:\x22Left\x22,38:\x22Up\x22,39:\x22Right\x22,40:\x22Down\x22,44:\x22PrintScrn\x22,45:\x22Insert\x22,46:\x22Delete\x22,59:\x22;\x22,61:\x22=\x22,91:\x22Mod\x22,92:\x22Mod\x22,93:\x22Mod\x22,106:\x22*\x22,107:\x22=\x22,109:\x22-\x22,110:\x22.\x22,111:\x22/\x22,127:\x22Delete\x22,173:\x22-\x22,186:\x22;\x22,187:\x22=\x22,188:\x22,\x22,189:\x22-\x22,190:\x22.\x22,191:\x22/\x22,192:\x22`\x22,219:\x22[\x22,220:\x22\x5c\x5c\x22,221:\x22]\x22,222:\x22\x27\x22,63232:\x22Up\x22,63233:\x22Down\x22,63234:\x22Left\x22,63235:\x22Right\x22,63272:\x22Delete\x22,63273:\x22Home\x22,63275:\x22End\x22,63276:\x22PageUp\x22,63277:\x22PageDown\x22,63302:\x22Insert\x22},Ih=0;Ih\x3c10;Ih++)Hh[Ih+48]=Hh[Ih+96]=String(Ih);for(var Jh=65;Jh\x3c=90;Jh++)Hh[Jh]=String.fromCharCode(Jh);for(var Kh=1;Kh\x3c=12;Kh++)Hh[Kh+111]=Hh[Kh+63235]=\x22F\x22+Kh;var Lh={};Lh.basic={Left:\x22goCharLeft\x22,Right:\x22goCharRight\x22,Up:\x22goLineUp\x22,Down:\x22goLineDown\x22,End:\x22goLineEnd\x22,Home:\x22goLineStartSmart\x22,PageUp:\x22goPageUp\x22,PageDown:\x22goPageDown\x22,Delete:\x22delCharAfter\x22,Backspace:\x22delCharBefore\x22,\x22Shift-Backspace\x22:\x22delCharBefore\x22,Tab:\x22defaultTab\x22,\x22Shift-Tab\x22:\x22indentAuto\x22,Enter:\x22newlineAndIndent\x22,Insert:\x22toggleOverwrite\x22,Esc:\x22singleSelection\x22},Lh.pcDefault={\x22Ctrl-A\x22:\x22selectAll\x22,\x22Ctrl-D\x22:\x22deleteLine\x22,\x22Ctrl-Z\x22:\x22undo\x22,\x22Shift-Ctrl-Z\x22:\x22redo\x22,\x22Ctrl-Y\x22:\x22redo\x22,\x22Ctrl-Home\x22:\x22goDocStart\x22,\x22Ctrl-End\x22:\x22goDocEnd\x22,\x22Ctrl-Up\x22:\x22goLineUp\x22,\x22Ctrl-Down\x22:\x22goLineDown\x22,\x22Ctrl-Left\x22:\x22goGroupLeft\x22,\x22Ctrl-Right\x22:\x22goGroupRight\x22,\x22Alt-Left\x22:\x22goLineStart\x22,\x22Alt-Right\x22:\x22goLineEnd\x22,\x22Ctrl-Backspace\x22:\x22delGroupBefore\x22,\x22Ctrl-Delete\x22:\x22delGroupAfter\x22,\x22Ctrl-S\x22:\x22save\x22,\x22Ctrl-F\x22:\x22find\x22,\x22Ctrl-G\x22:\x22findNext\x22,\x22Shift-Ctrl-G\x22:\x22findPrev\x22,\x22Shift-Ctrl-F\x22:\x22replace\x22,\x22Shift-Ctrl-R\x22:\x22replaceAll\x22,\x22Ctrl-[\x22:\x22indentLess\x22,\x22Ctrl-]\x22:\x22indentMore\x22,\x22Ctrl-U\x22:\x22undoSelection\x22,\x22Shift-Ctrl-U\x22:\x22redoSelection\x22,\x22Alt-U\x22:\x22redoSelection\x22,fallthrough:\x22basic\x22},Lh.emacsy={\x22Ctrl-F\x22:\x22goCharRight\x22,\x22Ctrl-B\x22:\x22goCharLeft\x22,\x22Ctrl-P\x22:\x22goLineUp\x22,\x22Ctrl-N\x22:\x22goLineDown\x22,\x22Alt-F\x22:\x22goWordRight\x22,\x22Alt-B\x22:\x22goWordLeft\x22,\x22Ctrl-A\x22:\x22goLineStart\x22,\x22Ctrl-E\x22:\x22goLineEnd\x22,\x22Ctrl-V\x22:\x22goPageDown\x22,\x22Shift-Ctrl-V\x22:\x22goPageUp\x22,\x22Ctrl-D\x22:\x22delCharAfter\x22,\x22Ctrl-H\x22:\x22delCharBefore\x22,\x22Alt-D\x22:\x22delWordAfter\x22,\x22Alt-Backspace\x22:\x22delWordBefore\x22,\x22Ctrl-K\x22:\x22killLine\x22,\x22Ctrl-T\x22:\x22transposeChars\x22,\x22Ctrl-O\x22:\x22openLine\x22},Lh.macDefault={\x22Cmd-A\x22:\x22selectAll\x22,\x22Cmd-D\x22:\x22deleteLine\x22,\x22Cmd-Z\x22:\x22undo\x22,\x22Shift-Cmd-Z\x22:\x22redo\x22,\x22Cmd-Y\x22:\x22redo\x22,\x22Cmd-Home\x22:\x22goDocStart\x22,\x22Cmd-Up\x22:\x22goDocStart\x22,\x22Cmd-End\x22:\x22goDocEnd\x22,\x22Cmd-Down\x22:\x22goDocEnd\x22,\x22Alt-Left\x22:\x22goGroupLeft\x22,\x22Alt-Right\x22:\x22goGroupRight\x22,\x22Cmd-Left\x22:\x22goLineLeft\x22,\x22Cmd-Right\x22:\x22goLineRight\x22,\x22Alt-Backspace\x22:\x22delGroupBefore\x22,\x22Ctrl-Alt-Backspace\x22:\x22delGroupAfter\x22,\x22Alt-Delete\x22:\x22delGroupAfter\x22,\x22Cmd-S\x22:\x22save\x22,\x22Cmd-F\x22:\x22find\x22,\x22Cmd-G\x22:\x22findNext\x22,\x22Shift-Cmd-G\x22:\x22findPrev\x22,\x22Cmd-Alt-F\x22:\x22replace\x22,\x22Shift-Cmd-Alt-F\x22:\x22replaceAll\x22,\x22Cmd-[\x22:\x22indentLess\x22,\x22Cmd-]\x22:\x22indentMore\x22,\x22Cmd-Backspace\x22:\x22delWrappedLineLeft\x22,\x22Cmd-Delete\x22:\x22delWrappedLineRight\x22,\x22Cmd-U\x22:\x22undoSelection\x22,\x22Shift-Cmd-U\x22:\x22redoSelection\x22,\x22Ctrl-Up\x22:\x22goDocStart\x22,\x22Ctrl-Down\x22:\x22goDocEnd\x22,fallthrough:[\x22basic\x22,\x22emacsy\x22]},Lh[\x22default\x22]=zg?Lh.macDefault:Lh.pcDefault;var Mh={selectAll:Be,singleSelection:function(a){return a.setSelection(a.getCursor(\x22anchor\x22),a.getCursor(\x22head\x22),Ng)},killLine:function(a){return lf(a,function(b){if(b.empty()){var c=B(a.doc,b.head.line).text.length;\x0areturn b.head.ch==c&&b.head.line\x3ca.lastLine()?{from:b.head,to:J(b.head.line+1,0)}:{from:b.head,to:J(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){return lf(a,function(b){return{from:J(b.from().line,0),to:Q(a.doc,J(b.to().line+1,0))}})},delLineLeft:function(a){return lf(a,function(a){return{from:J(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){return lf(a,function(b){var c=a.charCoords(b.head,\x22div\x22).top+5,d=a.coordsChar({left:0,top:c},\x22div\x22);return{from:d,to:b.from()}})},delWrappedLineRight:function(a){return lf(a,function(b){var c=a.charCoords(b.head,\x22div\x22).top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},\x22div\x22);return{from:b.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(J(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(J(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(b){return mf(a,b.head.line)},{origin:\x22+move\x22,bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(b){return of(a,b.head)},{origin:\x22+move\x22,bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(b){return nf(a,b.head.line)},{origin:\x22+move\x22,bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,\x22div\x22).top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},\x22div\x22)},Pg)},goLineLeft:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,\x22div\x22).top+5;return a.coordsChar({left:0,top:c},\x22div\x22)},Pg)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,\x22div\x22).top+5,d=a.coordsChar({left:0,top:c},\x22div\x22);return d.ch\x3ca.getLine(d.line).search(/\x5cS/)?of(a,b.head):d},Pg)},goLineUp:function(a){return a.moveV(-1,\x22line\x22)},goLineDown:function(a){return a.moveV(1,\x22line\x22)},goPageUp:function(a){return a.moveV(-1,\x22page\x22)},goPageDown:function(a){return a.moveV(1,\x22page\x22)},goCharLeft:function(a){return a.moveH(-1,\x22char\x22)},goCharRight:function(a){return a.moveH(1,\x22char\x22)},goColumnLeft:function(a){return a.moveH(-1,\x22column\x22)},goColumnRight:function(a){return a.moveH(1,\x22column\x22)},goWordLeft:function(a){return a.moveH(-1,\x22word\x22)},goGroupRight:function(a){return a.moveH(1,\x22group\x22)},goGroupLeft:function(a){return a.moveH(-1,\x22group\x22)},goWordRight:function(a){return a.moveH(1,\x22word\x22)},delCharBefore:function(a){return a.deleteH(-1,\x22char\x22)},delCharAfter:function(a){return a.deleteH(1,\x22char\x22)},delWordBefore:function(a){return a.deleteH(-1,\x22word\x22)},delWordAfter:function(a){return a.deleteH(1,\x22word\x22)},delGroupBefore:function(a){return a.deleteH(-1,\x22group\x22)},delGroupAfter:function(a){return a.deleteH(1,\x22group\x22)},indentAuto:function(a){return a.indentSelection(\x22smart\x22)},indentMore:function(a){return a.indentSelection(\x22add\x22)},indentLess:function(a){return a.indentSelection(\x22subtract\x22)},insertTab:function(a){return a.replaceSelection(\x22\x5ct\x22)},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e\x3cc.length;e++){var f=c[e].from(),g=l(a.getLine(f.line),f.ch,d);b.push(o(d-g%d))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection(\x22add\x22):a.execCommand(\x22insertTab\x22)},transposeChars:function(a){return md(a,function(){for(var b=a.listSelections(),c=[],d=0;d\x3cb.length;d++)if(b[d].empty()){var e=b[d].head,f=B(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new J(e.line,e.ch-1)),e.ch\x3e0)e=new J(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),J(e.line,e.ch-2),e,\x22+transpose\x22);else if(e.line\x3ea.doc.first){var g=B(a.doc,e.line-1).text;g&&(e=new J(e.line,1),a.replaceRange(f.charAt(0)+a.doc.lineSeparator()+g.charAt(g.length-1),J(e.line-1,g.length-1),e,\x22+transpose\x22))}c.push(new yh(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){return md(a,function(){for(var b=a.listSelections(),c=b.length-1;c\x3e=0;c--)a.replaceRange(a.doc.lineSeparator(),b[c].anchor,b[c].head,\x22+input\x22);b=a.listSelections();for(var d=0;d\x3cb.length;d++)a.indentLine(b[d].from().line,null,!0);Uc(a)})},openLine:function(a){return a.replaceSelection(\x22\x5cn\x22,\x22start\x22)},toggleOverwrite:function(a){return a.toggleOverwrite()}},Nh=new Ig,Oh=null,Ph=400,Qh=function(a,b,c){this.time=a,this.pos=b,this.button=c};Qh.prototype.compare=function(a,b,c){return this.time+Ph\x3ea&&0==K(b,this.pos)&&c==this.button};var Rh,Sh,Th={toString:function(){return\x22CodeMirror.Init\x22}},Uh={},Vh={};Pf.defaults=Uh,Pf.optionHandlers=Vh;var Wh=[];Pf.defineInitHook=function(a){return Wh.push(a)};var Xh=null,Yh=function(a){var b=a.optionHandlers,c=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(a,c){var d=this.options,e=d[a];d[a]==c&&\x22mode\x22!=a||(d[a]=c,b.hasOwnProperty(a)&&nd(this,b[a])(this,c,e),Ea(this,\x22optionChange\x22,this,a))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?\x22push\x22:\x22unshift\x22](kf(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c\x3cb.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:od(function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw new Error(\x22Overlays may not be stateful.\x22);r(this.state.overlays,{mode:d,modeSpec:b,opaque:c&&c.opaque,priority:c&&c.priority||0},function(a){return a.priority}),this.state.modeGen++,qd(this)}),removeOverlay:od(function(a){for(var b=this,c=this.state.overlays,d=0;d\x3cc.length;++d){var e=c[d].modeSpec;if(e==a||\x22string\x22==typeof a&&e.name==a)return c.splice(d,1),b.state.modeGen++,void qd(b)}}),indentLine:od(function(a,b,c){\x22string\x22!=typeof b&&\x22number\x22!=typeof b&&(b=null==b?this.options.smartIndent?\x22smart\x22:\x22prev\x22:b?\x22add\x22:\x22subtract\x22),H(this.doc,a)&&Rf(this,a,b,c)}),indentSelection:od(function(a){for(var b=this,c=this.doc.sel.ranges,d=-1,e=0;e\x3cc.length;e++){var f=c[e];if(f.empty())f.head.line\x3ed&&(Rf(b,f.head.line,a,!0),d=f.head.line,e==b.doc.sel.primIndex&&Uc(b));else{var g=f.from(),h=f.to(),i=Math.max(d,g.line);d=Math.min(b.lastLine(),h.line-(h.ch?0:1))+1;for(var j=i;j\x3cd;++j)Rf(b,j,a);var k=b.doc.sel.ranges;0==g.ch&&c.length==k.length&&k[e].from().ch\x3e0&&pe(b.doc,e,new yh(g,k[e].to()),Ng)}}}),getTokenAt:function(a,b){return eb(this,a,b)},getLineTokens:function(a,b){return eb(this,J(a),b,!0)},getTokenTypeAt:function(a){a=Q(this.doc,a);var b,c=_a(this,B(this.doc,a.line)),d=0,e=(c.length-1)/2,f=a.ch;if(0==f)b=c[2];else for(;;){var g=d+e\x3e\x3e1;if((g?c[2*g-1]:0)\x3e=f)e=g;else{if(!(c[2*g+1]\x3cf)){b=c[2*g+2];break}d=g+1}}var h=b?b.indexOf(\x22overlay \x22):-1;return h\x3c0?b:0==h?null:b.slice(0,h-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var d=this,e=[];if(!c.hasOwnProperty(b))return e;var f=c[b],g=this.getModeAt(a);if(\x22string\x22==typeof g[b])f[g[b]]&&e.push(f[g[b]]);else if(g[b])for(var h=0;h\x3cg[b].length;h++){var i=f[g[b][h]];i&&e.push(i)}else g.helperType&&f[g.helperType]?e.push(f[g.helperType]):f[g.name]&&e.push(f[g.name]);for(var j=0;j\x3cf._global.length;j++){var k=f._global[j];k.pred(g,d)&&m(e,k.val)==-1&&e.push(k.val)}return e},getStateAfter:function(a,b){var c=this.doc;return a=P(c,null==a?c.first+c.size-1:a),ab(this,a+1,b).state},cursorCoords:function(a,b){var c,d=this.doc.sel.primary();return c=null==a?d.head:\x22object\x22==typeof a?Q(this.doc,a):a?d.from():d.to(),lc(this,c,b||\x22page\x22)},charCoords:function(a,b){return kc(this,Q(this.doc,a),b||\x22page\x22)},coordsChar:function(a,b){return a=jc(this,a,b||\x22page\x22),oc(this,a.left,a.top)},lineAtHeight:function(a,b){return a=jc(this,{top:a,left:0},b||\x22page\x22).top,G(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b,c){var d,e=!1;if(\x22number\x22==typeof a){var f=this.doc.first+this.doc.size-1;a\x3cthis.doc.first?a=this.doc.first:a\x3ef&&(a=f,e=!0),d=B(this.doc,a)}else d=a;return ic(this,d,{top:0,left:0},b||\x22page\x22,c||e).top+(e?this.doc.height-sa(d):0)},defaultTextHeight:function(){return sc(this.display)},defaultCharWidth:function(){return tc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=lc(this,Q(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position=\x22absolute\x22,b.setAttribute(\x22cm-ignore-events\x22,\x22true\x22),this.display.input.setUneditable(b),f.sizer.appendChild(b),\x22over\x22==d)g=a.top;else if(\x22above\x22==d||\x22near\x22==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);(\x22above\x22==d||a.bottom+b.offsetHeight\x3ei)&&a.top\x3eb.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight\x3c=i&&(g=a.bottom),h+b.offsetWidth\x3ej&&(h=j-b.offsetWidth)}b.style.top=g+\x22px\x22,b.style.left=b.style.right=\x22\x22,\x22right\x22==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right=\x220px\x22):(\x22left\x22==e?h=0:\x22middle\x22==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+\x22px\x22),c&&Rc(this,{left:h,top:g,right:h+b.offsetWidth,bottom:g+b.offsetHeight})},triggerOnKeyDown:od(uf),triggerOnKeyPress:od(xf),triggerOnKeyUp:wf,triggerOnMouseDown:od(zf),execCommand:function(a){if(Mh.hasOwnProperty(a))return Mh[a].call(null,this)},triggerElectric:od(function(a){Vf(this,a)}),findPosH:function(a,b,c,d){var e=this,f=1;b\x3c0&&(f=-1,b=-b);for(var g=Q(this.doc,a),h=0;h\x3cb&&(g=Zf(e.doc,g,f,c,d),!g.hitSide);++h);return g},moveH:od(function(a,b){var c=this;this.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?Zf(c.doc,d.head,a,b,c.options.rtlMoveVisually):a\x3c0?d.from():d.to()},Pg)}),deleteH:od(function(a,b){var c=this.doc.sel,d=this.doc;c.somethingSelected()?d.replaceSelection(\x22\x22,null,\x22+delete\x22):lf(this,function(c){var e=Zf(d,c.head,a,b,!1);return a\x3c0?{from:e,to:c.head}:{from:c.head,to:e}})}),findPosV:function(a,b,c,d){var e=this,f=1,g=d;b\x3c0&&(f=-1,b=-b);for(var h=Q(this.doc,a),i=0;i\x3cb;++i){var j=lc(e,h,\x22div\x22);if(null==g?g=j.left:j.left=g,h=$f(e,j,f,c),h.hitSide)break}return h},moveV:od(function(a,b){var c=this,d=this.doc,e=[],f=!this.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(g){if(f)return a\x3c0?g.from():g.to();var h=lc(c,g.head,\x22div\x22);null!=g.goalColumn&&(h.left=g.goalColumn),e.push(h.left);var i=$f(c,h,a,b);return\x22page\x22==b&&g==d.sel.primary()&&Tc(c,kc(c,i,\x22div\x22).top-h.top),i},Pg),e.length)for(var g=0;g\x3cd.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),findWordAt:function(a){var b=this.doc,c=B(b,a.line).text,d=a.ch,e=a.ch;if(c){var f=this.getHelper(a,\x22wordChars\x22);\x22before\x22!=a.sticky&&e!=c.length||!d?++e:--d;for(var g=c.charAt(d),h=v(g,f)?function(a){return v(a,f)}:/\x5cs/.test(g)?function(a){return/\x5cs/.test(a)}:function(a){return!/\x5cs/.test(a)&&!v(a)};d\x3e0&&h(c.charAt(d-1));)--d;for(;e\x3cc.length&&h(c.charAt(e));)++e}return new yh(J(a.line,d),J(a.line,e))},toggleOverwrite:function(a){null!=a&&a==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?h(this.display.cursorDiv,\x22CodeMirror-overwrite\x22):Gg(this.display.cursorDiv,\x22CodeMirror-overwrite\x22),Ea(this,\x22overwriteToggle\x22,this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==g()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:od(function(a,b){Vc(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-Rb(this)-this.display.barHeight,width:a.scrollWidth-Rb(this)-this.display.barWidth,clientHeight:Tb(this),clientWidth:Sb(this)}},scrollIntoView:od(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):\x22number\x22==typeof a?a={from:J(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=b||0,null!=a.from.line?Wc(this,a):Yc(this,a.from,a.to,a.margin)}),setSize:od(function(a,b){var c=this,d=function(a){return\x22number\x22==typeof a||/^\x5cd+$/.test(String(a))?a+\x22px\x22:a};null!=a&&(this.display.wrapper.style.width=d(a)),null!=b&&(this.display.wrapper.style.height=d(b)),this.options.lineWrapping&&ec(this);var e=this.display.viewFrom;this.doc.iter(e,this.display.viewTo,function(a){if(a.widgets)for(var b=0;b\x3ca.widgets.length;b++)if(a.widgets[b].noHScroll){rd(c,e,\x22widget\x22);break}++e}),this.curOp.forceUpdate=!0,Ea(this,\x22refresh\x22,this)}),operation:function(a){return md(this,a)},startOperation:function(){return ed(this)},endOperation:function(){return fd(this)},refresh:od(function(){var a=this.display.cachedTextHeight;qd(this),this.curOp.forceUpdate=!0,fc(this),Vc(this,this.doc.scrollLeft,this.doc.scrollTop),Fd(this),(null==a||Math.abs(a-sc(this.display))\x3e.5)&&xc(this),Ea(this,\x22refresh\x22,this)}),swapDoc:od(function(a){var b=this.doc;return b.cm=null,Yd(this,a),fc(this),this.display.input.reset(),Vc(this,a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,yb(this,\x22swapDoc\x22,this,b),b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ia(a),a.registerHelper=function(b,d,e){c.hasOwnProperty(b)||(c[b]=a[b]={_global:[]}),c[b][d]=e},a.registerGlobalHelper=function(b,d,e,f){a.registerHelper(b,d,f),c[b]._global.push({pred:e,val:f})}},Zh=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ig,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Zh.prototype.init=function(a){function b(a){if(!Fa(e,a)){if(e.somethingSelected())Sf({lineWise:!1,text:e.getSelections()}),\x22cut\x22==a.type&&e.replaceSelection(\x22\x22,null,\x22cut\x22);else{if(!e.options.lineWiseCopyCut)return;var b=Wf(e);Sf({lineWise:!0,text:b.text}),\x22cut\x22==a.type&&e.operation(function(){e.setSelections(b.ranges,0,Ng),e.replaceSelection(\x22\x22,null,\x22cut\x22)})}if(a.clipboardData){a.clipboardData.clearData();var c=Xh.text.join(\x22\x5cn\x22);if(a.clipboardData.setData(\x22Text\x22,c),a.clipboardData.getData(\x22Text\x22)==c)return void a.preventDefault()}var g=Yf(),h=g.firstChild;e.display.lineSpace.insertBefore(g,e.display.lineSpace.firstChild),h.value=Xh.text.join(\x22\x5cn\x22);var i=document.activeElement;Hg(h),setTimeout(function(){e.display.lineSpace.removeChild(g),i.focus(),i==f&&d.showPrimarySelection()},50)}}var c=this,d=this,e=d.cm,f=d.div=a.lineDiv;Xf(f,e.options.spellcheck),Yg(f,\x22paste\x22,function(a){Fa(e,a)||Uf(a,e)||og\x3c=11&&setTimeout(nd(e,function(){return c.updateFromDOM()}),20)}),Yg(f,\x22compositionstart\x22,function(a){c.composing={data:a.data,done:!1}}),Yg(f,\x22compositionupdate\x22,function(a){c.composing||(c.composing={data:a.data,done:!1})}),Yg(f,\x22compositionend\x22,function(a){c.composing&&(a.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),Yg(f,\x22touchstart\x22,function(){return d.forceCompositionEnd()}),Yg(f,\x22input\x22,function(){c.composing||c.readFromDOMSoon()}),Yg(f,\x22copy\x22,b),Yg(f,\x22cut\x22,b)},Zh.prototype.prepareSelection=function(){var a=Bc(this.cm,!1);return a.focus=this.cm.state.focused,a},Zh.prototype.showSelection=function(a,b){a&&this.cm.display.view.length&&((a.focus||b)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Zh.prototype.showPrimarySelection=function(){var a=window.getSelection(),b=this.cm,c=b.doc.sel.primary()'}